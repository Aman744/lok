(self.webpackChunklokmanthan_dash=self.webpackChunklokmanthan_dash||[]).push([[792],{504:(gi,gr,ft)=>{"use strict";ft.d(gr,{$:()=>$_,A:()=>Ee,G:()=>zt,K:()=>M_,L:()=>Jo,N:()=>ro,P:()=>Qi,R:()=>yw,U:()=>Tt,V:()=>Vs,W:()=>Tn,X:()=>Zu,Y:()=>Bf,Z:()=>Wi,_:()=>Xo,a:()=>Zf,a0:()=>Dc,a1:()=>td,a2:()=>W_,a3:()=>q_,a4:()=>aw,a5:()=>hs,a6:()=>K_,a7:()=>lw,a8:()=>_r,a9:()=>$t,aA:()=>mc,aB:()=>Bt,aC:()=>G,aD:()=>yp,aE:()=>ve,aF:()=>pn,aG:()=>mp,aH:()=>Ey,aI:()=>Tw,aJ:()=>yn,aN:()=>vi,aQ:()=>ka,aa:()=>Ls,ab:()=>yi,ac:()=>El,ad:()=>ta,ae:()=>wl,af:()=>Tl,ag:()=>Rc,ah:()=>so,ak:()=>So,al:()=>Nc,am:()=>un,ap:()=>sw,aq:()=>qi,as:()=>UR,at:()=>ny,au:()=>Ue,av:()=>gc,aw:()=>At,ax:()=>Lt,ay:()=>Pl,az:()=>vp,b:()=>Ro,c:()=>_y,d:()=>vy,e:()=>yy,f:()=>Iw,g:()=>Iy,h:()=>dn,i:()=>ld,j:()=>gp,k:()=>$a,l:()=>lp,m:()=>YR,o:()=>Fy,p:()=>Nn,r:()=>ao,s:()=>gy,u:()=>up});var N=ft(467),Oe=ft(852),O=ft(76),Be=ft(41),Vt=ft(635),Un=ft(362);const Nn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const zt=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Pn=function St(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gt=new O.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dt=new Be.Vy("@firebase/auth");function Fn(p,...u){Dt.logLevel<=Be.$b.ERROR&&Dt.error(`Auth (${Oe.SDK_VERSION}): ${p}`,...u)}function Lt(p,...u){throw Z(p,...u)}function Bt(p,...u){return Z(p,...u)}function Yn(p,u,h){const m=Object.assign(Object.assign({},Pn()),{[u]:h});return new O.FA("auth","Firebase",m).create(u,{appName:p.name})}function pt(p){return Yn(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W(p,u,h){if(!(u instanceof h))throw h.name!==u.constructor.name&&Lt(p,"argument-error"),Yn(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z(p,...u){if("string"!=typeof p){const h=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(h,...m)}return Gt.create(p,...u)}function G(p,u,...h){if(!p)throw Z(u,...h)}function Fe(p){const u="INTERNAL ASSERTION FAILED: "+p;throw Fn(u),new Error(u)}function Ue(p,u){p||Fe(u)}function nt(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Ct(){return"http:"===wn()||"https:"===wn()}function wn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class ln{constructor(u,h){this.shortDelay=u,this.longDelay=h,Ue(h>u,"Short delay should be less than long delay!"),this.isMobile=(0,O.jZ)()||(0,O.lV)()}get(){return function tt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,O.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mt(p,u){Ue(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return u?`${h}${u.startsWith("/")?u.slice(1):u}`:h}class re{static initialize(u,h,m){this.fetchImpl=u,h&&(this.headersImpl=h),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},J=new ln(3e4,6e4);function ee(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function oe(p,u,h,m){return ae.apply(this,arguments)}function ae(){return(ae=(0,N.A)(function*(p,u,h,m,E={}){return ze(p,E,(0,N.A)(function*(){let C={},H={};m&&("GET"===u?H=m:C={body:JSON.stringify(m)});const le=(0,O.Am)(Object.assign({key:p.config.apiKey},H)).slice(1),Te=yield p._getAdditionalHeaders();Te["Content-Type"]="application/json",p.languageCode&&(Te["X-Firebase-Locale"]=p.languageCode);const rt=Object.assign({method:u,headers:Te},C);return(0,O.c1)()||(rt.referrerPolicy="no-referrer"),re.fetch()(dt(p,p.config.apiHost,h,le),rt)}))})).apply(this,arguments)}function ze(p,u,h){return xe.apply(this,arguments)}function xe(){return(xe=(0,N.A)(function*(p,u,h){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},K),u);try{const E=new fn(p),C=yield Promise.race([h(),E.promise]);E.clearNetworkTimeout();const H=yield C.json();if("needConfirmation"in H)throw at(p,"account-exists-with-different-credential",H);if(C.ok&&!("errorMessage"in H))return H;{const le=C.ok?H.errorMessage:H.error.message,[Te,rt]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Te)throw at(p,"credential-already-in-use",H);if("EMAIL_EXISTS"===Te)throw at(p,"email-already-in-use",H);if("USER_DISABLED"===Te)throw at(p,"user-disabled",H);const yt=m[Te]||Te.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Yn(p,yt,rt);Lt(p,yt)}}catch(E){if(E instanceof O.g)throw E;Lt(p,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function Et(p,u,h,m){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,N.A)(function*(p,u,h,m,E={}){const C=yield oe(p,u,h,m,E);return"mfaPendingCredential"in C&&Lt(p,"multi-factor-auth-required",{_serverResponse:C}),C})).apply(this,arguments)}function dt(p,u,h,m){const E=`${u}${h}?${m}`;return p.config.emulator?mt(p.config,E):`${p.config.apiScheme}://${E}`}function wt(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((h,m)=>{this.timer=setTimeout(()=>m(Bt(this.auth,"network-request-failed")),J.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function at(p,u,h){const m={appName:p.name};h.email&&(m.email=h.email),h.phoneNumber&&(m.phoneNumber=h.phoneNumber);const E=Bt(p,u,m);return E.customData._tokenResponse=h,E}function q(p){return void 0!==p&&void 0!==p.getResponse}function j(p){return void 0!==p&&void 0!==p.enterprise}class te{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===u)return wt(h.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Me(){return(Me=(0,N.A)(function*(p){return(yield oe(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function we(p,u){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,N.A)(function*(p,u){return oe(p,"GET","/v2/recaptchaConfig",ee(p,u))})).apply(this,arguments)}function gt(){return(gt=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Cn(){return(Cn=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function qt(p,u){return jn.apply(this,arguments)}function jn(){return(jn=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function sn(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Kt(){return(Kt=(0,N.A)(function*(p,u=!1){const h=(0,O.Ku)(p),m=yield h.getIdToken(u),E=ur(m);G(E&&E.exp&&E.auth_time&&E.iat,h.auth,"internal-error");const C="object"==typeof E.firebase?E.firebase:void 0,H=C?.sign_in_provider;return{claims:E,token:m,authTime:sn(Xt(E.auth_time)),issuedAtTime:sn(Xt(E.iat)),expirationTime:sn(Xt(E.exp)),signInProvider:H||null,signInSecondFactor:C?.sign_in_second_factor||null}})).apply(this,arguments)}function Xt(p){return 1e3*Number(p)}function ur(p){const[u,h,m]=p.split(".");if(void 0===u||void 0===h||void 0===m)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,O.u)(h);return E?JSON.parse(E):(Fn("Failed to decode base64 JWT payload"),null)}catch(E){return Fn("Caught error parsing JWT payload as JSON",E?.toString()),null}}function Yr(p){const u=ur(p);return G(u,"internal-error"),G(typeof u.exp<"u","internal-error"),G(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Ut(p,u){return Si.apply(this,arguments)}function Si(){return(Si=(0,N.A)(function*(p,u,h=!1){if(h)return u;try{return yield u}catch(m){throw m instanceof O.g&&function Ri({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class eo{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var h;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const E=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(u=!1){var h=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,N.A)(function*(){yield h.iteration()}),m)}iteration(){var u=this;return(0,N.A)(function*(){try{yield u.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&u.schedule(!0))}u.schedule()})()}}class Wn{constructor(u,h){this.createdAt=u,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=sn(this.lastLoginAt),this.creationTime=sn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tr(p){return mi.apply(this,arguments)}function mi(){return(mi=(0,N.A)(function*(p){var u;const h=p.auth,m=yield p.getIdToken(),E=yield Ut(p,qt(h,{idToken:m}));G(E?.users.length,h,"internal-error");const C=E.users[0];p._notifyReloadListener(C);const H=null!==(u=C.providerUserInfo)&&void 0!==u&&u.length?Ra(C.providerUserInfo):[],le=function Io(p,u){return[...p.filter(m=>!u.some(E=>E.providerId===m.providerId)),...u]}(p.providerData,H),yt=!!p.isAnonymous&&!(p.email&&C.passwordHash||le?.length),an={uid:C.localId,displayName:C.displayName||null,photoURL:C.photoUrl||null,email:C.email||null,emailVerified:C.emailVerified||!1,phoneNumber:C.phoneNumber||null,tenantId:C.tenantId||null,providerData:le,metadata:new Wn(C.createdAt,C.lastLoginAt),isAnonymous:yt};Object.assign(p,an)})).apply(this,arguments)}function to(){return(to=(0,N.A)(function*(p){const u=(0,O.Ku)(p);yield Tr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Ra(p){return p.map(u=>{var{providerId:h}=u,m=(0,Vt.Tt)(u,["providerId"]);return{providerId:h,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}function no(){return(no=(0,N.A)(function*(p,u){const h=yield ze(p,{},(0,N.A)(function*(){const m=(0,O.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:E,apiKey:C}=p.config,H=dt(p,E,"/v1/token",`key=${C}`),le=yield p._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",re.fetch()(H,{method:"POST",headers:le,body:m})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,N.A)(function*(p,u){return oe(p,"POST","/v2/accounts:revokeToken",ee(p,u))})).apply(this,arguments)}class w{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){G(u.idToken,"internal-error"),G(typeof u.idToken<"u","internal-error"),G(typeof u.refreshToken<"u","internal-error");const h="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Yr(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,h)}updateFromIdToken(u){G(0!==u.length,"internal-error");const h=Yr(u);this.updateTokensAndExpiration(u,null,h)}getToken(u,h=!1){var m=this;return(0,N.A)(function*(){return h||!m.accessToken||m.isExpired?(G(m.refreshToken,u,"user-token-expired"),m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null):m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,h){var m=this;return(0,N.A)(function*(){const{accessToken:E,refreshToken:C,expiresIn:H}=yield function Na(p,u){return no.apply(this,arguments)}(u,h);m.updateTokensAndExpiration(E,C,Number(H))})()}updateTokensAndExpiration(u,h,m){this.refreshToken=h||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,h){const{refreshToken:m,accessToken:E,expirationTime:C}=h,H=new w;return m&&(G("string"==typeof m,"internal-error",{appName:u}),H.refreshToken=m),E&&(G("string"==typeof E,"internal-error",{appName:u}),H.accessToken=E),C&&(G("number"==typeof C,"internal-error",{appName:u}),H.expirationTime=C),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new w,this.toJSON())}_performRefresh(){return Fe("not implemented")}}function T(p,u){G("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class M{constructor(u){var{uid:h,auth:m,stsTokenManager:E}=u,C=(0,Vt.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=m,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=C.displayName||null,this.email=C.email||null,this.emailVerified=C.emailVerified||!1,this.phoneNumber=C.phoneNumber||null,this.photoURL=C.photoURL||null,this.isAnonymous=C.isAnonymous||!1,this.tenantId=C.tenantId||null,this.providerData=C.providerData?[...C.providerData]:[],this.metadata=new Wn(C.createdAt||void 0,C.lastLoginAt||void 0)}getIdToken(u){var h=this;return(0,N.A)(function*(){const m=yield Ut(h,h.stsTokenManager.getToken(h.auth,u));return G(m,h.auth,"internal-error"),h.accessToken!==m&&(h.accessToken=m,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),m})()}getIdTokenResult(u){return function Jt(p){return Kt.apply(this,arguments)}(this,u)}reload(){return function Yo(p){return to.apply(this,arguments)}(this)}_assign(u){this!==u&&(G(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(h=>Object.assign({},h)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const h=new M(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(u){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,h=!1){var m=this;return(0,N.A)(function*(){let E=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),E=!0),h&&(yield Tr(m)),yield m.auth._persistUserIfCurrent(m),E&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,N.A)(function*(){if((0,Oe._isFirebaseServerApp)(u.auth.app))return Promise.reject(pt(u.auth));const h=yield u.getIdToken();return yield Ut(u,function Nt(p,u){return gt.apply(this,arguments)}(u.auth,{idToken:h})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,h){var m,E,C,H,le,Te,rt,yt;const an=null!==(m=h.displayName)&&void 0!==m?m:void 0,Mi=null!==(E=h.email)&&void 0!==E?E:void 0,oa=null!==(C=h.phoneNumber)&&void 0!==C?C:void 0,Ha=null!==(H=h.photoURL)&&void 0!==H?H:void 0,aa=null!==(le=h.tenantId)&&void 0!==le?le:void 0,Pp=null!==(Te=h._redirectEventId)&&void 0!==Te?Te:void 0,Mp=null!==(rt=h.createdAt)&&void 0!==rt?rt:void 0,Op=null!==(yt=h.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:za,emailVerified:Ly,isAnonymous:bi,providerData:xp,stsTokenManager:Dr}=h;G(za&&Dr,u,"internal-error");const kp=w.fromJSON(this.name,Dr);G("string"==typeof za,u,"internal-error"),T(an,u.name),T(Mi,u.name),G("boolean"==typeof Ly,u,"internal-error"),G("boolean"==typeof bi,u,"internal-error"),T(oa,u.name),T(Ha,u.name),T(aa,u.name),T(Pp,u.name),T(Mp,u.name),T(Op,u.name);const Fp=new M({uid:za,auth:u,email:Mi,emailVerified:Ly,displayName:an,isAnonymous:bi,photoURL:Ha,phoneNumber:oa,tenantId:aa,stsTokenManager:kp,createdAt:Mp,lastLoginAt:Op});return xp&&Array.isArray(xp)&&(Fp.providerData=xp.map(By=>Object.assign({},By))),Pp&&(Fp._redirectEventId=Pp),Fp}static _fromIdTokenResponse(u,h,m=!1){return(0,N.A)(function*(){const E=new w;E.updateFromServerResponse(h);const C=new M({uid:h.localId,auth:u,stsTokenManager:E,isAnonymous:m});return yield Tr(C),C})()}static _fromGetAccountInfoResponse(u,h,m){return(0,N.A)(function*(){const E=h.users[0];G(void 0!==E.localId,"internal-error");const C=void 0!==E.providerUserInfo?Ra(E.providerUserInfo):[],H=!(E.email&&E.passwordHash||C?.length),le=new w;le.updateFromIdToken(m);const Te=new M({uid:E.localId,auth:u,stsTokenManager:le,isAnonymous:H}),rt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:C,metadata:new Wn(E.createdAt,E.lastLoginAt),isAnonymous:!(E.email&&E.passwordHash||C?.length)};return Object.assign(Te,rt),Te})()}}const L=new Map;function ve(p){Ue(p instanceof Function,"Expected a class definition");let u=L.get(p);return u?(Ue(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,L.set(p,u),u)}const Tt=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,N.A)(function*(){return!0})()}_set(h,m){var E=this;return(0,N.A)(function*(){E.storage[h]=m})()}_get(h){var m=this;return(0,N.A)(function*(){const E=m.storage[h];return void 0===E?null:E})()}_remove(h){var m=this;return(0,N.A)(function*(){delete m.storage[h]})()}_addListener(h,m){}_removeListener(h,m){}}return p.type="NONE",p})();function pn(p,u,h){return`firebase:${p}:${u}:${h}`}class ct{constructor(u,h,m){this.persistence=u,this.auth=h,this.userKey=m;const{config:E,name:C}=this.auth;this.fullUserKey=pn(this.userKey,E.apiKey,C),this.fullPersistenceKey=pn("persistence",E.apiKey,C),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,N.A)(function*(){const h=yield u.persistence._get(u.fullUserKey);return h?M._fromJSON(u.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var h=this;return(0,N.A)(function*(){if(h.persistence===u)return;const m=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=u,m?h.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,h,m="authUser"){return(0,N.A)(function*(){if(!h.length)return new ct(ve(Tt),u,m);const E=(yield Promise.all(h.map(function(){var rt=(0,N.A)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let C=E[0]||ve(Tt);const H=pn(m,u.config.apiKey,u.name);let le=null;for(const rt of h)try{const yt=yield rt._get(H);if(yt){const an=M._fromJSON(u,yt);rt!==C&&(le=an),C=rt;break}}catch{}const Te=E.filter(rt=>rt._shouldAllowMigration);return C._shouldAllowMigration&&Te.length?(C=Te[0],le&&(yield C._set(H,le.toJSON())),yield Promise.all(h.map(function(){var rt=(0,N.A)(function*(yt){if(yt!==C)try{yield yt._remove(H)}catch{}});return function(yt){return rt.apply(this,arguments)}}())),new ct(C,u,m)):new ct(C,u,m)})()}}function $n(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Qt(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if($e(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(Pa(u))return"Blackberry";if(yl(u))return"Webos";if(Jn(u))return"Safari";if((u.includes("chrome/")||ws(u))&&!u.includes("edge/"))return"Chrome";if(At(u))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function $e(p=(0,O.ZQ)()){return/firefox\//i.test(p)}function Jn(p=(0,O.ZQ)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function ws(p=(0,O.ZQ)()){return/crios\//i.test(p)}function Qt(p=(0,O.ZQ)()){return/iemobile/i.test(p)}function At(p=(0,O.ZQ)()){return/android/i.test(p)}function Pa(p=(0,O.ZQ)()){return/blackberry/i.test(p)}function yl(p=(0,O.ZQ)()){return/webos/i.test(p)}function gc(p=(0,O.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function mc(p=(0,O.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function U(p=(0,O.ZQ)()){return gc(p)||At(p)||yl(p)||Pa(p)||/windows phone/i.test(p)||Qt(p)}function ce(p,u=[]){let h;switch(p){case"Browser":h=$n((0,O.ZQ)());break;case"Worker":h=`${$n((0,O.ZQ)())}-${p}`;break;default:h=p}const m=u.length?u.join(","):"FirebaseCore-web";return`${h}/JsCore/${Oe.SDK_VERSION}/${m}`}class Je{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,h){const m=C=>new Promise((H,le)=>{try{H(u(C))}catch(Te){le(Te)}});m.onAbort=h,this.queue.push(m);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(u){var h=this;return(0,N.A)(function*(){if(h.auth.currentUser===u)return;const m=[];try{for(const E of h.queue)yield E(u),E.onAbort&&m.push(E.onAbort)}catch(E){m.reverse();for(const C of m)try{C()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}function kt(){return(kt=(0,N.A)(function*(p,u={}){return oe(p,"GET","/v2/passwordPolicy",ee(p,u))})).apply(this,arguments)}class gn{constructor(u){var h,m,E,C;const H=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=H.minPasswordLength)&&void 0!==h?h:6,H.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=H.maxPasswordLength),void 0!==H.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=H.containsLowercaseCharacter),void 0!==H.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=H.containsUppercaseCharacter),void 0!==H.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=H.containsNumericCharacter),void 0!==H.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=H.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(E=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==E?E:"",this.forceUpgradeOnSignin=null!==(C=u.forceUpgradeOnSignin)&&void 0!==C&&C,this.schemaVersion=u.schemaVersion}validatePassword(u){var h,m,E,C,H,le;const Te={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,Te),this.validatePasswordCharacterOptions(u,Te),Te.isValid&&(Te.isValid=null===(h=Te.meetsMinPasswordLength)||void 0===h||h),Te.isValid&&(Te.isValid=null===(m=Te.meetsMaxPasswordLength)||void 0===m||m),Te.isValid&&(Te.isValid=null===(E=Te.containsLowercaseLetter)||void 0===E||E),Te.isValid&&(Te.isValid=null===(C=Te.containsUppercaseLetter)||void 0===C||C),Te.isValid&&(Te.isValid=null===(H=Te.containsNumericCharacter)||void 0===H||H),Te.isValid&&(Te.isValid=null===(le=Te.containsNonAlphanumericCharacter)||void 0===le||le),Te}validatePasswordLengthOptions(u,h){const m=this.customStrengthOptions.minPasswordLength,E=this.customStrengthOptions.maxPasswordLength;m&&(h.meetsMinPasswordLength=u.length>=m),E&&(h.meetsMaxPasswordLength=u.length<=E)}validatePasswordCharacterOptions(u,h){let m;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let E=0;E<u.length;E++)m=u.charAt(E),this.updatePasswordCharacterOptionsStatuses(h,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,h,m,E,C){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=E)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=C))}}class mr{constructor(u,h,m,E){this.app=u,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ma(this),this.idTokenSubscription=new Ma(this),this.beforeStateQueue=new Je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(u,h){var m=this;return h&&(this._popupRedirectResolver=ve(h)),this._initializationPromise=this.queue((0,N.A)(function*(){var E,C;if(!m._deleted&&(m.persistenceManager=yield ct.create(m,u),!m._deleted)){if(null!==(E=m._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(h),m.lastNotifiedUid=(null===(C=m.currentUser)||void 0===C?void 0:C.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,N.A)(function*(){if(u._deleted)return;const h=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||h){if(u.currentUser&&h&&u.currentUser.uid===h.uid)return u._currentUser._assign(h),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(u){var h=this;return(0,N.A)(function*(){try{const m=yield qt(h,{idToken:u}),E=yield M._fromGetAccountInfoResponse(h,m,u);yield h.directlySetCurrentUser(E)}catch(m){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",m),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var h=this;return(0,N.A)(function*(){var m;if((0,Oe._isFirebaseServerApp)(h.app)){const le=h.app.settings.authIdToken;return le?new Promise(Te=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(le).then(Te,Te))}):h.directlySetCurrentUser(null)}const E=yield h.assertedPersistence.getCurrentUser();let C=E,H=!1;if(u&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const le=null===(m=h.redirectUser)||void 0===m?void 0:m._redirectEventId,Te=C?._redirectEventId,rt=yield h.tryRedirectSignIn(u);(!le||le===Te)&&rt?.user&&(C=rt.user,H=!0)}if(!C)return h.directlySetCurrentUser(null);if(!C._redirectEventId){if(H)try{yield h.beforeStateQueue.runMiddleware(C)}catch(le){C=E,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(le))}return C?h.reloadAndSetCurrentUserOrClear(C):h.directlySetCurrentUser(null)}return G(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===C._redirectEventId?h.directlySetCurrentUser(C):h.reloadAndSetCurrentUserOrClear(C)})()}tryRedirectSignIn(u){var h=this;return(0,N.A)(function*(){let m=null;try{m=yield h._popupRedirectResolver._completeRedirectFn(h,u,!0)}catch{yield h._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var h=this;return(0,N.A)(function*(){try{yield Tr(u)}catch(m){if("auth/network-request-failed"!==m?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function ot(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,N.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var h=this;return(0,N.A)(function*(){if((0,Oe._isFirebaseServerApp)(h.app))return Promise.reject(pt(h));const m=u?(0,O.Ku)(u):null;return m&&G(m.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(m&&m._clone(h))})()}_updateCurrentUser(u,h=!1){var m=this;return(0,N.A)(function*(){if(!m._deleted)return u&&G(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),h||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,N.A)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,N.A)(function*(){return(0,Oe._isFirebaseServerApp)(u.app)?Promise.reject(pt(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var h=this;return(0,Oe._isFirebaseServerApp)(this.app)?Promise.reject(pt(this)):this.queue((0,N.A)(function*(){yield h.assertedPersistence.setPersistence(ve(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var h=this;return(0,N.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const m=h._getPasswordPolicyInternal();return m.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,N.A)(function*(){const h=yield function xt(p){return kt.apply(this,arguments)}(u),m=new gn(h);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new O.FA("auth","Firebase",u())}onAuthStateChanged(u,h,m){return this.registerStateListener(this.authStateSubscription,u,h,m)}beforeAuthStateChanged(u,h){return this.beforeStateQueue.pushCallback(u,h)}onIdTokenChanged(u,h,m){return this.registerStateListener(this.idTokenSubscription,u,h,m)}authStateReady(){return new Promise((u,h)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},h)}})}revokeAccessToken(u){var h=this;return(0,N.A)(function*(){if(h.currentUser){const m=yield h.currentUser.getIdToken(),E={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=h.tenantId&&(E.tenantId=h.tenantId),yield function Do(p,u){return D.apply(this,arguments)}(h,E)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,h){var m=this;return(0,N.A)(function*(){const E=yield m.getOrInitRedirectPersistenceManager(h);return null===u?E.removeCurrentUser():E.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var h=this;return(0,N.A)(function*(){if(!h.redirectPersistenceManager){const m=u&&ve(u)||h._popupRedirectResolver;G(m,h,"argument-error"),h.redirectPersistenceManager=yield ct.create(h,[ve(m._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(u){var h=this;return(0,N.A)(function*(){var m,E;return h._isInitialized&&(yield h.queue((0,N.A)(function*(){}))),(null===(m=h._currentUser)||void 0===m?void 0:m._redirectEventId)===u?h._currentUser:(null===(E=h.redirectUser)||void 0===E?void 0:E._redirectEventId)===u?h.redirectUser:null})()}_persistUserIfCurrent(u){var h=this;return(0,N.A)(function*(){if(u===h.currentUser)return h.queue((0,N.A)(function*(){return h.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(h=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,h,m,E){if(this._deleted)return()=>{};const C="function"==typeof h?h:h.next.bind(h);let H=!1;const le=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(le,this,"internal-error"),le.then(()=>{H||C(this.currentUser)}),"function"==typeof h){const Te=u.addObserver(h,m,E);return()=>{H=!0,Te()}}{const Te=u.addObserver(h);return()=>{H=!0,Te()}}}directlySetCurrentUser(u){var h=this;return(0,N.A)(function*(){h.currentUser&&h.currentUser!==u&&h._currentUser._stopProactiveRefresh(),u&&h.isProactiveRefreshEnabled&&u._startProactiveRefresh(),h.currentUser=u,u?yield h.assertedPersistence.setCurrentUser(u):yield h.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,N.A)(function*(){var h;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const E=yield null===(h=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();E&&(m["X-Firebase-Client"]=E);const C=yield u._getAppCheckToken();return C&&(m["X-Firebase-AppCheck"]=C),m})()}_getAppCheckToken(){var u=this;return(0,N.A)(function*(){var h;const m=yield null===(h=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return m?.error&&function cr(p,...u){Dt.logLevel<=Be.$b.WARN&&Dt.warn(`Auth (${Oe.SDK_VERSION}): ${p}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function yn(p){return(0,O.Ku)(p)}class Ma{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,O.tD)(h=>this.observer=h)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ls={loadJS:()=>(0,N.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S_(p){return ls.loadJS(p)}function JE(p){return`__${p}${Math.floor(1e6*Math.random())}`}class cs{constructor(u){this.type="recaptcha-enterprise",this.auth=yn(u)}verify(u="verify",h=!1){var m=this;return(0,N.A)(function*(){function C(){return C=(0,N.A)(function*(le){if(!h){if(null==le.tenantId&&null!=le._agentRecaptchaConfig)return le._agentRecaptchaConfig.siteKey;if(null!=le.tenantId&&void 0!==le._tenantRecaptchaConfigs[le.tenantId])return le._tenantRecaptchaConfigs[le.tenantId].siteKey}return new Promise(function(){var Te=(0,N.A)(function*(rt,yt){we(le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(an=>{if(void 0!==an.recaptchaKey){const Mi=new te(an);return null==le.tenantId?le._agentRecaptchaConfig=Mi:le._tenantRecaptchaConfigs[le.tenantId]=Mi,rt(Mi.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(an=>{yt(an)})});return function(rt,yt){return Te.apply(this,arguments)}}())}),C.apply(this,arguments)}function H(le,Te,rt){const yt=window.grecaptcha;j(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(le,{action:u}).then(an=>{Te(an)}).catch(()=>{Te("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((le,Te)=>{(function E(le){return C.apply(this,arguments)})(m.auth).then(rt=>{if(!h&&j(window.grecaptcha))H(rt,le,Te);else{if(typeof window>"u")return void Te(new Error("RecaptchaVerifier is only supported in browser"));let yt=function RR(){return ls.recaptchaEnterpriseScript}();0!==yt.length&&(yt+=rt),S_(yt).then(()=>{H(rt,le,Te)}).catch(an=>{Te(an)})}}).catch(rt=>{Te(rt)})})})()}}function Pt(p,u,h){return R_.apply(this,arguments)}function R_(){return(R_=(0,N.A)(function*(p,u,h,m=!1){const E=new cs(p);let C;try{C=yield E.verify(h)}catch{C=yield E.verify(h,!0)}const H=Object.assign({},u);return Object.assign(H,m?{captchaResp:C}:{captchaResponse:C}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}function Qu(p,u,h,m){return N_.apply(this,arguments)}function N_(){return N_=(0,N.A)(function*(p,u,h,m){var E;if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const C=yield Pt(p,u,h,"getOobCode"===h);return m(p,C)}return m(p,u).catch(function(){var C=(0,N.A)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const le=yield Pt(p,u,h,"getOobCode"===h);return m(p,le)}return Promise.reject(H)});return function(H){return C.apply(this,arguments)}}())}),N_.apply(this,arguments)}function M_(p,u,h){const m=yn(p);G(m._canInitEmulator,m,"emulator-config-failed"),G(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const E=!!h?.disableWarnings,C=Of(u),{host:H,port:le}=function XE(p){const u=Of(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!h)return{host:"",port:null};const m=h[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(m);if(E){const C=E[1];return{host:C,port:_c(m.substr(C.length+1))}}{const[C,H]=m.split(":");return{host:C,port:_c(H)}}}(u);m.config.emulator={url:`${C}//${H}${null===le?"":`:${le}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:H,port:le,protocol:C.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function Ju(){function p(){const u=document.createElement("p"),h=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function Of(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function _c(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Jo{constructor(u,h){this.providerId=u,this.signInMethod=h}toJSON(){return Fe("not implemented")}_getIdTokenResponse(u){return Fe("not implemented")}_linkToIdToken(u,h){return Fe("not implemented")}_getReauthenticationResolver(u){return Fe("not implemented")}}function xf(p,u){return kf.apply(this,arguments)}function kf(){return(kf=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:resetPassword",ee(p,u))})).apply(this,arguments)}function yc(){return(yc=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function O_(p,u){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function k_(){return(k_=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:update",ee(p,u))})).apply(this,arguments)}function Zn(p,u){return F_.apply(this,arguments)}function F_(){return(F_=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithPassword",ee(p,u))})).apply(this,arguments)}function Ff(p,u){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:sendOobCode",ee(p,u))})).apply(this,arguments)}function vc(){return(vc=(0,N.A)(function*(p,u){return Ff(p,u)})).apply(this,arguments)}function V_(p,u){return bc.apply(this,arguments)}function bc(){return(bc=(0,N.A)(function*(p,u){return Ff(p,u)})).apply(this,arguments)}function ew(p,u){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,N.A)(function*(p,u){return Ff(p,u)})).apply(this,arguments)}function L_(){return(L_=(0,N.A)(function*(p,u){return Ff(p,u)})).apply(this,arguments)}function B_(){return(B_=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithEmailLink",ee(p,u))})).apply(this,arguments)}function Oa(){return(Oa=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithEmailLink",ee(p,u))})).apply(this,arguments)}class xa extends Jo{constructor(u,h,m,E=null){super("password",m),this._email=u,this._password=h,this._tenantId=E}static _fromEmailAndPassword(u,h){return new xa(u,h,"password")}static _fromEmailAndCode(u,h,m=null){return new xa(u,h,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(u){var h=this;return(0,N.A)(function*(){switch(h.signInMethod){case"password":return Qu(u,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zn);case"emailLink":return function MR(p,u){return B_.apply(this,arguments)}(u,{email:h._email,oobCode:h._password});default:Lt(u,"internal-error")}})()}_linkToIdToken(u,h){var m=this;return(0,N.A)(function*(){switch(m.signInMethod){case"password":return Qu(u,{idToken:h,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O_);case"emailLink":return function OR(p,u){return Oa.apply(this,arguments)}(u,{idToken:h,email:m._email,oobCode:m._password});default:Lt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ts(p,u){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithIdp",ee(p,u))})).apply(this,arguments)}class ro extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const h=new ro(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(h.idToken=u.idToken),u.accessToken&&(h.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(h.nonce=u.nonce),u.pendingToken&&(h.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(h.accessToken=u.oauthToken,h.secret=u.oauthTokenSecret):Lt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:E}=h,C=(0,Vt.Tt)(h,["providerId","signInMethod"]);if(!m||!E)return null;const H=new ro(m,E);return H.idToken=C.idToken||void 0,H.accessToken=C.accessToken||void 0,H.secret=C.secret,H.nonce=C.nonce,H.pendingToken=C.pendingToken||null,H}_getIdTokenResponse(u){return Ts(u,this.buildRequest())}_linkToIdToken(u,h){const m=this.buildRequest();return m.idToken=h,Ts(u,m)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,Ts(u,h)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),u.postBody=(0,O.Am)(h)}return u}}function Zo(){return(Zo=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:sendVerificationCode",ee(p,u))})).apply(this,arguments)}function io(){return(io=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithPhoneNumber",ee(p,u))})).apply(this,arguments)}function Ae(){return(Ae=(0,N.A)(function*(p,u){const h=yield Et(p,"POST","/v1/accounts:signInWithPhoneNumber",ee(p,u));if(h.temporaryProof)throw at(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const j_={USER_NOT_FOUND:"user-not-found"};function vl(){return(vl=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithPhoneNumber",ee(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),j_)})).apply(this,arguments)}class Co extends Jo{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,h){return new Co({verificationId:u,verificationCode:h})}static _fromTokenResponse(u,h){return new Co({phoneNumber:u,temporaryProof:h})}_getIdTokenResponse(u){return function nw(p,u){return io.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,h){return function rw(p,u){return Ae.apply(this,arguments)}(u,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function je(p,u){return vl.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:h,verificationId:m,verificationCode:E}=this.params;return u&&h?{temporaryProof:u,phoneNumber:h}:{sessionInfo:m,code:E}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:h,verificationCode:m,phoneNumber:E,temporaryProof:C}=u;return m||h||E||C?new Co({verificationId:h,verificationCode:m,phoneNumber:E,temporaryProof:C}):null}}class Tc{constructor(u){var h,m,E,C,H,le;const Te=(0,O.I9)((0,O.hp)(u)),rt=null!==(h=Te.apiKey)&&void 0!==h?h:null,yt=null!==(m=Te.oobCode)&&void 0!==m?m:null,an=function wc(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=Te.mode)&&void 0!==E?E:null);G(rt&&yt&&an,"argument-error"),this.apiKey=rt,this.operation=an,this.code=yt,this.continueUrl=null!==(C=Te.continueUrl)&&void 0!==C?C:null,this.languageCode=null!==(H=Te.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(le=Te.tenantId)&&void 0!==le?le:null}static parseLink(u){const h=function iw(p){const u=(0,O.I9)((0,O.hp)(p)).link,h=u?(0,O.I9)((0,O.hp)(u)).deep_link_id:null,m=(0,O.I9)((0,O.hp)(p)).deep_link_id;return(m?(0,O.I9)((0,O.hp)(m)).link:null)||m||h||u||p}(u);try{return new Tc(h)}catch{return null}}}let Vs=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,m){return xa._fromEmailAndPassword(h,m)}static credentialWithLink(h,m){const E=Tc.parseLink(m);return G(E,"argument-error"),xa._fromEmailAndCode(h,E.code,E.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Is{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class ri extends Is{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Wi extends ri{static credentialFromJSON(u){const h="string"==typeof u?JSON.parse(u):u;return G("providerId"in h&&"signInMethod"in h,"argument-error"),ro._fromParams(h)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return G(u.idToken||u.accessToken,"argument-error"),ro._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Wi.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Wi.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:h,oauthAccessToken:m,oauthTokenSecret:E,pendingToken:C,nonce:H,providerId:le}=u;if(!m&&!E&&!h&&!C||!le)return null;try{return new Wi(le)._credential({idToken:h,accessToken:m,nonce:H,pendingToken:C})}catch{return null}}}let Tn=(()=>{class p extends ri{constructor(){super("facebook.com")}static credential(h){return ro._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Zu=(()=>{class p extends ri{constructor(){super("google.com"),this.addScope("profile")}static credential(h,m){return ro._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:E}=h;if(!m&&!E)return null;try{return p.credential(m,E)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Bf=(()=>{class p extends ri{constructor(){super("github.com")}static credential(h){return ro._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class ka extends Jo{constructor(u,h){super(u,u),this.pendingToken=h}_getIdTokenResponse(u){return Ts(u,this.buildRequest())}_linkToIdToken(u,h){const m=this.buildRequest();return m.idToken=h,Ts(u,m)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,Ts(u,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:E,pendingToken:C}=h;return m&&E&&C&&m===E?new ka(m,C):null}static _create(u,h){return new ka(u,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xo extends Is{constructor(u){G(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Xo.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Xo.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const h=ka.fromJSON(u);return G(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:h,providerId:m}=u;if(!h||!m)return null;try{return ka._create(m,h)}catch{return null}}}let $_=(()=>{class p extends ri{constructor(){super("twitter.com")}static credential(h,m){return ro._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:m,oauthTokenSecret:E}=h;if(!m||!E)return null;try{return p.credential(m,E)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function jf(p,u){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signUp",ee(p,u))})).apply(this,arguments)}class us{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,h,m,E=!1){return(0,N.A)(function*(){const C=yield M._fromIdTokenResponse(u,m,E),H=$f(m);return new us({user:C,providerId:H,_tokenResponse:m,operationType:h})})()}static _forOperation(u,h,m){return(0,N.A)(function*(){yield u._updateTokensIfNecessary(m,!0);const E=$f(m);return new us({user:u,providerId:E,_tokenResponse:m,operationType:h})})()}}function $f(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Dc(p){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,N.A)(function*(p){var u;if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const h=yn(p);if(yield h._initializationPromise,null!==(u=h.currentUser)&&void 0!==u&&u.isAnonymous)return new us({user:h.currentUser,providerId:null,operationType:"signIn"});const m=yield jf(h,{returnSecureToken:!0}),E=yield us._fromIdTokenResponse(h,"signIn",m,!0);return yield h._updateCurrentUser(E.user),E})).apply(this,arguments)}class Cc extends O.g{constructor(u,h,m,E){var C;super(h.code,h.message),this.operationType=m,this.user=E,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:u.name,tenantId:null!==(C=u.tenantId)&&void 0!==C?C:void 0,_serverResponse:h.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,h,m,E){return new Cc(u,h,m,E)}}function H_(p,u,h,m){return("reauthenticate"===u?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(C=>{throw"auth/multi-factor-auth-required"===C.code?Cc._fromErrorAndOperation(p,C,u,m):C})}function Hf(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function sw(p,u){return zf.apply(this,arguments)}function zf(){return zf=(0,N.A)(function*(p,u){const h=(0,O.Ku)(p);yield Ac(!0,h,u);const{providerUserInfo:m}=yield function Mt(p,u){return Cn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[u]}),E=Hf(m||[]);return h.providerData=h.providerData.filter(C=>E.has(C.providerId)),E.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),zf.apply(this,arguments)}function ds(p,u){return Gf.apply(this,arguments)}function Gf(){return(Gf=(0,N.A)(function*(p,u,h=!1){const m=yield Ut(p,u._linkToIdToken(p.auth,yield p.getIdToken()),h);return us._forOperation(p,"link",m)})).apply(this,arguments)}function Ac(p,u,h){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,N.A)(function*(p,u,h){yield Tr(u);const E=!1===p?"provider-already-linked":"no-such-provider";G(Hf(u.providerData).has(h)===p,u.auth,E)})).apply(this,arguments)}function z_(p,u){return qf.apply(this,arguments)}function qf(){return(qf=(0,N.A)(function*(p,u,h=!1){const{auth:m}=p;if((0,Oe._isFirebaseServerApp)(m.app))return Promise.reject(pt(m));const E="reauthenticate";try{const C=yield Ut(p,H_(m,E,u,p),h);G(C.idToken,m,"internal-error");const H=ur(C.idToken);G(H,m,"internal-error");const{sub:le}=H;return G(p.uid===le,m,"user-mismatch"),us._forOperation(p,E,C)}catch(C){throw"auth/user-not-found"===C?.code&&Lt(m,"user-mismatch"),C}})).apply(this,arguments)}function G_(p,u){return ed.apply(this,arguments)}function ed(){return(ed=(0,N.A)(function*(p,u,h=!1){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const m="signIn",E=yield H_(p,m,u),C=yield us._fromIdTokenResponse(p,m,E);return h||(yield p._updateCurrentUser(C.user)),C})).apply(this,arguments)}function td(p,u){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,N.A)(function*(p,u){return G_(yn(p),u)})).apply(this,arguments)}function W_(p,u){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,N.A)(function*(p,u){const h=(0,O.Ku)(p);return yield Ac(!1,h,u.providerId),ds(h,u)})).apply(this,arguments)}function q_(p,u){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,N.A)(function*(p,u){return z_((0,O.Ku)(p),u)})).apply(this,arguments)}function en(){return(en=(0,N.A)(function*(p,u){return Et(p,"POST","/v1/accounts:signInWithCustomToken",ee(p,u))})).apply(this,arguments)}function aw(p,u){return nd.apply(this,arguments)}function nd(){return nd=(0,N.A)(function*(p,u){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const h=yn(p),m=yield function ow(p,u){return en.apply(this,arguments)}(h,{token:u,returnSecureToken:!0}),E=yield us._fromIdTokenResponse(h,"signIn",m);return yield h._updateCurrentUser(E.user),E}),nd.apply(this,arguments)}class Le{constructor(u,h){this.factorId=u,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(u,h){return"phoneInfo"in h?Jr._fromServerResponse(u,h):"totpInfo"in h?mn._fromServerResponse(u,h):Lt(u,"internal-error")}}class Jr extends Le{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,h){return new Jr(h)}}class mn extends Le{constructor(u){super("totp",u)}static _fromServerResponse(u,h){return new mn(h)}}function Ur(p,u,h){var m;G((null===(m=h.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),G(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=h.url,u.dynamicLinkDomain=h.dynamicLinkDomain,u.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(G(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=h.iOS.bundleId),h.android&&(G(h.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=h.android.installApp,u.androidMinimumVersionCode=h.android.minimumVersion,u.androidPackageName=h.android.packageName)}function ii(p){return ea.apply(this,arguments)}function ea(){return(ea=(0,N.A)(function*(p){const u=yn(p);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function hs(p,u,h){return rd.apply(this,arguments)}function rd(){return(rd=(0,N.A)(function*(p,u,h){const m=yn(p),E={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};h&&Ur(m,E,h),yield Qu(m,E,"getOobCode",V_)})).apply(this,arguments)}function K_(p,u,h){return bl.apply(this,arguments)}function bl(){return bl=(0,N.A)(function*(p,u,h){yield xf((0,O.Ku)(p),{oobCode:u,newPassword:h}).catch(function(){var m=(0,N.A)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&ii(p),E});return function(E){return m.apply(this,arguments)}}())}),bl.apply(this,arguments)}function lw(p,u){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,N.A)(function*(p,u){yield function x_(p,u){return k_.apply(this,arguments)}((0,O.Ku)(p),{oobCode:u})}),Yf.apply(this,arguments)}function _r(p,u){return et.apply(this,arguments)}function et(){return(et=(0,N.A)(function*(p,u){const h=(0,O.Ku)(p),m=yield xf(h,{oobCode:u}),E=m.requestType;switch(G(E,h,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(m.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(m.mfaInfo,h,"internal-error");default:G(m.email,h,"internal-error")}let C=null;return m.mfaInfo&&(C=Le._fromServerResponse(yn(h),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:C},operation:E}})).apply(this,arguments)}function $t(p,u){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,N.A)(function*(p,u){const{data:h}=yield _r((0,O.Ku)(p),u);return h.email})).apply(this,arguments)}function Ls(p,u,h){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,N.A)(function*(p,u,h){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const m=yn(p),H=yield Qu(m,{returnSecureToken:!0,email:u,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jf).catch(Te=>{throw"auth/password-does-not-meet-requirements"===Te.code&&ii(p),Te}),le=yield us._fromIdTokenResponse(m,"signIn",H);return yield m._updateCurrentUser(le.user),le})).apply(this,arguments)}function yi(p,u,h){return(0,Oe._isFirebaseServerApp)(p.app)?Promise.reject(pt(p)):td((0,O.Ku)(p),Vs.credential(u,h)).catch(function(){var m=(0,N.A)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&ii(p),E});return function(E){return m.apply(this,arguments)}}())}function El(p,u,h){return yr.apply(this,arguments)}function yr(){return(yr=(0,N.A)(function*(p,u,h){const m=yn(p),E={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function C(H,le){G(le.handleCodeInApp,m,"argument-error"),le&&Ur(m,H,le)})(E,h),yield Qu(m,E,"getOobCode",ew)})).apply(this,arguments)}function ta(p,u){const h=Tc.parseLink(u);return"EMAIL_SIGNIN"===h?.operation}function wl(p,u,h){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,N.A)(function*(p,u,h){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const m=(0,O.Ku)(p),E=Vs.credentialWithLink(u,h||nt());return G(E._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),td(m,E)})).apply(this,arguments)}function id(){return(id=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:createAuthUri",ee(p,u))})).apply(this,arguments)}function Tl(p,u){return vr.apply(this,arguments)}function vr(){return vr=(0,N.A)(function*(p,u){const m={identifier:u,continueUri:Ct()?nt():"http://localhost"},{signinMethods:E}=yield function Sc(p,u){return id.apply(this,arguments)}((0,O.Ku)(p),m);return E||[]}),vr.apply(this,arguments)}function Rc(p,u){return na.apply(this,arguments)}function na(){return na=(0,N.A)(function*(p,u){const h=(0,O.Ku)(p),E={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&Ur(h.auth,E,u);const{email:C}=yield function Vf(p,u){return vc.apply(this,arguments)}(h.auth,E);C!==p.email&&(yield p.reload())}),na.apply(this,arguments)}function so(p,u,h){return Va.apply(this,arguments)}function Va(){return Va=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p),C={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};h&&Ur(m.auth,C,h);const{email:H}=yield function PR(p,u){return L_.apply(this,arguments)}(m.auth,C);H!==p.email&&(yield p.reload())}),Va.apply(this,arguments)}function oo(){return(oo=(0,N.A)(function*(p,u){return oe(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function So(p,u){return La.apply(this,arguments)}function La(){return La=(0,N.A)(function*(p,{displayName:u,photoURL:h}){if(void 0===u&&void 0===h)return;const m=(0,O.Ku)(p),C={idToken:yield m.getIdToken(),displayName:u,photoUrl:h,returnSecureToken:!0},H=yield Ut(m,function Q_(p,u){return oo.apply(this,arguments)}(m.auth,C));m.displayName=H.displayName||null,m.photoURL=H.photoUrl||null;const le=m.providerData.find(({providerId:Te})=>"password"===Te);le&&(le.displayName=m.displayName,le.photoURL=m.photoURL),yield m._updateTokensIfNecessary(H)}),La.apply(this,arguments)}function Nc(p,u){const h=(0,O.Ku)(p);return(0,Oe._isFirebaseServerApp)(h.auth.app)?Promise.reject(pt(h.auth)):cw(h,u,null)}function un(p,u){return cw((0,O.Ku)(p),null,u)}function cw(p,u,h){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,N.A)(function*(p,u,h){const{auth:m}=p,C={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(C.email=u),h&&(C.password=h);const H=yield Ut(p,function cn(p,u){return yc.apply(this,arguments)}(m,C));yield p._updateTokensIfNecessary(H,!0)}),Pc.apply(this,arguments)}class Ni{constructor(u,h,m={}){this.isNewUser=u,this.providerId=h,this.profile=m}}class Mc extends Ni{constructor(u,h,m,E){super(u,h,m),this.username=E}}class Il extends Ni{constructor(u,h){super(u,"facebook.com",h)}}class Oc extends Mc{constructor(u,h){super(u,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class si extends Ni{constructor(u,h){super(u,"google.com",h)}}class kR extends Mc{constructor(u,h,m){super(u,"twitter.com",h,m)}}function qi(p){const{user:u,_tokenResponse:h}=p;return u.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Y_(p){var u,h;if(!p)return null;const{providerId:m}=p,E=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},C=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const H=null===(h=null===(u=ur(p.idToken))||void 0===u?void 0:u.firebase)||void 0===h?void 0:h.sign_in_provider;if(H)return new Ni(C,"anonymous"!==H&&"custom"!==H?H:null)}if(!m)return null;switch(m){case"facebook.com":return new Il(C,E);case"github.com":return new Oc(C,E);case"google.com":return new si(C,E);case"twitter.com":return new kR(C,E,p.screenName||null);case"custom":case"anonymous":return new Ni(C,null);default:return new Ni(C,m,E)}}(h)}class Al{constructor(u,h,m){this.type=u,this.credential=h,this.user=m}static _fromIdtoken(u,h){return new Al("enroll",u,h)}static _fromMfaPendingCredential(u){return new Al("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var h,m;if(u?.multiFactorSession){if(null!==(h=u.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Al._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return Al._fromIdtoken(u.multiFactorSession.idToken)}return null}}class X_{constructor(u,h,m){this.session=u,this.hints=h,this.signInResolver=m}static _fromError(u,h){const m=yn(u),E=h.customData._serverResponse,C=(E.mfaInfo||[]).map(le=>Le._fromServerResponse(m,le));G(E.mfaPendingCredential,m,"internal-error");const H=Al._fromMfaPendingCredential(E.mfaPendingCredential);return new X_(H,C,function(){var le=(0,N.A)(function*(Te){const rt=yield Te._process(m,H);delete E.mfaInfo,delete E.mfaPendingCredential;const yt=Object.assign(Object.assign({},E),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(h.operationType){case"signIn":const an=yield us._fromIdTokenResponse(m,h.operationType,yt);return yield m._updateCurrentUser(an.user),an;case"reauthenticate":return G(h.user,m,"internal-error"),us._forOperation(h.user,h.operationType,yt);default:Lt(m,"internal-error")}});return function(Te){return le.apply(this,arguments)}}())}resolveSignIn(u){var h=this;return(0,N.A)(function*(){return h.signInResolver(u)})()}}function UR(p,u){var h;const m=(0,O.Ku)(p),E=u;return G(u.customData.operationType,m,"argument-error"),G(null===(h=E.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,m,"argument-error"),X_._fromError(m,E)}class ey{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(m=>Le._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new ey(u)}getSession(){var u=this;return(0,N.A)(function*(){return Al._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,h){var m=this;return(0,N.A)(function*(){const E=u,C=yield m.getSession(),H=yield Ut(m.user,E._process(m.user.auth,C,h));return yield m.user._updateTokensIfNecessary(H),m.user.reload()})()}unenroll(u){var h=this;return(0,N.A)(function*(){const m="string"==typeof u?u:u.uid,E=yield h.user.getIdToken();try{const C=yield Ut(h.user,function zR(p,u){return oe(p,"POST","/v2/accounts/mfaEnrollment:withdraw",ee(p,u))}(h.user.auth,{idToken:E,mfaEnrollmentId:m}));h.enrolledFactors=h.enrolledFactors.filter(({uid:H})=>H!==m),yield h.user._updateTokensIfNecessary(C),yield h.user.reload()}catch(C){throw C}})()}}const ty=new WeakMap;function ny(p){const u=(0,O.Ku)(p);return ty.has(u)||ty.set(u,ey._fromUser(u)),ty.get(u)}const xc="__sak";class uw{constructor(u,h){this.storageRetriever=u,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,h){return this.storage.setItem(u,JSON.stringify(h)),Promise.resolve()}_get(u){const h=this.storage.getItem(u);return Promise.resolve(h?JSON.parse(h):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ro=(()=>{class p extends uw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,m)=>this.onStorageEvent(h,m),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const m of Object.keys(this.listeners)){const E=this.storage.getItem(m),C=this.localCache[m];E!==C&&h(m,C,E)}}onStorageEvent(h,m=!1){if(!h.key)return void this.forAllChangedKeys((le,Te,rt)=>{this.notifyListeners(le,rt)});const E=h.key;m?this.detachListener():this.stopPolling();const C=()=>{const le=this.storage.getItem(E);!m&&this.localCache[E]===le||this.notifyListeners(E,le)},H=this.storage.getItem(E);!function ue(){return(0,O.lT)()&&10===document.documentMode}()||H===h.newValue||h.newValue===h.oldValue?C():setTimeout(C,10)}notifyListeners(h,m){this.localCache[h]=m;const E=this.listeners[h];if(E)for(const C of Array.from(E))C(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,m,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:m,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,m){var E=()=>super._set,C=this;return(0,N.A)(function*(){yield E().call(C,h,m),C.localCache[h]=JSON.stringify(m)})()}_get(h){var m=()=>super._get,E=this;return(0,N.A)(function*(){const C=yield m().call(E,h);return E.localCache[h]=JSON.stringify(C),C})()}_remove(h){var m=()=>super._remove,E=this;return(0,N.A)(function*(){yield m().call(E,h),delete E.localCache[h]})()}}return p.type="LOCAL",p})(),Zf=(()=>{class p extends uw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,m){}_removeListener(h,m){}}return p.type="SESSION",p})();let sd=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const m=this.receivers.find(C=>C.isListeningto(h));if(m)return m;const E=new p(h);return this.receivers.push(E),E}isListeningto(h){return this.eventTarget===h}handleEvent(h){var m=this;return(0,N.A)(function*(){const E=h,{eventId:C,eventType:H,data:le}=E.data,Te=m.handlersMap[H];if(!Te?.size)return;E.ports[0].postMessage({status:"ack",eventId:C,eventType:H});const rt=Array.from(Te).map(function(){var an=(0,N.A)(function*(Mi){return Mi(E.origin,le)});return function(Mi){return an.apply(this,arguments)}}()),yt=yield function oi(p){return Promise.all(p.map(function(){var u=(0,N.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(m){return{fulfilled:!1,reason:m}}});return function(h){return u.apply(this,arguments)}}()))}(rt);E.ports[0].postMessage({status:"done",eventId:C,eventType:H,response:yt})})()}_subscribe(h,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(m)}_unsubscribe(h,m){this.handlersMap[h]&&m&&this.handlersMap[h].delete(m),(!m||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function vi(p="",u=10){let h="";for(let m=0;m<u;m++)h+=Math.floor(10*Math.random());return p+h}class Xf{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,h,m=50){var E=this;return(0,N.A)(function*(){const C=typeof MessageChannel<"u"?new MessageChannel:null;if(!C)throw new Error("connection_unavailable");let H,le;return new Promise((Te,rt)=>{const yt=vi("",20);C.port1.start();const an=setTimeout(()=>{rt(new Error("unsupported_event"))},m);le={messageChannel:C,onMessage(Mi){const oa=Mi;if(oa.data.eventId===yt)switch(oa.data.status){case"ack":clearTimeout(an),H=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Te(oa.data.response);break;default:clearTimeout(an),clearTimeout(H),rt(new Error("invalid_response"))}}},E.handlers.add(le),C.port1.addEventListener("message",le.onMessage),E.target.postMessage({eventType:u,eventId:yt,data:h},[C.port2])}).finally(()=>{le&&E.removeMessageHandler(le)})})()}}function Mr(){return window}function od(){return typeof Mr().WorkerGlobalScope<"u"&&"function"==typeof Mr().importScripts}function ad(){return(ad=(0,N.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rp="firebaseLocalStorageDb",kc="firebaseLocalStorage",Fc="fbase_key";class No{constructor(u){this.request=u}toPromise(){return new Promise((u,h)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Po(p,u){return p.transaction([kc],u?"readwrite":"readonly").objectStore(kc)}function oy(){const p=indexedDB.open(rp,1);return new Promise((u,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(kc,{keyPath:Fc})}catch(E){h(E)}}),p.addEventListener("success",(0,N.A)(function*(){const m=p.result;m.objectStoreNames.contains(kc)?u(m):(m.close(),yield function sy(){const p=indexedDB.deleteDatabase(rp);return new No(p).toPromise()}(),u(yield oy()))}))})}function dw(p,u,h){return ay.apply(this,arguments)}function ay(){return(ay=(0,N.A)(function*(p,u,h){const m=Po(p,!0).put({[Fc]:u,value:h});return new No(m).toPromise()})).apply(this,arguments)}function ip(){return(ip=(0,N.A)(function*(p,u){const h=Po(p,!1).get(u),m=yield new No(h).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function ly(p,u){const h=Po(p,!0).delete(u);return new No(h).toPromise()}const ld=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,N.A)(function*(){return h.db||(h.db=yield oy()),h.db})()}_withRetries(h){var m=this;return(0,N.A)(function*(){let E=0;for(;;)try{const C=yield m._openDb();return yield h(C)}catch(C){if(E++>3)throw C;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,N.A)(function*(){return od()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,N.A)(function*(){h.receiver=sd._getInstance(function np(){return od()?self:null}()),h.receiver._subscribe("keyChanged",function(){var m=(0,N.A)(function*(E,C){return{keyProcessed:(yield h._poll()).includes(C.key)}});return function(E,C){return m.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var m=(0,N.A)(function*(E,C){return["keyChanged"]});return function(E,C){return m.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,N.A)(function*(){var m,E;if(h.activeServiceWorker=yield function ep(){return ad.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Xf(h.activeServiceWorker);const C=yield h.sender._send("ping",{},800);C&&null!==(m=C[0])&&void 0!==m&&m.fulfilled&&null!==(E=C[0])&&void 0!==E&&E.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var m=this;return(0,N.A)(function*(){if(m.sender&&m.activeServiceWorker&&function tp(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:h},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,N.A)(function*(){try{if(!indexedDB)return!1;const h=yield oy();return yield dw(h,xc,"1"),yield ly(h,xc),!0}catch{}return!1})()}_withPendingWrite(h){var m=this;return(0,N.A)(function*(){m.pendingWrites++;try{yield h()}finally{m.pendingWrites--}})()}_set(h,m){var E=this;return(0,N.A)(function*(){return E._withPendingWrite((0,N.A)(function*(){return yield E._withRetries(C=>dw(C,h,m)),E.localCache[h]=m,E.notifyServiceWorker(h)}))})()}_get(h){var m=this;return(0,N.A)(function*(){const E=yield m._withRetries(C=>function hw(p,u){return ip.apply(this,arguments)}(C,h));return m.localCache[h]=E,E})()}_remove(h){var m=this;return(0,N.A)(function*(){return m._withPendingWrite((0,N.A)(function*(){return yield m._withRetries(E=>ly(E,h)),delete m.localCache[h],m.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,N.A)(function*(){const m=yield h._withRetries(H=>{const le=Po(H,!1).getAll();return new No(le).toPromise()});if(!m)return[];if(0!==h.pendingWrites)return[];const E=[],C=new Set;if(0!==m.length)for(const{fbase_key:H,value:le}of m)C.add(H),JSON.stringify(h.localCache[H])!==JSON.stringify(le)&&(h.notifyListeners(H,le),E.push(H));for(const H of Object.keys(h.localCache))h.localCache[H]&&!C.has(H)&&(h.notifyListeners(H,null),E.push(H));return E})()}notifyListeners(h,m){this.localCache[h]=m;const E=this.listeners[h];if(E)for(const C of Array.from(E))C(m)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,N.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),ud=1e12;class pw{constructor(u){this.auth=u,this.counter=ud,this._widgets=new Map}render(u,h){const m=this.counter;return this._widgets.set(m,new gw(u,this.auth.name,h||{})),this.counter++,m}reset(u){var h;const m=u||ud;null===(h=this._widgets.get(m))||void 0===h||h.delete(),this._widgets.delete(m)}getResponse(u){var h;return(null===(h=this._widgets.get(u||ud))||void 0===h?void 0:h.getResponse())||""}execute(u){var h=this;return(0,N.A)(function*(){var m;return null===(m=h._widgets.get(u||ud))||void 0===m||m.execute(),""})()}}class gw{constructor(u,h,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof u?document.getElementById(u):u;G(E,"argument-error",{appName:h}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hy(p){const u=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)u.push(h.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":h}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const op=JE("rcb"),fy=new ln(3e4,6e4);class mw{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Mr().grecaptcha)||void 0===u||!u.render)}load(u,h=""){return G(function QR(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),u,"argument-error"),this.shouldResolveImmediately(h)&&q(Mr().grecaptcha)?Promise.resolve(Mr().grecaptcha):new Promise((m,E)=>{const C=Mr().setTimeout(()=>{E(Bt(u,"network-request-failed"))},fy.get());Mr()[op]=()=>{Mr().clearTimeout(C),delete Mr()[op];const le=Mr().grecaptcha;if(!le||!q(le))return void E(Bt(u,"internal-error"));const Te=le.render;le.render=(rt,yt)=>{const an=Te(rt,yt);return this.counter++,an},this.hostLanguage=h,m(le)},S_(`${function SR(){return ls.recaptchaV2Script}()}?${(0,O.Am)({onload:op,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(C),E(Bt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var h;return!(null===(h=Mr().grecaptcha)||void 0===h||!h.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _w{load(u){return(0,N.A)(function*(){return new pw(u)})()}clearedOneInstance(){}}const zr="recaptcha",py={theme:"light",type:"image"};class yw{constructor(u,h,m=Object.assign({},py)){this.parameters=m,this.type=zr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(u),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof h?document.getElementById(h):h;G(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _w:new mw,this.validateStartingState()}verify(){var u=this;return(0,N.A)(function*(){u.assertNotDestroyed();const h=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(h)||new Promise(C=>{const H=le=>{le&&(u.tokenChangeListeners.delete(H),C(le))};u.tokenChangeListeners.add(H),u.isInvisible&&m.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return h=>{if(this.tokenChangeListeners.forEach(m=>m(h)),"function"==typeof u)u(h);else if("string"==typeof u){const m=Mr()[u];"function"==typeof m&&m(h)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,N.A)(function*(){if(yield u.init(),!u.widgetId){let h=u.container;if(!u.isInvisible){const m=document.createElement("div");h.appendChild(m),h=m}u.widgetId=u.getAssertedRecaptcha().render(h,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,N.A)(function*(){G(Ct()&&!od(),u.auth,"internal-error"),yield function vw(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const h=yield function ge(p){return Me.apply(this,arguments)}(u.auth);G(h,u.auth,"internal-error"),u.parameters.sitekey=h})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dd{constructor(u,h){this.verificationId=u,this.onConfirmation=h}confirm(u){const h=Co._fromVerification(this.verificationId,u);return this.onConfirmation(h)}}function gy(p,u,h){return ap.apply(this,arguments)}function ap(){return(ap=(0,N.A)(function*(p,u,h){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const m=yn(p),E=yield Vc(m,u,(0,O.Ku)(h));return new dd(E,C=>td(m,C))})).apply(this,arguments)}function lp(p,u,h){return cp.apply(this,arguments)}function cp(){return(cp=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p);yield Ac(!1,m,"phone");const E=yield Vc(m.auth,u,(0,O.Ku)(h));return new dd(E,C=>W_(m,C))})).apply(this,arguments)}function ao(p,u,h){return hd.apply(this,arguments)}function hd(){return(hd=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p);if((0,Oe._isFirebaseServerApp)(m.auth.app))return Promise.reject(pt(m.auth));const E=yield Vc(m.auth,u,(0,O.Ku)(h));return new dd(E,C=>q_(m,C))})).apply(this,arguments)}function Vc(p,u,h){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,N.A)(function*(p,u,h){var m;const E=yield h.verify();try{let C;if(G("string"==typeof E,p,"argument-error"),G(h.type===zr,p,"argument-error"),C="string"==typeof u?{phoneNumber:u}:u,"session"in C){const H=C.session;if("phoneNumber"in C)return G("enroll"===H.type,p,"internal-error"),(yield function jR(p,u){return oe(p,"POST","/v2/accounts/mfaEnrollment:start",ee(p,u))}(p,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:C.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{G("signin"===H.type,p,"internal-error");const le=(null===(m=C.multiFactorHint)||void 0===m?void 0:m.uid)||C.multiFactorUid;return G(le,p,"missing-multi-factor-info"),(yield function cd(p,u){return oe(p,"POST","/v2/accounts/mfaSignIn:start",ee(p,u))}(p,{mfaPendingCredential:H.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function U_(p,u){return Zo.apply(this,arguments)}(p,{phoneNumber:C.phoneNumber,recaptchaToken:E});return H}}finally{h._reset()}}),Hn.apply(this,arguments)}function up(p,u){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,N.A)(function*(p,u){const h=(0,O.Ku)(p);if((0,Oe._isFirebaseServerApp)(h.auth.app))return Promise.reject(pt(h.auth));yield ds(h,u)})).apply(this,arguments)}let Qi=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=yn(h)}verifyPhoneNumber(h,m){return Vc(this.auth,h,(0,O.Ku)(m))}static credential(h,m){return Co._fromVerification(h,m)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:m,temporaryProof:E}=h;return m&&E?Co._fromTokenResponse(m,E):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Ba(p,u){return u?ve(u):(G(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class fd extends Jo{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ts(u,this._buildIdpRequest())}_linkToIdToken(u,h){return Ts(u,this._buildIdpRequest(h))}_getReauthenticationResolver(u){return Ts(u,this._buildIdpRequest())}_buildIdpRequest(u){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(h.idToken=u),h}}function Nl(p){return G_(p.auth,new fd(p),p.bypassAuthState)}function fs(p){const{auth:u,user:h}=p;return G(h,u,"internal-error"),z_(h,new fd(p),p.bypassAuthState)}function bw(p){return dp.apply(this,arguments)}function dp(){return(dp=(0,N.A)(function*(p){const{auth:u,user:h}=p;return G(h,u,"internal-error"),ds(h,new fd(p),p.bypassAuthState)})).apply(this,arguments)}class my{constructor(u,h,m,E,C=!1){this.auth=u,this.resolver=m,this.user=E,this.bypassAuthState=C,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var u=this;return new Promise(function(){var h=(0,N.A)(function*(m,E){u.pendingPromise={resolve:m,reject:E};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(C){u.reject(C)}});return function(m,E){return h.apply(this,arguments)}}())}onAuthEvent(u){var h=this;return(0,N.A)(function*(){const{urlResponse:m,sessionId:E,postBody:C,tenantId:H,error:le,type:Te}=u;if(le)return void h.reject(le);const rt={auth:h.auth,requestUri:m,sessionId:E,tenantId:H||void 0,postBody:C||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Te)(rt))}catch(yt){h.reject(yt)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Nl;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return fs;default:Lt(this.auth,"internal-error")}}resolve(u){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ra=new ln(2e3,1e4);function _y(p,u,h){return hp.apply(this,arguments)}function hp(){return(hp=(0,N.A)(function*(p,u,h){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(Bt(p,"operation-not-supported-in-this-environment"));const m=yn(p);W(p,u,Is);const E=Ba(m,h);return new Rt(m,"signInViaPopup",u,E).executeNotNull()})).apply(this,arguments)}function yy(p,u,h){return pd.apply(this,arguments)}function pd(){return(pd=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p);if((0,Oe._isFirebaseServerApp)(m.auth.app))return Promise.reject(Bt(m.auth,"operation-not-supported-in-this-environment"));W(m.auth,u,Is);const E=Ba(m.auth,h);return new Rt(m.auth,"reauthViaPopup",u,E,m).executeNotNull()})).apply(this,arguments)}function vy(p,u,h){return fp.apply(this,arguments)}function fp(){return(fp=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p);W(m.auth,u,Is);const E=Ba(m.auth,h);return new Rt(m.auth,"linkViaPopup",u,E,m).executeNotNull()})).apply(this,arguments)}let Rt=(()=>{class p extends my{constructor(h,m,E,C,H){super(h,m,C,H),this.provider=E,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,N.A)(function*(){const m=yield h.execute();return G(m,h.auth,"internal-error"),m})()}onExecution(){var h=this;return(0,N.A)(function*(){Ue(1===h.filter.length,"Popup operations only handle one event");const m=vi();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],m),h.authWindow.associatedEvent=m,h.resolver._originValidation(h.auth).catch(E=>{h.reject(E)}),h.resolver._isIframeWebStorageSupported(h.auth,E=>{E||h.reject(Bt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var m,E;this.pollId=null!==(E=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Bt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,ra.get())};h()}}return p.currentPopupAction=null,p})();const by="pendingRedirect",gd=new Map;class Ew extends my{constructor(u,h,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,h=this;return(0,N.A)(function*(){let m=gd.get(h.auth._key());if(!m){try{const C=(yield function ww(p,u){return pp.apply(this,arguments)}(h.resolver,h.auth))?yield u().call(h):null;m=()=>Promise.resolve(C)}catch(E){m=()=>Promise.reject(E)}gd.set(h.auth._key(),m)}return h.bypassAuthState||gd.set(h.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var h=()=>super.onAuthEvent,m=this;return(0,N.A)(function*(){if("signInViaRedirect"===u.type)return h().call(m,u);if("unknown"!==u.type){if(u.eventId){const E=yield m.auth._redirectUserForId(u.eventId);if(E)return m.user=E,h().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,N.A)(function*(){})()}cleanUp(){}}function pp(){return(pp=(0,N.A)(function*(p,u){const h=Ty(u),m=wy(p);if(!(yield m._isAvailable()))return!1;const E="true"===(yield m._get(h));return yield m._remove(h),E})).apply(this,arguments)}function md(p,u){return ia.apply(this,arguments)}function ia(){return(ia=(0,N.A)(function*(p,u){return wy(p)._set(Ty(u),"true")})).apply(this,arguments)}function Tw(){gd.clear()}function Ey(p,u){gd.set(p._key(),u)}function wy(p){return ve(p._redirectPersistence)}function Ty(p){return pn(by,p.config.apiKey,p.name)}function Iw(p,u,h){return function De(p,u,h){return _n.apply(this,arguments)}(p,u,h)}function _n(){return(_n=(0,N.A)(function*(p,u,h){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const m=yn(p);W(p,u,Is),yield m._initializationPromise;const E=Ba(m,h);return yield md(E,m),E._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function dn(p,u,h){return function hn(p,u,h){return Gr.apply(this,arguments)}(p,u,h)}function Gr(){return(Gr=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p);if(W(m.auth,u,Is),(0,Oe._isFirebaseServerApp)(m.auth.app))return Promise.reject(pt(m.auth));yield m.auth._initializationPromise;const E=Ba(m.auth,h);yield md(E,m.auth);const C=yield _p(m);return E._openRedirect(m.auth,u,"reauthViaRedirect",C)})).apply(this,arguments)}function Iy(p,u,h){return function Lc(p,u,h){return Ds.apply(this,arguments)}(p,u,h)}function Ds(){return(Ds=(0,N.A)(function*(p,u,h){const m=(0,O.Ku)(p);W(m.auth,u,Is),yield m.auth._initializationPromise;const E=Ba(m.auth,h);yield Ac(!1,m,u.providerId),yield md(E,m.auth);const C=yield _p(m);return E._openRedirect(m.auth,u,"linkViaRedirect",C)})).apply(this,arguments)}function gp(p,u){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,N.A)(function*(p,u){return yield yn(p)._initializationPromise,mp(p,u,!1)})).apply(this,arguments)}function mp(p,u){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,N.A)(function*(p,u,h=!1){if((0,Oe._isFirebaseServerApp)(p.app))return Promise.reject(pt(p));const m=yn(p),E=Ba(m,u),H=yield new Ew(m,E,h).execute();return H&&!h&&(delete H.user._redirectEventId,yield m._persistUserIfCurrent(H.user),yield m._setRedirectUser(null,u)),H})).apply(this,arguments)}function _p(p){return ai.apply(this,arguments)}function ai(){return(ai=(0,N.A)(function*(p){const u=vi(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class yp{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let h=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(h=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Dw(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=u,h=!0)),h}sendToConsumer(u,h){var m;if(u.error&&!lo(u)){const E=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";h.onError(Bt(this.auth,E))}else h.onAuthEvent(u)}isEventForConsumer(u,h){const m=null===h.eventId||!!u.eventId&&u.eventId===h.eventId;return h.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ua(u))}saveEventToCache(u){this.cachedEventUids.add(Ua(u)),this.lastProcessedEventTime=Date.now()}}function Ua(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function lo({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function vp(p){return bp.apply(this,arguments)}function bp(){return(bp=(0,N.A)(function*(p,u={}){return oe(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Cw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ep=/^https?/;function _d(){return(_d=(0,N.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield vp(p);for(const h of u)try{if(Tp(h))return}catch{}Lt(p,"unauthorized-domain")})).apply(this,arguments)}function Tp(p){const u=nt(),{protocol:h,hostname:m}=new URL(u);if(p.startsWith("chrome-extension://")){const H=new URL(p);return""===H.hostname&&""===m?"chrome-extension:"===h&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===h&&H.hostname===m}if(!Ep.test(h))return!1;if(Cw.test(p))return m===p;const E=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(m)}const Aw=new ln(3e4,6e4);function Ip(){const p=Mr().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Uc=null;const Ay=new ln(5e3,15e3),Sy="__/auth/iframe",Cp="emulator/auth/iframe",Sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pi(p){const u=p.config;G(u.authDomain,p,"auth-domain-config-required");const h=u.emulator?mt(u,Cp):`https://${p.config.authDomain}/${Sy}`,m={apiKey:u.apiKey,appName:p.name,v:Oe.SDK_VERSION},E=Rw.get(p.config.apiHost);E&&(m.eid=E);const C=p._getFrameworks();return C.length&&(m.fw=C.join(",")),`${h}?${(0,O.Am)(m).slice(1)}`}function nr(){return nr=(0,N.A)(function*(p){const u=yield function Cy(p){return Uc=Uc||function Dp(p){return new Promise((u,h)=>{var m,E,C;function H(){Ip(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Ip(),h(Bt(p,"network-request-failed"))},timeout:Aw.get()})}if(null!==(E=null===(m=Mr().gapi)||void 0===m?void 0:m.iframes)&&void 0!==E&&E.Iframe)u(gapi.iframes.getContext());else{if(null===(C=Mr().gapi)||void 0===C||!C.load){const le=JE("iframefcb");return Mr()[le]=()=>{gapi.load?H():h(Bt(p,"network-request-failed"))},S_(`${function YE(){return ls.gapiScript}()}?onload=${le}`).catch(Te=>h(Te))}H()}}).catch(u=>{throw Uc=null,u})}(p),Uc}(p),h=Mr().gapi;return G(h,p,"internal-error"),u.open({where:document.body,url:Pi(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sw,dontclear:!0},m=>new Promise(function(){var E=(0,N.A)(function*(C,H){yield m.restyle({setHideOnLeave:!1});const le=Bt(p,"network-request-failed"),Te=Mr().setTimeout(()=>{H(le)},Ay.get());function rt(){Mr().clearTimeout(Te),C(m)}m.ping(rt).then(rt,()=>{H(le)})});return function(C,H){return E.apply(this,arguments)}}()))}),nr.apply(this,arguments)}const Ry={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ap{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mw="__/auth/handler",vd="emulator/auth/handler",bd=encodeURIComponent("fac");function Pl(p,u,h,m,E,C){return jc.apply(this,arguments)}function jc(){return(jc=(0,N.A)(function*(p,u,h,m,E,C){G(p.config.authDomain,p,"auth-domain-config-required"),G(p.config.apiKey,p,"invalid-api-key");const H={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:m,v:Oe.SDK_VERSION,eventId:E};if(u instanceof Is){u.setDefaultLanguage(p.languageCode),H.providerId=u.providerId||"",(0,O.Im)(u.getCustomParameters())||(H.customParameters=JSON.stringify(u.getCustomParameters()));for(const[yt,an]of Object.entries(C||{}))H[yt]=an}if(u instanceof ri){const yt=u.getScopes().filter(an=>""!==an);yt.length>0&&(H.scopes=yt.join(","))}p.tenantId&&(H.tid=p.tenantId);const le=H;for(const yt of Object.keys(le))void 0===le[yt]&&delete le[yt];const Te=yield p._getAppCheckToken(),rt=Te?`#${bd}=${encodeURIComponent(Te)}`:"";return`${function My({config:p}){return p.emulator?mt(p,vd):`https://${p.authDomain}/${Mw}`}(p)}?${(0,O.Am)(le).slice(1)}${rt}`})).apply(this,arguments)}const Ed="webStorageSupport",$a=class Ow{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zf,this._completeRedirectFn=mp,this._overrideRedirectResult=Ey}_openPopup(u,h,m,E){var C=this;return(0,N.A)(function*(){var H;Ue(null===(H=C.eventManagers[u._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const le=yield Pl(u,h,m,nt(),E);return function yd(p,u,h,m=500,E=600){const C=Math.max((window.screen.availHeight-E)/2,0).toString(),H=Math.max((window.screen.availWidth-m)/2,0).toString();let le="";const Te=Object.assign(Object.assign({},Ry),{width:m.toString(),height:E.toString(),top:C,left:H}),rt=(0,O.ZQ)().toLowerCase();h&&(le=ws(rt)?"_blank":h),$e(rt)&&(u=u||"http://localhost",Te.scrollbars="yes");const yt=Object.entries(Te).reduce((Mi,[oa,Ha])=>`${Mi}${oa}=${Ha},`,"");if(function he(p=(0,O.ZQ)()){var u;return gc(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(rt)&&"_self"!==le)return function sa(p,u){const h=document.createElement("a");h.href=p,h.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(m)}(u||"",le),new Ap(null);const an=window.open(u||"",le,yt);G(an,p,"popup-blocked");try{an.focus()}catch{}return new Ap(an)}(u,le,vi())})()}_openRedirect(u,h,m,E){var C=this;return(0,N.A)(function*(){return yield C._originValidation(u),function ry(p){Mr().location.href=p}(yield Pl(u,h,m,nt(),E)),new Promise(()=>{})})()}_initialize(u){const h=u._key();if(this.eventManagers[h]){const{manager:E,promise:C}=this.eventManagers[h];return E?Promise.resolve(E):(Ue(C,"If manager is not set, promise should be"),C)}const m=this.initAndGetManager(u);return this.eventManagers[h]={promise:m},m.catch(()=>{delete this.eventManagers[h]}),m}initAndGetManager(u){var h=this;return(0,N.A)(function*(){const m=yield function ja(p){return nr.apply(this,arguments)}(u),E=new yp(u);return m.register("authEvent",C=>(G(C?.authEvent,u,"invalid-auth-event"),{status:E.onEvent(C.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[u._key()]={manager:E},h.iframes[u._key()]=m,E})()}_isIframeWebStorageSupported(u,h){this.iframes[u._key()].send(Ed,{type:Ed},E=>{var C;const H=null===(C=E?.[0])||void 0===C?void 0:C[Ed];void 0!==H&&h(!!H),Lt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const h=u._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function wp(p){return _d.apply(this,arguments)}(u)),this.originValidationPromises[h]}get _shouldInitProactively(){return U()||Jn()||gc()}};class Ml{constructor(u){this.factorId=u}_process(u,h,m){switch(h.type){case"enroll":return this._finalizeEnroll(u,h.credential,m);case"signin":return this._finalizeSignIn(u,h.credential);default:return Fe("unexpected MultiFactorSessionType")}}}class Sp extends Ml{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Sp(u)}_finalizeEnroll(u,h,m){return function $R(p,u){return oe(p,"POST","/v2/accounts/mfaEnrollment:finalize",ee(p,u))}(u,{idToken:h,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,h){return function KR(p,u){return oe(p,"POST","/v2/accounts/mfaSignIn:finalize",ee(p,u))}(u,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let YR=(()=>{class p{constructor(){}static assertion(h){return Sp._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var xw="@firebase/auth";class Rp{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var h=this;return(0,N.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const h=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,h),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const h=this.internalListeners.get(u);h&&(this.internalListeners.delete(u),h(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Np=(0,O.XA)("authIdTokenMaxAge")||300;let zc=null;const JR=p=>function(){var u=(0,N.A)(function*(h){const m=h&&(yield h.getIdTokenResult()),E=m&&((new Date).getTime()-Date.parse(m.issuedAtTime))/1e3;if(E&&E>Np)return;const C=m?.token;zc!==C&&(zc=C,yield fetch(p,{method:C?"POST":"DELETE",headers:C?{Authorization:`Bearer ${C}`}:{}}))});return function(h){return u.apply(this,arguments)}}();function Fy(p=(0,Oe.getApp)()){const u=(0,Oe._getProvider)(p,"auth");if(u.isInitialized())return u.getImmediate();const h=function rn(p,u){const h=(0,Oe._getProvider)(p,"auth");if(h.isInitialized()){const E=h.getImmediate(),C=h.getOptions();if((0,O.bD)(C,u??{}))return E;Lt(E,"already-initialized")}return h.initialize({options:u})}(p,{popupRedirectResolver:$a,persistence:[ld,Ro,Zf]}),m=(0,O.XA)("authTokenSyncURL");if(m&&"boolean"==typeof isSecureContext&&isSecureContext){const C=new URL(m,location.origin);if(location.origin===C.origin){const H=JR(C.toString());(function Jf(p,u,h){(0,O.Ku)(p).beforeAuthStateChanged(u,h)})(h,H,()=>H(h.currentUser)),function Bs(p,u,h,m){(0,O.Ku)(p).onIdTokenChanged(u,h,m)}(h,le=>H(le))}}const E=(0,O.Tj)("auth");return E&&M_(h,`http://${E}`),h}(function AR(p){ls=p})({loadJS:p=>new Promise((u,h)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=u,m.onerror=E=>{const C=Bt("internal-error");C.customData=E,h(C)},m.type="text/javascript",m.charset="UTF-8",function Vy(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(m)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Fw(p){(0,Oe._registerComponent)(new Un.uA("auth",(u,{options:h})=>{const m=u.getProvider("app").getImmediate(),E=u.getProvider("heartbeat"),C=u.getProvider("app-check-internal"),{apiKey:H,authDomain:le}=m.options;G(H&&!H.includes(":"),"invalid-api-key",{appName:m.name});const Te={apiKey:H,authDomain:le,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(p)},rt=new mr(m,E,C,Te);return function Yu(p,u){const h=u?.persistence||[],m=(Array.isArray(h)?h:[h]).map(ve);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(m,u?.popupRedirectResolver)}(rt,h),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,h,m)=>{u.getProvider("auth-internal").initialize()})),(0,Oe._registerComponent)(new Un.uA("auth-internal",u=>{const h=yn(u.getProvider("auth").getImmediate());return new Rp(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.registerVersion)(xw,"1.7.9",function $c(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(p)),(0,Oe.registerVersion)(xw,"1.7.9","esm2017")}("Browser")},76:(gi,gr,ft)=>{"use strict";ft.d(gr,{Am:()=>Mt,Bd:()=>Fe,FA:()=>ze,Fy:()=>pt,I9:()=>Cn,Im:()=>Me,Ku:()=>Do,Ll:()=>G,T9:()=>Lt,Tj:()=>cr,Uj:()=>qe,XA:()=>Bt,ZQ:()=>W,bD:()=>Wt,c1:()=>nt,cY:()=>Yn,eX:()=>J,g:()=>ae,gR:()=>te,hp:()=>qt,jZ:()=>Z,lT:()=>ot,lV:()=>wn,mS:()=>zt,nr:()=>re,p7:()=>Ue,sr:()=>Ct,tD:()=>sn,u:()=>_e,yU:()=>Fn,zW:()=>K,zw:()=>it});const Be=function(D){const w=[];let T=0;for(let M=0;M<D.length;M++){let L=D.charCodeAt(M);L<128?w[T++]=L:L<2048?(w[T++]=L>>6|192,w[T++]=63&L|128):55296==(64512&L)&&M+1<D.length&&56320==(64512&D.charCodeAt(M+1))?(L=65536+((1023&L)<<10)+(1023&D.charCodeAt(++M)),w[T++]=L>>18|240,w[T++]=L>>12&63|128,w[T++]=L>>6&63|128,w[T++]=63&L|128):(w[T++]=L>>12|224,w[T++]=L>>6&63|128,w[T++]=63&L|128)}return w},Un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,w){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const T=w?this.byteToCharMapWebSafe_:this.byteToCharMap_,M=[];for(let L=0;L<D.length;L+=3){const ve=D[L],ke=L+1<D.length,Tt=ke?D[L+1]:0,pn=L+2<D.length,ct=pn?D[L+2]:0;let Jn=(15&Tt)<<2|ct>>6,ws=63&ct;pn||(ws=64,ke||(Jn=64)),M.push(T[ve>>2],T[(3&ve)<<4|Tt>>4],T[Jn],T[ws])}return M.join("")},encodeString(D,w){return this.HAS_NATIVE_SUPPORT&&!w?btoa(D):this.encodeByteArray(Be(D),w)},decodeString(D,w){return this.HAS_NATIVE_SUPPORT&&!w?atob(D):function(D){const w=[];let T=0,M=0;for(;T<D.length;){const L=D[T++];if(L<128)w[M++]=String.fromCharCode(L);else if(L>191&&L<224){const ve=D[T++];w[M++]=String.fromCharCode((31&L)<<6|63&ve)}else if(L>239&&L<365){const pn=((7&L)<<18|(63&D[T++])<<12|(63&D[T++])<<6|63&D[T++])-65536;w[M++]=String.fromCharCode(55296+(pn>>10)),w[M++]=String.fromCharCode(56320+(1023&pn))}else{const ve=D[T++],ke=D[T++];w[M++]=String.fromCharCode((15&L)<<12|(63&ve)<<6|63&ke)}}return w.join("")}(this.decodeStringToByteArray(D,w))},decodeStringToByteArray(D,w){this.init_();const T=w?this.charToByteMapWebSafe_:this.charToByteMap_,M=[];for(let L=0;L<D.length;){const ve=T[D.charAt(L++)],Tt=L<D.length?T[D.charAt(L)]:0;++L;const ct=L<D.length?T[D.charAt(L)]:64;++L;const $e=L<D.length?T[D.charAt(L)]:64;if(++L,null==ve||null==Tt||null==ct||null==$e)throw new kn;M.push(ve<<2|Tt>>4),64!==ct&&(M.push(Tt<<4&240|ct>>2),64!==$e&&M.push(ct<<6&192|$e))}return M},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class kn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qe=function(D){return function(D){const w=Be(D);return Un.encodeByteArray(w,!0)}(D).replace(/\./g,"")},_e=function(D){try{return Un.decodeString(D,!0)}catch(w){console.error("base64Decode failed: ",w)}return null};function it(D,w){if(!(w instanceof Object))return w;switch(w.constructor){case Date:return new Date(w.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return w}for(const T in w)!w.hasOwnProperty(T)||!St(T)||(D[T]=it(D[T],w[T]));return D}function St(D){return"__proto__"!==D}function zt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dt=()=>{try{return zt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const w=D&&_e(D[1]);return w&&JSON.parse(w)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},cr=D=>{var w,T;return null===(T=null===(w=Dt())||void 0===w?void 0:w.emulatorHosts)||void 0===T?void 0:T[D]},Fn=D=>{const w=cr(D);if(!w)return;const T=w.lastIndexOf(":");if(T<=0||T+1===w.length)throw new Error(`Invalid host ${w} with no separate hostname and port!`);const M=parseInt(w.substring(T+1),10);return"["===w[0]?[w.substring(1,T-1),M]:[w.substring(0,T),M]},Lt=()=>{var D;return null===(D=Dt())||void 0===D?void 0:D.config},Bt=D=>{var w;return null===(w=Dt())||void 0===w?void 0:w[`_${D}`]};class Yn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((w,T)=>{this.resolve=w,this.reject=T})}wrapCallback(w){return(T,M)=>{T?this.reject(T):this.resolve(M),"function"==typeof w&&(this.promise.catch(()=>{}),1===w.length?w(T):w(T,M))}}}function pt(D,w){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const M=w||"demo-project",L=D.iat||0,ve=D.sub||D.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${M}`,aud:M,iat:L,exp:L+3600,auth_time:L,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},D);return[qe(JSON.stringify({alg:"none",type:"JWT"})),qe(JSON.stringify(ke)),""].join(".")}function W(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function G(){var D;const w=null===(D=Dt())||void 0===D?void 0:D.forceEnvironment;if("node"===w)return!0;if("browser"===w)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return typeof window<"u"||Ue()}function Ue(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function nt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ct(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function wn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){const D=W();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function re(){return!G()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch{return!1}}function J(){return new Promise((D,w)=>{try{let T=!0;const M="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(M);L.onsuccess=()=>{L.result.close(),T||self.indexedDB.deleteDatabase(M),D(!0)},L.onupgradeneeded=()=>{T=!1},L.onerror=()=>{var ve;w((null===(ve=L.error)||void 0===ve?void 0:ve.message)||"")}}catch(T){w(T)}})}class ae extends Error{constructor(w,T,M){super(T),this.code=w,this.customData=M,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(w,T,M){this.service=w,this.serviceName=T,this.errors=M}create(w,...T){const M=T[0]||{},L=`${this.service}/${w}`,ve=this.errors[w],ke=ve?function xe(D,w){return D.replace(Et,(T,M)=>{const L=w[M];return null!=L?String(L):`<${M}?>`})}(ve,M):"Error";return new ae(L,`${this.serviceName}: ${ke} (${L}).`,M)}}const Et=/\{\$([^}]+)}/g;function te(D,w){return Object.prototype.hasOwnProperty.call(D,w)}function Me(D){for(const w in D)if(Object.prototype.hasOwnProperty.call(D,w))return!1;return!0}function Wt(D,w){if(D===w)return!0;const T=Object.keys(D),M=Object.keys(w);for(const L of T){if(!M.includes(L))return!1;const ve=D[L],ke=w[L];if(Nt(ve)&&Nt(ke)){if(!Wt(ve,ke))return!1}else if(ve!==ke)return!1}for(const L of M)if(!T.includes(L))return!1;return!0}function Nt(D){return null!==D&&"object"==typeof D}function Mt(D){const w=[];for(const[T,M]of Object.entries(D))Array.isArray(M)?M.forEach(L=>{w.push(encodeURIComponent(T)+"="+encodeURIComponent(L))}):w.push(encodeURIComponent(T)+"="+encodeURIComponent(M));return w.length?"&"+w.join("&"):""}function Cn(D){const w={};return D.replace(/^\?/,"").split("&").forEach(M=>{if(M){const[L,ve]=M.split("=");w[decodeURIComponent(L)]=decodeURIComponent(ve)}}),w}function qt(D){const w=D.indexOf("?");if(!w)return"";const T=D.indexOf("#",w);return D.substring(w,T>0?T:void 0)}function sn(D,w){const T=new on(D,w);return T.subscribe.bind(T)}class on{constructor(w,T){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=T,this.task.then(()=>{w(this)}).catch(M=>{this.error(M)})}next(w){this.forEachObserver(T=>{T.next(w)})}error(w){this.forEachObserver(T=>{T.error(w)}),this.close(w)}complete(){this.forEachObserver(w=>{w.complete()}),this.close()}subscribe(w,T,M){let L;if(void 0===w&&void 0===T&&void 0===M)throw new Error("Missing Observer.");L=function Kt(D,w){if("object"!=typeof D||null===D)return!1;for(const T of w)if(T in D&&"function"==typeof D[T])return!0;return!1}(w,["next","error","complete"])?w:{next:w,error:T,complete:M},void 0===L.next&&(L.next=Xt),void 0===L.error&&(L.error=Xt),void 0===L.complete&&(L.complete=Xt);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),ve}unsubscribeOne(w){void 0===this.observers||void 0===this.observers[w]||(delete this.observers[w],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(w){if(!this.finalized)for(let T=0;T<this.observers.length;T++)this.sendOne(T,w)}sendOne(w,T){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[w])try{T(this.observers[w])}catch(M){typeof console<"u"&&console.error&&console.error(M)}})}close(w){this.finalized||(this.finalized=!0,void 0!==w&&(this.finalError=w),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}function Do(D){return D&&D._delegate?D._delegate:D}},151:(gi,gr,ft)=>{"use strict";function N(n){return"function"==typeof n}function Oe(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=Oe(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Be(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Vt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(N(r))try{r()}catch(s){t=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Nn(s)}catch(o){t=t??[],o instanceof O?t=[...t,...o.errors]:t.push(o)}}if(t)throw new O(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Nn(t);else{if(t instanceof Vt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Be(e,t)}remove(t){const{_finalizers:e}=this;e&&Be(e,t),t instanceof Vt&&t._removeParent(this)}}Vt.EMPTY=(()=>{const n=new Vt;return n.closed=!0,n})();const Un=Vt.EMPTY;function kn(n){return n instanceof Vt||n&&"closed"in n&&N(n.remove)&&N(n.add)&&N(n.unsubscribe)}function Nn(n){N(n)?n():n.unsubscribe()}const qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_e={setTimeout(n,t,...e){const{delegate:r}=_e;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=_e;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ee(n){_e.setTimeout(()=>{const{onUnhandledError:t}=qe;if(!t)throw n;t(n)})}function it(){}const St=Gt("C",void 0,void 0);function Gt(n,t,e){return{kind:n,value:t,error:e}}let _t=null;function Dt(n){if(qe.useDeprecatedSynchronousErrorHandling){const t=!_t;if(t&&(_t={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=_t;if(_t=null,e)throw r}}else n()}class Fn extends Vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,kn(t)&&t.add(this)):this.destination=Fe}static create(t,e,r){return new pt(t,e,r)}next(t){this.isStopped?G(function Pn(n){return Gt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?G(function zt(n){return Gt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?G(St,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Lt=Function.prototype.bind;function Bt(n,t){return Lt.call(n,t)}class Yn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){W(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){W(r)}else W(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){W(e)}}}class pt extends Fn{constructor(t,e,r){let i;if(super(),N(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&qe.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Bt(t.next,s),error:t.error&&Bt(t.error,s),complete:t.complete&&Bt(t.complete,s)}):i=t}this.destination=new Yn(i)}}function W(n){qe.useDeprecatedSynchronousErrorHandling?function cr(n){qe.useDeprecatedSynchronousErrorHandling&&_t&&(_t.errorThrown=!0,_t.error=n)}(n):Ee(n)}function G(n,t){const{onStoppedNotification:e}=qe;e&&_e.setTimeout(()=>e(n,t))}const Fe={closed:!0,next:it,error:function Z(n){throw n},complete:it},Ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function nt(n){return n}function wn(n){return 0===n.length?nt:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let tt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const s=function mt(n){return n&&n instanceof Fn||function ln(n){return n&&N(n.next)&&N(n.error)&&N(n.complete)}(n)&&kn(n)}(e)?e:new pt(e,r,i);return Dt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ot(r))((i,s)=>{const o=new pt({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Ue](){return this}pipe(...e){return wn(e)(this)}toPromise(e){return new(e=ot(e))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=t=>new n(t),n})();function ot(n){var t;return null!==(t=n??qe.Promise)&&void 0!==t?t:Promise}const re=Oe(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let K=(()=>{class n extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new J(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new re}next(e){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Dt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Un:(this.currentObservers=null,s.push(e),new Vt(()=>{this.currentObservers=null,Be(s,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){const e=new tt;return e.source=this,e}}return n.create=(t,e)=>new J(t,e),n})();class J extends K{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:Un}}function ee(n){return N(n?.lift)}function oe(n){return t=>{if(ee(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,t,e,r,i){return new ze(n,t,e,r,i)}class ze extends Fn{constructor(t,e,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function xe(n,t){return oe((e,r)=>{let i=0;e.subscribe(ae(r,s=>{r.next(n.call(t,s,i++))}))})}var Et=ft(635);const Ce=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dt(n){return N(n?.then)}function wt(n){return N(n[Ue])}function fn(n){return Symbol.asyncIterator&&N(n?.[Symbol.asyncIterator])}function at(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const j=function q(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function te(n){return N(n?.[j])}function ge(n){return(0,Et.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Et.N3)(e.read());if(i)return yield(0,Et.N3)(void 0);yield yield(0,Et.N3)(r)}}finally{e.releaseLock()}})}function Me(n){return N(n?.getReader)}function we(n){if(n instanceof tt)return n;if(null!=n){if(wt(n))return function Wt(n){return new tt(t=>{const e=n[Ue]();if(N(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ce(n))return function Nt(n){return new tt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(dt(n))return function gt(n){return new tt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ee)})}(n);if(fn(n))return Cn(n);if(te(n))return function Mt(n){return new tt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Me(n))return function qt(n){return Cn(ge(n))}(n)}throw at(n)}function Cn(n){return new tt(t=>{(function jn(n,t){var e,r,i,s;return(0,Et.sH)(this,void 0,void 0,function*(){try{for(e=(0,Et.xN)(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function sn(n,t,e,r=0,i=!1){const s=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Jt(n,t,e=1/0){return N(t)?Jt((r,i)=>xe((s,o)=>t(r,s,i,o))(we(n(r,i))),e):("number"==typeof t&&(e=t),oe((r,i)=>function on(n,t,e,r,i,s,o,a){const l=[];let c=0,d=0,g=!1;const _=()=>{g&&!l.length&&!c&&t.complete()},v=A=>c<r?I(A):l.push(A),I=A=>{s&&t.next(A),c++;let S=!1;we(e(A,d++)).subscribe(ae(t,B=>{i?.(B),s?v(B):t.next(B)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<r;){const B=l.shift();o?sn(t,o,()=>I(B)):I(B)}_()}catch(B){t.error(B)}}))};return n.subscribe(ae(t,v,()=>{g=!0,_()})),()=>{a?.()}}(r,i,n,e)))}function Kt(n=1/0){return Jt(nt,n)}const Xt=new tt(n=>n.complete());function Ut(n){return n&&N(n.schedule)}function Si(n){return n[n.length-1]}function Ri(n){return N(Si(n))?n.pop():void 0}function eo(n){return Ut(Si(n))?n.pop():void 0}function Tr(n,t=0){return oe((e,r)=>{e.subscribe(ae(r,i=>sn(r,n,()=>r.next(i),t),()=>sn(r,n,()=>r.complete(),t),i=>sn(r,n,()=>r.error(i),t)))})}function mi(n,t=0){return oe((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Na(n,t){if(!n)throw new Error("Iterable cannot be null");return new tt(e=>{sn(e,t,()=>{const r=n[Symbol.asyncIterator]();sn(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function D(n,t){return t?function Do(n,t){if(null!=n){if(wt(n))return function Yo(n,t){return we(n).pipe(mi(t),Tr(t))}(n,t);if(Ce(n))return function Io(n,t){return new tt(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(dt(n))return function to(n,t){return we(n).pipe(mi(t),Tr(t))}(n,t);if(fn(n))return Na(n,t);if(te(n))return function Ra(n,t){return new tt(e=>{let r;return sn(e,t,()=>{r=n[j](),sn(e,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void e.error(o)}s?e.complete():e.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}(n,t);if(Me(n))return function no(n,t){return Na(ge(n),t)}(n,t)}throw at(n)}(n,t):we(n)}function w(...n){const t=eo(n),e=function Wn(n,t){return"number"==typeof Si(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?we(r[0]):Kt(e)(D(r,t)):Xt}class T extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function M(...n){return D(n,eo(n))}function L(n={}){const{connector:t=(()=>new K),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,d=!1,g=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),o=l=void 0,d=g=!1},I=()=>{const A=o;v(),A?.unsubscribe()};return oe((A,S)=>{c++,!g&&!d&&_();const B=l=l??t();S.add(()=>{c--,0===c&&!g&&!d&&(a=ve(I,i))}),B.subscribe(S),!o&&c>0&&(o=new pt({next:x=>B.next(x),error:x=>{g=!0,_(),a=ve(v,e,x),B.error(x)},complete:()=>{d=!0,_(),a=ve(v,r),B.complete()}}),we(A).subscribe(o))})(s)}}function ve(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new pt({next:()=>{r.unsubscribe(),n()}});return we(t(...e)).subscribe(r)}function ke(n,t){return oe((e,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();e.subscribe(ae(r,l=>{i?.unsubscribe();let c=0;const d=s++;we(n(l,d)).subscribe(i=ae(r,g=>r.next(t?t(l,g,d,c++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function pn(n,t){return n===t}function ct(n){for(let t in n)if(n[t]===ct)return t;throw Error("Could not find renamed property on target object.")}function $n(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function $e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Jn(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const ws=ct({__forward_ref__:ct});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return $e(this())},n}function At(n){return Pa(n)?n():n}function Pa(n){return"function"==typeof n&&n.hasOwnProperty(ws)&&n.__forward_ref__===Qt}function yl(n){return n&&!!n.\u0275providers}const mc="https://g.co/ng/security#xss";class he extends Error{constructor(t,e){super(function ue(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function U(n){return"string"==typeof n?n:null==n?"":String(n)}function Zt(n,t){throw new he(-201,!1)}function cs(n,t){null==n&&function Pt(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function Ve(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yu(n){return Of(n,Ju)||Of(n,xf)}function Of(n,t){return n.hasOwnProperty(t)?n[t]:null}function _c(n){return n&&(n.hasOwnProperty(Jo)||n.hasOwnProperty(kf))?n[Jo]:null}const Ju=ct({\u0275prov:ct}),Jo=ct({\u0275inj:ct}),xf=ct({ngInjectableDef:ct}),kf=ct({ngInjectorDef:ct});var cn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(cn||{});let yc;function _i(n){const t=yc;return yc=n,t}function x_(n,t,e){const r=Yu(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&cn.Optional?null:void 0!==t?t:void Zt($e(n))}const Zn=globalThis;class Ke{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ve({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Oa={},xa="__NG_DI_FLAG__",Ts="ngTempTokenPath",tw=/\n/gm,U_="__source";let Zo;function io(n){const t=Zo;return Zo=n,t}function rw(n,t=cn.Default){if(void 0===Zo)throw new he(-203,!1);return null===Zo?x_(n,void 0,t):Zo.get(n,t&cn.Optional?null:void 0,t)}function Ae(n,t=cn.Default){return(function O_(){return yc}()||rw)(At(n),t)}function je(n,t=cn.Default){return Ae(n,vl(t))}function vl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Co(n){const t=[];for(let e=0;e<n.length;e++){const r=At(n[e]);if(Array.isArray(r)){if(0===r.length)throw new he(900,!1);let i,s=cn.Default;for(let o=0;o<r.length;o++){const a=r[o],l=iw(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(Ae(i,s))}else t.push(Ae(r))}return t}function wc(n,t){return n[xa]=t,n.prototype[xa]=t,n}function iw(n){return n[xa]}function Vs(n){return{toString:n}.toString()}var Is=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Is||{}),ri=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ri||{});const Wi={},Tn=[],Zu=ct({\u0275cmp:ct}),Bf=ct({\u0275dir:ct}),Uf=ct({\u0275pipe:ct}),ka=ct({\u0275mod:ct}),Ao=ct({\u0275fac:ct}),Xo=ct({__NG_ELEMENT_ID__:ct}),$_=ct({__NG_ENV_ID__:ct});function jf(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}e=i+1}}function Ic(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const s=e[r++],o=e[r++],a=e[r++];n.setAttribute(t,o,a,s)}else{const s=i,o=e[++r];$f(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),r++}}return r}function us(n){return 3===n||4===n||6===n}function $f(n){return 64===n.charCodeAt(0)}function Dc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Xu(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Xu(n,t,e,r,i){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Cc="ng-template";function H_(n,t,e){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(e&&"class"===s&&-1!==jf(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Hf(n){return 4===n.type&&n.value!==Cc}function sw(n,t,e){return t===(4!==n.type||e?n.value:Cc)}function zf(n,t,e){let r=4;const i=n.attrs||[],s=function z_(n){for(let t=0;t<n.length;t++)if(us(n[t]))return t;return n.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!sw(n,l,e)||""===l&&1===t.length){if(ds(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!H_(n.attrs,c,e)){if(ds(r))return!1;o=!0}continue}const g=Gf(8&r?"class":l,i,Hf(n),e);if(-1===g){if(ds(r))return!1;o=!0;continue}if(""!==c){let _;_=g>s?"":i[g+1].toLowerCase();const v=8&r?_:null;if(v&&-1!==jf(v,c,0)||2&r&&c!==_){if(ds(r))return!1;o=!0}}}}else{if(!o&&!ds(r)&&!ds(l))return!1;if(o&&ds(l))continue;o=!1,r=l|1&r}}return ds(r)||o}function ds(n){return 0==(1&n)}function Gf(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let s=!1;for(;i<t.length;){const o=t[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function qf(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Ac(n,t,e=!1){for(let r=0;r<t.length;r++)if(zf(n,t[r],e))return!0;return!1}function G_(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ed(n,t){return n?":not("+t.trim()+")":t}function td(n){let t=n[0],e=1,r=2,i="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&r){const a=n[++e];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ds(o)&&(t+=ed(s,i),i=""),r=o,s=s||!ds(r);e++}return""!==i&&(t+=ed(s,i)),t}function Ir(n){return Vs(()=>{const t=rd(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Is.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ri.Emulated,styles:n.styles||Tn,_:null,schemas:n.schemas||null,tView:null,id:""};K_(e);const r=n.dependencies;return e.directiveDefs=bl(r,!1),e.pipeDefs=bl(r,!0),e.id=function Yf(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Qf(n){return mn(n)||Ur(n)}function ow(n){return null!==n}function en(n){return Vs(()=>({type:n.type,bootstrap:n.bootstrap||Tn,declarations:n.declarations||Tn,imports:n.imports||Tn,exports:n.exports||Tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nd(n,t){if(null==n)return Wi;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),e[i]=r,t&&(t[i]=s)}return e}function Le(n){return Vs(()=>{const t=rd(n);return K_(t),t})}function Jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mn(n){return n[Zu]||null}function Ur(n){return n[Bf]||null}function ii(n){return n[Uf]||null}function hs(n,t){const e=n[ka]||null;if(!e&&!0===t)throw new Error(`Type ${$e(n)} does not have '\u0275mod' property.`);return e}function rd(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Wi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nd(n.inputs,t),outputs:nd(n.outputs)}}function K_(n){n.features?.forEach(t=>t(n))}function bl(n,t){if(!n)return null;const e=t?ii:Qf;return()=>("function"==typeof n?n():n).map(r=>e(r)).filter(ow)}const _r=0,et=1,$t=2,Xn=3,Ls=4,Fa=5,yi=6,El=7,yr=8,ta=9,wl=10,Ot=11,Sc=12,id=13,Tl=14,vr=15,Rc=16,na=17,so=18,Va=19,Q_=20,oo=21,So=22,La=23,Nc=24,un=25,Pc=1,Y_=2,Ni=7,Il=9,si=11;function qi(n){return Array.isArray(n)&&"object"==typeof n[Pc]}function Ki(n){return Array.isArray(n)&&!0===n[Pc]}function J_(n){return 0!=(4&n.flags)}function Dl(n){return n.componentOffset>-1}function Cl(n){return 1==(1&n.flags)}function Bs(n){return!!n.template}function Jf(n){return 0!=(512&n[$t])}function Sl(n,t){return n.hasOwnProperty(Ao)?n[Ao]:null}const Ro=Symbol("SIGNAL");function Zf(n,t){return(null===n||"object"!=typeof n)&&Object.is(n,t)}let oi=null,sd=!1;function vi(n){const t=oi;return oi=n,t}const Xf={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Mr(n){if(sd)throw new Error("");if(null===oi)return;const t=oi.nextProducerIndex++;Po(oi),t<oi.producerNode.length&&oi.producerNode[t]!==n&&No(oi)&&Fc(oi.producerNode[t],oi.producerIndexOfThis[t]),oi.producerNode[t]!==n&&(oi.producerNode[t]=n,oi.producerIndexOfThis[t]=No(oi)?kc(n,oi,t):0),oi.producerLastReadVersion[t]=n.version}function ry(n){if(!No(n)||n.dirty){if(!n.producerMustRecompute(n)&&!rp(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function od(n){if(void 0===n.liveConsumerNode)return;const t=sd;sd=!0;try{for(const e of n.liveConsumerNode)e.dirty||ad(e)}finally{sd=t}}function ep(){return!1!==oi?.consumerAllowSignalWrites}function ad(n){n.dirty=!0,od(n),n.consumerMarkedDirty?.(n)}function tp(n){return n&&(n.nextProducerIndex=0),vi(n)}function np(n,t){if(vi(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(No(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Fc(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function rp(n){Po(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],r=n.producerLastReadVersion[t];if(r!==e.version||(ry(e),r!==e.version))return!0}return!1}function iy(n){if(Po(n),No(n))for(let t=0;t<n.producerNode.length;t++)Fc(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kc(n,t,e){if(sy(n),Po(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=kc(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Fc(n,t){if(sy(n),Po(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Fc(n.producerNode[r],n.producerIndexOfThis[r]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[t],i=n.liveConsumerNode[t];Po(i),i.producerIndexOfThis[r]=t}}function No(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Po(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function sy(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let cy=function ly(){throw new Error};function sp(){cy()}let ld=null;function cd(n,t){const e=Object.create(fw);function r(){return Mr(e),e.value}return e.value=n,t?.equal&&(e.equal=t.equal),r.set=dy,r.update=ud,r.mutate=pw,r.asReadonly=gw,r[Ro]=e,r}const fw=(()=>({...Xf,equal:Zf,readonlyFn:void 0}))();function uy(n){n.version++,od(n),ld?.()}function dy(n){const t=this[Ro];ep()||sp(),t.equal(t.value,n)||(t.value=n,uy(t))}function ud(n){ep()||sp(),dy.call(this,n(this[Ro].value))}function pw(n){const t=this[Ro];ep()||sp(),n(t.value),uy(t)}function gw(){const n=this[Ro];if(void 0===n.readonlyFn){const t=()=>this();t[Ro]=n,n.readonlyFn=t}return n.readonlyFn}const fy=()=>{},mw=(()=>({...Xf,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fy}))();class _w{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function zr(){return py}function py(n){return n.type.prototype.ngOnChanges&&(n.setInput=vw),yw}function yw(){const n=gy(this),t=n?.current;if(t){const e=n.previous;if(e===Wi)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function vw(n,t,e,r){const i=this.declaredInputs[e],s=gy(n)||function ap(n,t){return n[dd]=t}(n,{previous:Wi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new _w(l&&l.currentValue,t,a===Wi),n[r]=t}zr.ngInherit=!0;const dd="__ngSimpleChanges__";function gy(n){return n[dd]||null}const ao=function(n,t,e){},hd="svg";function Hn(n){for(;Array.isArray(n);)n=n[_r];return n}function Rl(n,t){return Hn(t[n])}function Qi(n,t){return Hn(t[n.index])}function fd(n,t){return n.data[t]}function Nl(n,t){return n[t]}function fs(n,t){const e=t[n];return qi(e)?e:e[_r]}function ra(n,t){return null==t?null:n[t]}function _y(n){n[na]=0}function hp(n){1024&n[$t]||(n[$t]|=1024,pd(n,1))}function yy(n){1024&n[$t]&&(n[$t]&=-1025,pd(n,-1))}function pd(n,t){let e=n[Xn];if(null===e)return;e[Fa]+=t;let r=e;for(e=e[Xn];null!==e&&(1===t&&1===r[Fa]||-1===t&&0===r[Fa]);)e[Fa]+=t,r=e,e=e[Xn]}const Rt={lFrame:Cy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function md(){return Rt.bindingsEnabled}function ia(){return null!==Rt.skipHydrationRootTNode}function De(){return Rt.lFrame.lView}function _n(){return Rt.lFrame.tView}function dn(n){return Rt.lFrame.contextLView=n,n[yr]}function hn(n){return Rt.lFrame.contextLView=null,n}function Gr(){let n=Iy();for(;null!==n&&64===n.type;)n=n.parent;return n}function Iy(){return Rt.lFrame.currentTNode}function Ds(n,t){const e=Rt.lFrame;e.currentTNode=n,e.isParent=t}function gp(){return Rt.lFrame.isParent}function Bc(){Rt.lFrame.isParent=!1}function ai(){const n=Rt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Ua(){return Rt.lFrame.bindingIndex++}function lo(n){const t=Rt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function bp(n,t){const e=Rt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Ep(t)}function Ep(n){Rt.lFrame.currentDirectiveIndex=n}function wp(n){const t=Rt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function _d(){return Rt.lFrame.currentQueryIndex}function Tp(n){Rt.lFrame.currentQueryIndex=n}function Aw(n){const t=n[et];return 2===t.type?t.declTNode:1===t.type?n[yi]:null}function Ip(n,t,e){if(e&cn.SkipSelf){let i=t,s=n;for(;!(i=i.parent,null!==i||e&cn.Host||(i=Aw(s),null===i||(s=s[Tl],10&i.type))););if(null===i)return!1;t=i,n=s}const r=Rt.lFrame=Uc();return r.currentTNode=t,r.lView=n,!0}function Dp(n){const t=Uc(),e=n[et];Rt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Uc(){const n=Rt.lFrame,t=null===n?null:n.child;return null===t?Cy(n):t}function Cy(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Ay(){const n=Rt.lFrame;return Rt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Sy=Ay;function Cp(){const n=Ay();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pi(){return Rt.lFrame.selectedIndex}function ja(n){Rt.lFrame.selectedIndex=n}function nr(){const n=Rt.lFrame;return fd(n.tView,n.selectedIndex)}let Ap=!0;function yd(){return Ap}function sa(n){Ap=n}function vd(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function bd(n,t,e){My(n,t,3,e)}function Pl(n,t,e,r){(3&n[$t])===e&&My(n,t,e,r)}function jc(n,t){let e=n[$t];(3&e)===t&&(e&=8191,e+=1,n[$t]=e)}function My(n,t,e,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&n[na]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[na]+=65536),(a<s||-1==s)&&(Ow(n,e,t,l),n[na]=(4294901760&n[na])+l+2),l++}function Ed(n,t){ao(4,n,t);const e=vi(null);try{t.call(n)}finally{vi(e),ao(5,n,t)}}function Ow(n,t,e,r){const i=e[r]<0,s=e[r+1],a=n[i?-e[r]:e[r]];i?n[$t]>>13<n[na]>>16&&(3&n[$t])===t&&(n[$t]+=8192,Ed(a,s)):Ed(a,s)}const $a=-1;class Ml{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Rp(n){return n!==$a}function $c(n){return 32767&n}function Hc(n,t){let e=function Fw(n){return n>>16}(n),r=t;for(;e>0;)r=r[Tl],e--;return r}let Np=!0;function zc(n){const t=Np;return Np=n,t}const Fy=255,Vy=5;let p=0;const u={};function m(n,t){const e=C(n,t);if(-1!==e)return e;const r=t[et];r.firstCreatePass&&(n.injectorIndex=t.length,E(r.data,n),E(t,null),E(r.blueprint,null));const i=H(n,t),s=n.injectorIndex;if(Rp(i)){const o=$c(i),a=Hc(i,t),l=a[et].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function E(n,t){n.push(0,0,0,0,0,0,0,0,t)}function C(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function H(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=By(i),null===r)return $a;if(e++,i=i[Tl],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return $a}function le(n,t,e){!function h(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Xo)&&(r=e[Xo]),null==r&&(r=e[Xo]=p++);const i=r&Fy;t.data[n+(i>>Vy)]|=1<<i}(n,t,e)}function rt(n,t,e){if(e&cn.Optional||void 0!==n)return n;Zt()}function yt(n,t,e,r){if(e&cn.Optional&&void 0===r&&(r=null),!(e&(cn.Self|cn.Host))){const i=n[ta],s=_i(void 0);try{return i?i.get(t,r,e&cn.Optional):x_(t,r,e&cn.Optional)}finally{_i(s)}}return rt(r,0,e)}function an(n,t,e,r=cn.Default,i){if(null!==n){if(2048&t[$t]&&!(r&cn.Self)){const o=function Fp(n,t,e,r,i){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[$t]&&!(512&o[$t]);){const a=Mi(s,o,e,r|cn.Self,u);if(a!==u)return a;let l=s.parent;if(!l){const c=o[Q_];if(c){const d=c.get(e,u,r);if(d!==u)return d}l=By(o),o=o[Tl]}s=l}return i}(n,t,e,r,u);if(o!==u)return o}const s=Mi(n,t,e,r,u);if(s!==u)return s}return yt(t,e,r,i)}function Mi(n,t,e,r,i){const s=function Pp(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Xo)?n[Xo]:void 0;return"number"==typeof t?t>=0?t&Fy:xp:t}(e);if("function"==typeof s){if(!Ip(t,n,r))return r&cn.Host?rt(i,0,r):yt(t,e,r,i);try{let o;if(o=s(r),null!=o||r&cn.Optional)return o;Zt()}finally{Sy()}}else if("number"==typeof s){let o=null,a=C(n,t),l=$a,c=r&cn.Host?t[vr][yi]:null;for((-1===a||r&cn.SkipSelf)&&(l=-1===a?H(n,t):t[a+8],l!==$a&&Op(r,!1)?(o=t[et],a=$c(l),t=Hc(l,t)):a=-1);-1!==a;){const d=t[et];if(Mp(s,a,d.data)){const g=oa(a,t,e,o,r,c);if(g!==u)return g}l=t[a+8],l!==$a&&Op(r,t[et].data[a+8]===c)&&Mp(s,a,t)?(o=d,a=$c(l),t=Hc(l,t)):a=-1}}return i}function oa(n,t,e,r,i,s){const o=t[et],a=o.data[n+8],d=Ha(a,o,e,null==r?Dl(a)&&Np:r!=o&&0!=(3&a.type),i&cn.Host&&s===a);return null!==d?aa(t,o,d,a):u}function Ha(n,t,e,r,i){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,d=s>>20,_=i?a+d:n.directiveEnd;for(let v=r?a:a+d;v<_;v++){const I=o[v];if(v<l&&e===I||v>=l&&I.type===e)return v}if(i){const v=o[l];if(v&&Bs(v)&&v.type===e)return l}return null}function aa(n,t,e,r){let i=n[e];const s=t.data;if(function Sp(n){return n instanceof Ml}(i)){const o=i;o.resolving&&function Je(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new he(-200,`Circular dependency in DI detected for ${n}${e}`)}(function ce(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():U(n)}(s[e]));const a=zc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?_i(o.injectImpl):null;Ip(n,r,cn.Default);try{i=n[e]=o.factory(void 0,s,n,r),t.firstCreatePass&&e>=r.directiveStart&&function Mw(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=py(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}i&&(e.preOrderHooks??=[]).push(0-n,i),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&_i(c),zc(a),o.resolving=!1,Sy()}}return i}function Mp(n,t,e){return!!(e[t+(n>>Vy)]&1<<n)}function Op(n,t){return!(n&cn.Self||n&cn.Host&&t)}class bi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return an(this._tNode,this._lView,t,vl(r),e)}}function xp(){return new bi(Gr(),De())}function Dr(n){return Vs(()=>{const t=n.prototype.constructor,e=t[Ao]||kp(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ao]||kp(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kp(n){return Pa(n)?()=>{const t=kp(At(n));return t&&t()}:Sl(n)}function By(n){const t=n[et],e=t.type;return 2===e?t.declTNode:1===e?n[yi]:null}const Id="__parameters__";function Cd(n,t,e){return Vs(()=>{const r=function Vw(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,d){const g=l.hasOwnProperty(Id)?l[Id]:Object.defineProperty(l,Id,{value:[]})[Id];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(o),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Sd(n,t){n.forEach(e=>Array.isArray(e)?Sd(e,t):t(e))}function XR(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Uy(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Lp(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Us(n,t,e){let r=Rd(n,t);return r>=0?n[1|r]=e:(r=~r,function F4(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Lw(n,t){const e=Rd(n,t);if(e>=0)return n[1|e]}function Rd(n,t){return function eN(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<e];if(t===o)return s<<e;o>t?i=s:r=s+1}return~(i<<e)}(n,t,1)}const Ei=wc(Cd("Optional"),8),$y=wc(Cd("SkipSelf"),4);function qy(n){return 128==(128&n.flags)}var Ol=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ol||{});const rz=/^>|^->|<!--|-->|--!>|<!-$/g,iz=/(<|>)/g,sz="\u200b$1\u200b";const Hw=new Map;let oz=0;const Gw="__ngContext__";function Yi(n,t){qi(t)?(n[Gw]=t[Va],function lz(n){Hw.set(n[Va],n)}(t)):n[Gw]=t}let Ww;function qw(n,t){return Ww(n,t)}function jp(n){const t=n[Xn];return Ki(t)?t[Xn]:t}function bN(n){return wN(n[Sc])}function EN(n){return wN(n[Ls])}function wN(n){for(;null!==n&&!Ki(n);)n=n[Ls];return n}function Md(n,t,e,r,i){if(null!=r){let s,o=!1;Ki(r)?s=r:qi(r)&&(o=!0,r=r[_r]);const a=Hn(r);0===n&&null!==e?null==i?CN(t,e,a):Wc(t,e,a,i||null,!0):1===n&&null!==e?Wc(t,e,a,i||null,!0):2===n?function ev(n,t,e){const r=Zy(n,t);r&&function Az(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function Nz(n,t,e,r,i){const s=e[Ni];s!==Hn(e)&&Md(t,n,r,s,i);for(let a=si;a<e.length;a++){const l=e[a];Hp(l[et],l,n,t,r,s)}}(t,n,s,e,i)}}function Kw(n,t){return n.createComment(function hN(n){return n.replace(rz,t=>t.replace(iz,sz))}(t))}function Yy(n,t,e){return n.createElement(t,e)}function IN(n,t){const e=n[Il],r=e.indexOf(t);yy(t),e.splice(r,1)}function Jy(n,t){if(n.length<=si)return;const e=si+t,r=n[e];if(r){const i=r[Rc];null!==i&&i!==n&&IN(i,r),t>0&&(n[e-1][Ls]=r[Ls]);const s=Uy(n,si+t);!function vz(n,t){Hp(n,t,t[Ot],2,null,null),t[_r]=null,t[yi]=null}(r[et],r);const o=s[so];null!==o&&o.detachView(s[et]),r[Xn]=null,r[Ls]=null,r[$t]&=-129}return r}function Qw(n,t){if(!(256&t[$t])){const e=t[Ot];t[La]&&iy(t[La]),t[Nc]&&iy(t[Nc]),e.destroyNode&&Hp(n,t,e,3,null,null),function wz(n){let t=n[Sc];if(!t)return Yw(n[et],n);for(;t;){let e=null;if(qi(t))e=t[Sc];else{const r=t[si];r&&(e=r)}if(!e){for(;t&&!t[Ls]&&t!==n;)qi(t)&&Yw(t[et],t),t=t[Xn];null===t&&(t=n),qi(t)&&Yw(t[et],t),e=t&&t[Ls]}t=e}}(t)}}function Yw(n,t){if(!(256&t[$t])){t[$t]&=-129,t[$t]|=256,function Cz(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Ml)){const s=e[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];ao(4,a,l);try{l.call(a)}finally{ao(5,a,l)}}else{ao(4,i,s);try{s.call(i)}finally{ao(5,i,s)}}}}}(n,t),function Dz(n,t){const e=n.cleanup,r=t[El];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else e[s].call(r[e[s+1]]);null!==r&&(t[El]=null);const i=t[oo];if(null!==i){t[oo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,t),1===t[et].type&&t[Ot].destroy();const e=t[Rc];if(null!==e&&Ki(t[Xn])){e!==t[Xn]&&IN(e,t);const r=t[so];null!==r&&r.detachView(n)}!function cz(n){Hw.delete(n[Va])}(t)}}function Jw(n,t,e){return function DN(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[_r];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===ri.None||s===ri.Emulated)return null}return Qi(r,e)}}(n,t.parent,e)}function Wc(n,t,e,r,i){n.insertBefore(t,e,r,i)}function CN(n,t,e){n.appendChild(t,e)}function AN(n,t,e,r,i){null!==r?Wc(n,t,e,r,i):CN(n,t,e)}function Zy(n,t){return n.parentNode(t)}function SN(n,t,e){return NN(n,t,e)}let Zw,tv,nT,nv,NN=function RN(n,t,e){return 40&n.type?Qi(n,e):null};function Xy(n,t,e,r){const i=Jw(n,r,t),s=t[Ot],a=SN(r.parent||t[yi],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)AN(s,i,e[l],a,!1);else AN(s,i,e,a,!1);void 0!==Zw&&Zw(s,r,t,e,i)}function $p(n,t){if(null!==t){const e=t.type;if(3&e)return Qi(t,n);if(4&e)return Xw(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return $p(n,r);{const i=n[t.index];return Ki(i)?Xw(-1,i):Hn(i)}}if(32&e)return qw(t,n)()||Hn(n[t.index]);{const r=MN(n,t);return null!==r?Array.isArray(r)?r[0]:$p(jp(n[vr]),r):$p(n,t.next)}}return null}function MN(n,t){return null!==t?n[vr][yi].projection[t.projection]:null}function Xw(n,t){const e=si+n+1;if(e<t.length){const r=t[e],i=r[et].firstChild;if(null!==i)return $p(r,i)}return t[Ni]}function eT(n,t,e,r,i,s,o){for(;null!=e;){const a=r[e.index],l=e.type;if(o&&0===t&&(a&&Yi(Hn(a),r),e.flags|=2),32!=(32&e.flags))if(8&l)eT(n,t,e.child,r,i,s,!1),Md(t,n,i,a,s);else if(32&l){const c=qw(e,r);let d;for(;d=c();)Md(t,n,i,d,s);Md(t,n,i,a,s)}else 16&l?xN(n,t,r,e,i,s):Md(t,n,i,a,s);e=o?e.projectionNext:e.next}}function Hp(n,t,e,r,i,s){eT(e,r,n.firstChild,t,i,s,!1)}function xN(n,t,e,r,i,s){const o=e[vr],l=o[yi].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Md(t,n,i,l[c],s);else{let c=l;const d=o[Xn];qy(r)&&(c.flags|=128),eT(n,t,c,d,i,s,!0)}}function kN(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function FN(n,t,e){const{mergedAttrs:r,classes:i,styles:s}=e;null!==r&&Ic(n,t,r),null!==i&&kN(n,t,i),null!==s&&function Mz(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Od(n){return function tT(){if(void 0===tv&&(tv=null,Zn.trustedTypes))try{tv=Zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tv}()?.createHTML(n)||n}function xd(){if(void 0!==nT)return nT;if(typeof document<"u")return document;throw new he(210,!1)}function rT(){if(void 0===nv&&(nv=null,Zn.trustedTypes))try{nv=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nv}function VN(n){return rT()?.createHTML(n)||n}function BN(n){return rT()?.createScriptURL(n)||n}class qc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mc})`}}class Vz extends qc{getTypeName(){return"HTML"}}class Lz extends qc{getTypeName(){return"Style"}}class Bz extends qc{getTypeName(){return"Script"}}class Uz extends qc{getTypeName(){return"URL"}}class jz extends qc{getTypeName(){return"ResourceURL"}}function js(n){return n instanceof qc?n.changingThisBreaksApplicationSecurity:n}function la(n,t){const e=function $z(n){return n instanceof qc&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${mc})`)}return e===t}class Kz{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Od(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Qz{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Od(t),e}}const Jz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rv(n){return(n=String(n)).match(Jz)?n:"unsafe:"+n}function Ga(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function zp(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const jN=Ga("area,br,col,hr,img,wbr"),$N=Ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HN=Ga("rp,rt"),iT=zp(jN,zp($N,Ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zp(HN,Ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zp(HN,$N)),sT=Ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zN=zp(sT,Ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zz=Ga("script,style,template");class Xz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!iT.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zz.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!zN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;sT[a]&&(l=rv(l)),this.buf.push(" ",o,'="',GN(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();iT.hasOwnProperty(e)&&!jN.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(GN(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const eG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tG=/([^\#-~ |!])/g;function GN(n){return n.replace(/&/g,"&amp;").replace(eG,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(tG,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let iv;function WN(n,t){let e=null;try{iv=iv||function UN(n){const t=new Qz(n);return function Yz(){try{return!!(new window.DOMParser).parseFromString(Od(""),"text/html")}catch{return!1}}()?new Kz(t):t}(n);let r=t?String(t):"";e=iv.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=iv.getInertBodyElement(r)}while(r!==s);return Od((new Xz).sanitizeChildren(oT(e)||e))}finally{if(e){const r=oT(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function oT(n){return"content"in n&&function nG(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var $s=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}($s||{});function sv(n){const t=Gp();return t?VN(t.sanitize($s.HTML,n)||""):la(n,"HTML")?VN(js(n)):WN(xd(),U(n))}function qN(n){const t=Gp();return t?t.sanitize($s.URL,n)||"":la(n,"URL")?js(n):rv(U(n))}function KN(n){const t=Gp();if(t)return BN(t.sanitize($s.RESOURCE_URL,n)||"");if(la(n,"ResourceURL"))return BN(js(n));throw new he(904,!1)}function Gp(){const n=De();return n&&n[wl].sanitizer}const Wp=new Ke("ENVIRONMENT_INITIALIZER"),YN=new Ke("INJECTOR",-1),JN=new Ke("INJECTOR_DEF_TYPES");class aT{get(t,e=Oa){if(e===Oa){const r=new Error(`NullInjectorError: No provider for ${$e(t)}!`);throw r.name="NullInjectorError",r}return e}}function lG(...n){return{\u0275providers:ZN(0,n),\u0275fromNgModule:!0}}function ZN(n,...t){const e=[],r=new Set;let i;const s=o=>{e.push(o)};return Sd(t,o=>{const a=o;ov(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&XN(i,s),e}function XN(n,t){for(let e=0;e<n.length;e++){const{ngModule:r,providers:i}=n[e];cT(i,s=>{t(s,r)})}}function ov(n,t,e,r){if(!(n=At(n)))return!1;let i=null,s=_c(n);const o=!s&&mn(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=_c(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)ov(c,t,e,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Sd(s.imports,d=>{ov(d,t,e,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&XN(c,t)}if(!a){const c=Sl(i)||(()=>new i);t({provide:i,useFactory:c,deps:Tn},i),t({provide:JN,useValue:i,multi:!0},i),t({provide:Wp,useValue:()=>Ae(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;cT(l,d=>{t(d,c)})}}}return i!==n&&void 0!==n.providers}function cT(n,t){for(let e of n)yl(e)&&(e=e.\u0275providers),Array.isArray(e)?cT(e,t):t(e)}const cG=ct({provide:String,useValue:ct});function uT(n){return null!==n&&"object"==typeof n&&cG in n}function Kc(n){return"function"==typeof n}const dT=new Ke("Set Injector scope."),av={},dG={};let hT;function lv(){return void 0===hT&&(hT=new aT),hT}class As{}class kd extends As{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pT(t,o=>this.processProvider(o)),this.records.set(YN,Fd(void 0,this)),i.has("environment")&&this.records.set(As,Fd(void 0,this));const s=this.records.get(dT);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(JN.multi,Tn,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=io(this),r=_i(void 0);try{return t()}finally{io(e),_i(r)}}get(t,e=Oa,r=cn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($_))return t[$_](this);r=vl(r);const s=io(this),o=_i(void 0);try{if(!(r&cn.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function mG(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ke}(t)&&Yu(t);l=c&&this.injectableDefInScope(c)?Fd(fT(t),av):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&cn.Self?lv():this.parent).get(t,e=r&cn.Optional&&e===Oa?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Ts]=a[Ts]||[]).unshift($e(t)),s)throw a;return function Tc(n,t,e,r){const i=n[Ts];throw t[U_]&&i.unshift(t[U_]),n.message=function xR(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=$e(t);if(Array.isArray(t))i=t.map($e).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$e(a)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(tw,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Ts]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{_i(o),io(s)}}resolveInjectorInitializers(){const t=io(this),e=_i(void 0);try{const i=this.get(Wp.multi,Tn,cn.Self);for(const s of i)s()}finally{io(t),_i(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push($e(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){let e=Kc(t=At(t))?t:At(t&&t.provide);const r=function fG(n){return uT(n)?Fd(void 0,n.useValue):Fd(nP(n),av)}(t);if(Kc(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Fd(void 0,av,!0),i.factory=()=>Co(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===av&&(e.value=dG,e.value=e.factory()),"object"==typeof e.value&&e.value&&function gG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=At(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function fT(n){const t=Yu(n),e=null!==t?t.factory:Sl(n);if(null!==e)return e;if(n instanceof Ke)throw new he(204,!1);if(n instanceof Function)return function hG(n){const t=n.length;if(t>0)throw Lp(t,"?"),new he(204,!1);const e=function XE(n){return n&&(n[Ju]||n[xf])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new he(204,!1)}function nP(n,t,e){let r;if(Kc(n)){const i=At(n);return Sl(i)||fT(i)}if(uT(n))r=()=>At(n.useValue);else if(function tP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Co(n.deps||[]));else if(function eP(n){return!(!n||!n.useExisting)}(n))r=()=>Ae(At(n.useExisting));else{const i=At(n&&(n.useClass||n.provide));if(!function pG(n){return!!n.deps}(n))return Sl(i)||fT(i);r=()=>new i(...Co(n.deps))}return r}function Fd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function pT(n,t){for(const e of n)Array.isArray(e)?pT(e,t):e&&yl(e)?pT(e.\u0275providers,t):t(e)}const cv=new Ke("AppId",{providedIn:"root",factory:()=>_G}),_G="ng",rP=new Ke("Platform Initializer"),Wa=new Ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iP=new Ke("AnimationModuleType"),sP=new Ke("CSP nonce",{providedIn:"root",factory:()=>xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let oP=(n,t,e)=>null;function wT(n,t,e=!1){return oP(n,t,e)}class AG{}class cP{}class RG{resolveComponentFactory(t){throw function SG(n){const t=Error(`No component factory found for ${$e(n)}.`);return t.ngComponent=n,t}(t)}}let Qp=(()=>{class n{static{this.NULL=new RG}}return n})();function NG(){return Bd(Gr(),De())}function Bd(n,t){return new Vn(Qi(n,t))}let Vn=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=NG}}return n})();function PG(n){return n instanceof Vn?n.nativeElement:n}class Ud{}let Hs=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function MG(){const n=De(),e=fs(Gr().index,n);return(qi(e)?e:n)[Ot]}()}}return n})(),OG=(()=>{class n{static{this.\u0275prov=Ve({token:n,providedIn:"root",factory:()=>null})}}return n})();class jd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const DT=new jd("16.2.12"),CT={};function pP(n,t=null,e=null,r){const i=gP(n,t,e,r);return i.resolveInjectorInitializers(),i}function gP(n,t=null,e=null,r,i=new Set){const s=[e||Tn,lG(n)];return r=r||("object"==typeof n?void 0:$e(n)),new kd(s,t||lv(),r||null,i)}let Cr=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Oa}static{this.NULL=new aT}static create(e,r){if(Array.isArray(e))return pP({name:""},r,e,"");{const i=e.name??"";return pP({name:i},e.parent,e.providers,i)}}static{this.\u0275prov=Ve({token:n,providedIn:"any",factory:()=>Ae(YN)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function AT(n){return n.ngOriginalError}class qa{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&AT(t);for(;e&&AT(e);)e=AT(e);return e||null}}function ST(n){return t=>{setTimeout(n,void 0,t)}}const It=class jG extends K{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,s=e||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ST(s),i&&(i=ST(i)),o&&(o=ST(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof Vt&&t.add(a),a}};function _P(...n){}class jt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $G(){const n="function"==typeof Zn.requestAnimationFrame;let t=Zn[n?"requestAnimationFrame":"setTimeout"],e=Zn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function GG(n){const t=()=>{!function zG(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Zn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,NT(n),n.isCheckStableRunning=!0,RT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),NT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,s,o,a)=>{if(function qG(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(i,s,o,a);try{return yP(n),e.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),vP(n)}},onInvoke:(e,r,i,s,o,a,l)=>{try{return yP(n),e.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),vP(n)}},onHasTask:(e,r,i,s)=>{e.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,NT(n),RT(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,r,i,s)=>(e.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jt.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(jt.isInAngularZone())throw new he(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,HG,_P,_P);try{return s.runTask(o,e,r)}finally{s.cancelTask(o)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const HG={};function RT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vP(n){n._nesting--,RT(n)}class WG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const bP=new Ke("",{providedIn:"root",factory:EP});function EP(){const n=je(jt);let t=!0;return w(new tt(i=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(t),i.complete()})}),new tt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{jt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{jt.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(L()))}function wP(n){return n.ownerDocument.defaultView}function Ka(n){return n instanceof Function?n():n}let PT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ve({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Yp(n){for(;n;){n[$t]|=64;const t=jp(n);if(Jf(n)&&!t)return n;n=t}return null}const AP=new Ke("",{providedIn:"root",factory:()=>!1});let _v=null;function PP(n,t){return n[t]??xP()}function MP(n,t){const e=xP();e.producerNode?.length&&(n[t]=_v,e.lView=n,_v=OP())}const n5={...Xf,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Yp(n.lView)},lView:null};function OP(){return Object.create(n5)}function xP(){return _v??=OP(),_v}const Yt={};function be(n){kP(_n(),De(),Pi()+n,!1)}function kP(n,t,e,r){if(!r)if(3==(3&t[$t])){const s=n.preOrderCheckHooks;null!==s&&bd(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Pl(t,s,0,e)}ja(e)}function z(n,t=cn.Default){const e=De();return null===e?Ae(n,t):an(Gr(),e,At(n),t)}function yv(n,t,e,r,i,s,o,a,l,c,d){const g=t.blueprint.slice();return g[_r]=i,g[$t]=140|r,(null!==c||n&&2048&n[$t])&&(g[$t]|=2048),_y(g),g[Xn]=g[Tl]=n,g[yr]=e,g[wl]=o||n&&n[wl],g[Ot]=a||n&&n[Ot],g[ta]=l||n&&n[ta]||null,g[yi]=s,g[Va]=function az(){return oz++}(),g[So]=d,g[Q_]=c,g[vr]=2==t.type?n[vr]:g,g}function Gd(n,t,e,r,i){let s=n.data[t];if(null===s)s=function MT(n,t,e,r,i){const s=Iy(),o=gp(),l=n.data[t]=function u5(n,t,e,r,i,s){let o=t?t.injectorIndex:-1,a=0;return ia()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,r,i),function Dw(){return Rt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=r,s.attrs=i;const o=function Lc(){const n=Rt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ds(s,!0),s}function Jp(n,t,e,r){if(0===e)return-1;const i=t.length;for(let s=0;s<e;s++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function VP(n,t,e,r,i){const s=PP(t,La),o=Pi(),a=2&r;try{ja(-1),a&&t.length>un&&kP(n,t,un,!1),ao(a?2:0,i);const c=a?s:null,d=tp(c);try{null!==c&&(c.dirty=!1),e(r,i)}finally{np(c,d)}}finally{a&&null===t[La]&&MP(t,La),ja(o),ao(a?3:1,i)}}function OT(n,t,e){if(J_(t)){const r=vi(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{vi(r)}}}function xT(n,t,e){md()&&(function _5(n,t,e,r){const i=e.directiveStart,s=e.directiveEnd;Dl(e)&&function I5(n,t,e){const r=Qi(t,n),i=LP(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=vv(n,yv(n,i,null,o,r,t,null,n[wl].rendererFactory.createRenderer(r,e),null,null,null));n[t.index]=a}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||m(e,t),Yi(r,t);const o=e.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=aa(t,n,a,e);Yi(c,t),null!==o&&D5(0,a-i,c,l,0,o),Bs(l)&&(fs(e.index,t)[yr]=aa(t,n,a,e))}}(n,t,e,Qi(e,t)),64==(64&e.flags)&&HP(n,t,e))}function kT(n,t,e=Qi){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?e(t,n):n[o];n[i++]=a}}}function LP(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=FT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function FT(n,t,e,r,i,s,o,a,l,c,d){const g=un+r,_=g+i,v=function i5(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Yt);return e}(g,_),I="function"==typeof c?c():c;return v[et]={type:n,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:I,incompleteFirstPass:!1,ssrId:d}}let BP=n=>null;function UP(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const s=n[i];null===r?jP(e,t,i,s):r.hasOwnProperty(i)&&jP(e,t,r[i],s)}return e}function jP(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function zs(n,t,e,r,i,s,o,a){const l=Qi(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[r])?(jT(n,e,d,r,i),Dl(t)&&function f5(n,t){const e=fs(t,n);16&e[$t]||(e[$t]|=64)}(e,t.index)):3&t.type&&(r=function h5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}function VT(n,t,e,r){if(md()){const i=null===r?null:{"":-1},s=function v5(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Ac(t,o.selectors,!1))if(r||(r=[]),Bs(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),LT(n,t,a.length)}else r.unshift(o),LT(n,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&$P(n,t,e,o,i,a),i&&function b5(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const s=e[t[i+1]];if(null==s)throw new he(-301,!1);r.push(t[i],s)}}}(e,r,i)}e.mergedAttrs=Dc(e.mergedAttrs,e.attrs)}function $P(n,t,e,r,i,s){for(let c=0;c<r.length;c++)le(m(e,t),n,r[c].type);!function w5(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Jp(n,t,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];e.mergedAttrs=Dc(e.mergedAttrs,d.hostAttrs),T5(n,e,t,l,d),E5(l,d,i),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const g=d.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function d5(n,t,e){const i=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<i;d++){const g=s[d],_=e?e.get(g):null,I=_?_.outputs:null;l=UP(g.inputs,d,l,_?_.inputs:null),c=UP(g.outputs,d,c,I);const A=null===l||null===o||Hf(t)?null:C5(l,d,o);a.push(A)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function HP(n,t,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,o=function Cw(){return Rt.lFrame.currentDirectiveIndex}();try{ja(s);for(let a=r;a<i;a++){const l=n.data[a],c=t[a];Ep(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&y5(l,c)}}finally{ja(-1),Ep(o)}}function y5(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function LT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function E5(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Bs(t)&&(e[""]=n)}}function T5(n,t,e,r,i){n.data[r]=i;const s=i.factory||(i.factory=Sl(i.type)),o=new Ml(s,Bs(i),z);n.blueprint[r]=o,e[r]=o,function g5(n,t,e,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function m5(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,r,s)}}(n,t,r,Jp(n,e,i.hostVars,Yt),i)}function ca(n,t,e,r,i,s){const o=Qi(n,t);!function BT(n,t,e,r,i,s,o){if(null==s)n.removeAttribute(t,i,e);else{const a=null==o?U(s):o(s,r||"",i);n.setAttribute(t,i,a,e)}}(t[Ot],o,s,n.value,e,r,i)}function D5(n,t,e,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)zP(r,e,o[a++],o[a++],o[a++])}function zP(n,t,e,r,i){const s=vi(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==n.setInput?n.setInput(t,i,e,r):t[r]=i}finally{vi(s)}}function C5(n,t,e){let r=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function GP(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null,null]}function WP(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const o=n.data[s];Tp(e[r]),o.contentQueries(2,t[s],s)}}}function vv(n,t){return n[Sc]?n[id][Ls]=t:n[Sc]=t,n[id]=t,t}function UT(n,t,e){Tp(0);const r=vi(null);try{t(n,e)}finally{vi(r)}}function qP(n){return n[El]||(n[El]=[])}function KP(n){return n.cleanup||(n.cleanup=[])}function QP(n,t,e){return(null===n||Bs(n))&&(e=function up(n){for(;Array.isArray(n);){if("object"==typeof n[Pc])return n;n=n[_r]}return null}(e[t.index])),e[Ot]}function YP(n,t){const e=n[ta],r=e?e.get(qa,null):null;r&&r.handleError(t)}function jT(n,t,e,r,i){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];zP(n.data[o],t[o],r,a,i)}}function A5(n,t){const e=fs(t,n),r=e[et];!function S5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(r,e);const i=e[_r];null!==i&&null===e[So]&&(e[So]=wT(i,e[ta])),$T(r,e,e[yr])}function $T(n,t,e){Dp(t);try{const r=n.viewQuery;null!==r&&UT(1,r,e);const i=n.template;null!==i&&VP(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&WP(n,t),n.staticViewQueries&&UT(2,n.viewQuery,e);const s=n.components;null!==s&&function R5(n,t){for(let e=0;e<t.length;e++)A5(n,t[e])}(t,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[$t]&=-5,Cp()}}let JP=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function op(n,t,e){const r=Object.create(mw);e&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=t;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>ad(r),run:()=>{if(r.dirty=!1,r.hasRun&&!rp(r))return;r.hasRun=!0;const o=tp(r);try{r.cleanupFn(),r.cleanupFn=fy,r.fn(i)}finally{np(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ve({token:n,providedIn:"root",factory:()=>new n})}}return n})();function bv(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=Jn(i,a):2==s&&(r=Jn(r,a+": "+t[++o]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Zp(n,t,e,r,i=!1){for(;null!==e;){const s=t[e.index];null!==s&&r.push(Hn(s)),Ki(s)&&ZP(s,r);const o=e.type;if(8&o)Zp(n,t,e.child,r);else if(32&o){const a=qw(e,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=MN(t,e);if(Array.isArray(a))r.push(...a);else{const l=jp(t[vr]);Zp(l[et],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function ZP(n,t){for(let e=si;e<n.length;e++){const r=n[e],i=r[et].firstChild;null!==i&&Zp(r[et],r,i,t)}n[Ni]!==n[_r]&&t.push(n[Ni])}function Ev(n,t,e,r=!0){const i=t[wl],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{XP(n,t,n.template,e)}catch(l){throw r&&YP(t,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function XP(n,t,e,r){const i=t[$t];if(256!=(256&i)){t[wl].effectManager?.flush(),Dp(t);try{_y(t),function yp(n){return Rt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&VP(n,t,e,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&bd(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Pl(t,c,0,null),jc(t,0)}if(function M5(n){for(let t=bN(n);null!==t;t=EN(t)){if(!t[Y_])continue;const e=t[Il];for(let r=0;r<e.length;r++){hp(e[r])}}}(t),eM(t,2),null!==n.contentQueries&&WP(n,t),o){const c=n.contentCheckHooks;null!==c&&bd(t,c)}else{const c=n.contentHooks;null!==c&&Pl(t,c,1),jc(t,1)}!function r5(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const r=PP(t,Nc);try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)ja(~s);else{const o=s,a=e[++i],l=e[++i];bp(a,o),r.dirty=!1;const c=tp(r);try{l(2,t[o])}finally{np(r,c)}}}}finally{null===t[Nc]&&MP(t,Nc),ja(-1)}}(n,t);const a=n.components;null!==a&&nM(t,a,0);const l=n.viewQuery;if(null!==l&&UT(2,l,r),o){const c=n.viewCheckHooks;null!==c&&bd(t,c)}else{const c=n.viewHooks;null!==c&&Pl(t,c,2),jc(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[$t]&=-73,yy(t)}finally{Cp()}}}function eM(n,t){for(let e=bN(n);null!==e;e=EN(e))for(let r=si;r<e.length;r++)tM(e[r],t)}function O5(n,t,e){tM(fs(t,n),e)}function tM(n,t){if(!function dp(n){return 128==(128&n[$t])}(n))return;const e=n[et],r=n[$t];if(80&r&&0===t||1024&r||2===t)XP(e,n,e.template,n[yr]);else if(n[Fa]>0){eM(n,1);const i=e.components;null!==i&&nM(n,i,1)}}function nM(n,t,e){for(let r=0;r<t.length;r++)O5(n,t[r],e)}class Xp{get rootNodes(){const t=this._lView,e=t[et];return Zp(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yr]}set context(t){this._lView[yr]=t}get destroyed(){return 256==(256&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xn];if(Ki(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Jy(t,r),Uy(e,r))}this._attachedToViewContainer=!1}Qw(this._lView[et],this._lView)}onDestroy(t){!function vy(n,t){if(256==(256&n[$t]))throw new he(911,!1);null===n[oo]&&(n[oo]=[]),n[oo].push(t)}(this._lView,t)}markForCheck(){Yp(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-129}reattach(){this._lView[$t]|=128}detectChanges(){Ev(this._lView[et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ez(n,t){Hp(n,t,t[Ot],2,null,null)}(this._lView[et],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t}}class x5 extends Xp{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ev(t[et],t,t[yr],!1)}checkNoChanges(){}get context(){return null}}class rM extends Qp{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=mn(t);return new eg(e,this.ngModule)}}function iM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class F5{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=vl(r);const i=this.injector.get(t,CT,r);return i!==CT||e===CT?i:this.parentInjector.get(t,e,r)}}class eg extends cP{get inputs(){const t=this.componentDef,e=t.inputTransforms,r=iM(t.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return iM(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Kf(n){return n.map(td).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let s=(i=i||this.ngModule)instanceof As?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new F5(t,s):t,a=o.get(Ud,null);if(null===a)throw new he(407,!1);const g={rendererFactory:a,sanitizer:o.get(OG,null),effectManager:o.get(JP,null),afterRenderEventManager:o.get(PT,null)},_=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",I=r?function s5(n,t,e,r){const s=r.get(AP,!1)||e===ri.ShadowDom,o=n.selectRootElement(t,s);return function o5(n){BP(n)}(o),o}(_,r,this.componentDef.encapsulation,o):Yy(_,v,function k5(n){const t=n.toLowerCase();return"svg"===t?hd:"math"===t?"math":null}(v)),B=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let x=null;null!==I&&(x=wT(I,o,!0));const Q=FT(0,null,null,1,0,null,null,null,null,null,null),X=yv(null,Q,null,B,null,null,g,_,o,null,x);let ye,Ne;Dp(X);try{const F=this.componentDef;let P,k=null;F.findHostDirectiveDefs?(P=[],k=new Map,F.findHostDirectiveDefs(F,P,k),P.push(F)):P=[F];const $=function L5(n,t){const e=n[et],r=un;return n[r]=t,Gd(e,r,2,"#host",null)}(X,I),Y=function B5(n,t,e,r,i,s,o){const a=i[et];!function U5(n,t,e,r){for(const i of n)t.mergedAttrs=Dc(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(bv(t,t.mergedAttrs,!0),null!==e&&FN(r,e,t))}(r,n,t,o);let l=null;null!==t&&(l=wT(t,i[ta]));const c=s.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const g=yv(i,LP(e),null,d,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&LT(a,n,r.length-1),vv(i,g),i[n.index]=g}($,I,F,P,X,g,_);Ne=fd(Q,un),I&&function $5(n,t,e,r){if(r)Ic(n,e,["ng-version",DT.full]);else{const{attrs:i,classes:s}=function W_(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&t.push(s,n[++r]):8===i&&e.push(s);else{if(!ds(i))break;i=s}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&Ic(n,e,i),s&&s.length>0&&kN(n,e,s.join(" "))}}(_,F,I,r),void 0!==e&&function H5(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const s=e[i];r.push(null!=s?Array.from(s):null)}}(Ne,this.ngContentSelectors,e),ye=function j5(n,t,e,r,i,s){const o=Gr(),a=i[et],l=Qi(o,i);$P(a,i,o,e,null,r);for(let d=0;d<e.length;d++)Yi(aa(i,a,o.directiveStart+d,o),i);HP(a,i,o),l&&Yi(l,i);const c=aa(i,a,o.directiveStart+o.componentOffset,o);if(n[yr]=i[yr]=c,null!==s)for(const d of s)d(c,t);return OT(a,o,n),c}(Y,F,P,k,X,[z5]),$T(Q,X,null)}finally{Cp()}return new V5(this.componentType,ye,Bd(Ne,X),X,Ne)}}class V5 extends AG{constructor(t,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new x5(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;jT(s[et],s,i,t,e),this.previousInputValues.set(t,e),Yp(fs(this._tNode.index,s))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function z5(){const n=Gr();vd(De()[et],n)}function zn(n){let t=function sM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(Bs(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const o=n;o.inputs=wv(n.inputs),o.inputTransforms=wv(n.inputTransforms),o.declaredInputs=wv(n.declaredInputs),o.outputs=wv(n.outputs);const a=i.hostBindings;a&&K5(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&W5(n,l),c&&q5(n,c),$n(n.inputs,i.inputs),$n(n.declaredInputs,i.declaredInputs),$n(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),$n(o.inputTransforms,i.inputTransforms)),Bs(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===zn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function G5(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Dc(i.hostAttrs,e=Dc(e,i.hostAttrs))}}(r)}function wv(n){return n===Wi?{}:n===Tn?[]:n}function W5(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function q5(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,s)=>{t(r,i,s),e(r,i,s)}:t}function K5(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}function cM(n){const t=n.inputConfig,e={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}n.inputTransforms=e}function Tv(n){return!!function HT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function ua(n,t,e){return n[t]=e}function Ji(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Qc(n,t,e,r){const i=Ji(n,t,e);return Ji(n,t+1,r)||i}function In(n,t,e,r){const i=De();return Ji(i,Ua(),t)&&(_n(),ca(nr(),i,n,t,e,r)),In}function He(n,t,e,r,i,s,o,a){const l=De(),c=_n(),d=n+un,g=c.firstCreatePass?function y8(n,t,e,r,i,s,o,a,l){const c=t.consts,d=Gd(t,n,4,o||null,ra(c,a));VT(t,e,d,ra(c,l)),vd(t,d);const g=d.tView=FT(2,d,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),g.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,r,i,s,o):c.data[d];Ds(g,!1);const _=wM(c,l,g,n);yd()&&Xy(c,l,_,g),Yi(_,l),vv(l,l[d]=GP(_,l,_,g)),Cl(g)&&xT(c,l,g),null!=o&&kT(l,g,a)}let wM=function TM(n,t,e,r){return sa(!0),t[Ot].createComment("")};function ps(n){return Nl(function mp(){return Rt.lFrame.contextLView}(),un+n)}function Pe(n,t,e){const r=De();return Ji(r,Ua(),t)&&zs(_n(),nr(),r,n,t,r[Ot],e,!1),Pe}function QT(n,t,e,r,i){const o=i?"class":"style";jT(n,e,t.inputs[o],o,r)}function pe(n,t,e,r){const i=De(),s=_n(),o=un+n,a=i[Ot],l=s.firstCreatePass?function w8(n,t,e,r,i,s){const o=t.consts,l=Gd(t,n,2,r,ra(o,i));return VT(t,e,l,ra(o,s)),null!==l.attrs&&bv(l,l.attrs,!1),null!==l.mergedAttrs&&bv(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,e,r):s.data[o],c=IM(s,i,l,a,t,n);i[o]=c;const d=Cl(l);return Ds(l,!0),FN(a,c,l),32!=(32&l.flags)&&yd()&&Xy(s,i,c,l),0===function Ew(){return Rt.lFrame.elementDepthCount}()&&Yi(c,i),function ww(){Rt.lFrame.elementDepthCount++}(),d&&(xT(s,i,l),OT(s,l,i)),null!==r&&kT(i,l),pe}function me(){let n=Gr();gp()?Bc():(n=n.parent,Ds(n,!1));const t=n;(function Tw(n){return Rt.skipHydrationRootTNode===n})(t)&&function Iw(){Rt.skipHydrationRootTNode=null}(),function pp(){Rt.lFrame.elementDepthCount--}();const e=_n();return e.firstCreatePass&&(vd(e,n),J_(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function ky(n){return 0!=(8&n.flags)}(t)&&QT(e,t,De(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function wd(n){return 0!=(16&n.flags)}(t)&&QT(e,t,De(),t.stylesWithoutHost,!1),me}function rr(n,t,e,r){return pe(n,t,e,r),me(),rr}let IM=(n,t,e,r,i,s)=>(sa(!0),Yy(r,i,function Py(){return Rt.lFrame.currentNamespace}()));function og(n,t,e){const r=De(),i=_n(),s=n+un,o=i.firstCreatePass?function D8(n,t,e,r,i){const s=t.consts,o=ra(s,r),a=Gd(t,n,8,"ng-container",o);return null!==o&&bv(a,o,!0),VT(t,e,a,ra(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,e):i.data[s];Ds(o,!0);const a=CM(i,r,o,n);return r[s]=a,yd()&&Xy(i,r,a,o),Yi(a,r),Cl(o)&&(xT(i,r,o),OT(i,o,r)),null!=e&&kT(r,o),og}function ag(){let n=Gr();const t=_n();return gp()?Bc():(n=n.parent,Ds(n,!1)),t.firstCreatePass&&(vd(t,n),J_(n)&&t.queries.elementEnd(n)),ag}let CM=(n,t,e,r)=>(sa(!0),Kw(t[Ot],""));function Zr(){return De()}function lg(n){return!!n&&"function"==typeof n.then}function AM(n){return!!n&&"function"==typeof n.subscribe}function ut(n,t,e,r){const i=De(),s=_n(),o=Gr();return function RM(n,t,e,r,i,s,o){const a=Cl(r),c=n.firstCreatePass&&KP(n),d=t[yr],g=qP(t);let _=!0;if(3&r.type||o){const A=Qi(r,t),S=o?o(A):A,B=g.length,x=o?X=>o(Hn(X[r.index])):r.index;let Q=null;if(!o&&a&&(Q=function S8(n,t,e,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===e&&i[s+1]===r){const a=t[El],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,i,r.index)),null!==Q)(Q.__ngLastListenerFn__||Q).__ngNextListenerFn__=s,Q.__ngLastListenerFn__=s,_=!1;else{s=PM(r,t,d,s,!1);const X=e.listen(S,i,s);g.push(s,X),c&&c.push(i,x,B,B+1)}}else s=PM(r,t,d,s,!1);const v=r.outputs;let I;if(_&&null!==v&&(I=v[i])){const A=I.length;if(A)for(let S=0;S<A;S+=2){const ye=t[I[S]][I[S+1]].subscribe(s),Ne=g.length;g.push(s,ye),c&&c.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[Ot],o,n,t,r),ut}function NM(n,t,e,r){try{return ao(6,t,e),!1!==e(r)}catch(i){return YP(n,i),!1}finally{ao(7,t,e)}}function PM(n,t,e,r,i){return function s(o){if(o===Function)return r;Yp(n.componentOffset>-1?fs(n.index,t):t);let l=NM(t,e,r,o),c=s.__ngNextListenerFn__;for(;c;)l=NM(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function Ge(n=1){return function Sw(n){return(Rt.lFrame.contextLView=function Rw(n,t){for(;n>0;)t=t[Tl],n--;return t}(n,Rt.lFrame.contextLView))[yr]}(n)}function R8(n,t){let e=null;const r=function Wf(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?Ac(n,s,!0):G_(r,s))return i}else e=i}return e}function YT(n){const t=De()[vr][yi];if(!t.projection){const r=t.projection=Lp(n?n.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=n?R8(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function JT(n,t=0,e){const r=De(),i=_n(),s=Gd(i,un+n,16,null,e||null);null===s.projection&&(s.projection=t),Bc(),(!r[So]||ia())&&32!=(32&s.flags)&&function Rz(n,t,e){xN(t[Ot],0,t,e,Jw(n,e,t),SN(e.parent||t[yi],e,t))}(i,r,s)}function Rv(n,t){return n<<17|t<<2}function xl(n){return n>>17&32767}function XT(n){return 2|n}function Yc(n){return(131068&n)>>2}function eI(n,t){return-131069&n|t<<2}function tI(n){return 1|n}function UM(n,t,e,r,i){const s=n[e+1],o=null===t;let a=r?xl(s):Yc(s),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];k8(n[a],t)&&(l=!0,n[a+1]=r?tI(d):XT(d)),a=r?xl(d):Yc(d)}l&&(n[e+1]=r?XT(s):tI(s))}function k8(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Rd(n,t)>=0}const ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jM(n){return n.substring(ci.key,ci.keyEnd)}function $M(n,t){const e=ci.textEnd;return e===t?-1:(t=ci.keyEnd=function B8(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ci.key=t,e),th(n,t,e))}function th(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Ya(n,t,e){return Oo(n,t,e,!1),Ya}function Mn(n,t){return Oo(n,t,null,!0),Mn}function Zi(n){!function xo(n,t,e,r){const i=_n(),s=lo(2);i.firstUpdatePass&&KM(i,null,s,r);const o=De();if(e!==Yt&&Ji(o,s,e)){const a=i.data[Pi()];if(ZM(a,r)&&!qM(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Jn(l,e||"")),QT(i,a,o,e,r)}else!function Q8(n,t,e,r,i,s,o,a){i===Yt&&(i=Tn);let l=0,c=0,d=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==d||null!==g;){const _=l<i.length?i[l+1]:void 0,v=c<s.length?s[c+1]:void 0;let A,I=null;d===g?(l+=2,c+=2,_!==v&&(I=g,A=v)):null===g||null!==d&&d<g?(l+=2,I=d):(c+=2,I=g,A=v),null!==I&&YM(n,t,e,r,I,A,o,a),d=l<i.length?i[l]:null,g=c<s.length?s[c]:null}}(i,a,o,o[Ot],o[s+1],o[s+1]=function q8(n,t,e){if(null==e||""===e)return Tn;const r=[],i=js(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,s)}}(K8,ha,n,!0)}function ha(n,t){for(let e=function V8(n){return function zM(n){ci.key=0,ci.keyEnd=0,ci.value=0,ci.valueEnd=0,ci.textEnd=n.length}(n),$M(n,th(n,0,ci.textEnd))}(t);e>=0;e=$M(t,e))Us(n,jM(t),!0)}function Oo(n,t,e,r){const i=De(),s=_n(),o=lo(2);s.firstUpdatePass&&KM(s,n,o,r),t!==Yt&&Ji(i,o,t)&&YM(s,s.data[Pi()],i,i[Ot],n,i[o+1]=function Y8(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=$e(js(n)))),n}(t,e),r,o)}function qM(n,t){return t>=n.expandoStartIndex}function KM(n,t,e,r){const i=n.data;if(null===i[e+1]){const s=i[Pi()],o=qM(n,e);ZM(s,r)&&null===t&&!o&&(t=!1),t=function H8(n,t,e,r){const i=wp(n);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=cg(e=nI(null,n,t,e,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==i)if(e=nI(i,n,t,e,r),null===s){let l=function z8(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Yc(r))return n[xl(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=nI(null,n,t,l[1],r),l=cg(l,t.attrs,r),function G8(n,t,e,r){n[xl(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else s=function W8(n,t,e){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=cg(r,n[s].hostAttrs,e);return cg(r,t.attrs,e)}(n,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),e}(i,s,t,r),function O8(n,t,e,r,i,s){let o=s?t.classBindings:t.styleBindings,a=xl(o),l=Yc(o);n[r]=e;let d,c=!1;if(Array.isArray(e)?(d=e[1],(null===d||Rd(e,d)>0)&&(c=!0)):d=e,i)if(0!==l){const _=xl(n[a+1]);n[r+1]=Rv(_,a),0!==_&&(n[_+1]=eI(n[_+1],r)),n[a+1]=function P8(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Rv(a,0),0!==a&&(n[a+1]=eI(n[a+1],r)),a=r;else n[r+1]=Rv(l,0),0===a?a=r:n[l+1]=eI(n[l+1],r),l=r;c&&(n[r+1]=XT(n[r+1])),UM(n,d,r,!0),UM(n,d,r,!1),function x8(n,t,e,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Rd(s,t)>=0&&(e[r+1]=tI(e[r+1]))}(t,d,n,r,s),o=Rv(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,e,o,r)}}function nI(n,t,e,r,i){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],r=cg(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function cg(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Us(n,o,!!e||t[++s]))}return void 0===n?null:n}function K8(n,t,e){const r=String(t);""!==r&&!r.includes(" ")&&Us(n,r,e)}function YM(n,t,e,r,i,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],d=function M8(n){return 1==(1&n)}(c)?JM(l,t,e,i,Yc(c),o):void 0;Nv(d)||(Nv(s)||function N8(n){return 2==(2&n)}(c)&&(s=JM(l,null,e,i,a,o)),function Pz(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let s=-1===r.indexOf("-")?void 0:Ol.DashCase;null==i?n.removeStyle(e,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ol.Important),n.setStyle(e,r,i,s))}}(r,o,Rl(Pi(),e),i,s))}function JM(n,t,e,r,i,s){const o=null===t;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),d=c?l[1]:l,g=null===d;let _=e[i+1];_===Yt&&(_=g?Tn:void 0);let v=g?Lw(_,r):d===r?_:void 0;if(c&&!Nv(v)&&(v=Lw(l,r)),Nv(v)&&(a=v,o))return a;const I=n[i+1];i=o?xl(I):Yc(I)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Lw(l,r))}return a}function Nv(n){return void 0!==n}function ZM(n,t){return 0!=(n.flags&(t?8:16))}function Qe(n,t=""){const e=De(),r=_n(),i=n+un,s=r.firstCreatePass?Gd(r,i,1,t,null):r.data[i],o=XM(r,e,s,t,n);e[i]=o,yd()&&Xy(r,e,o,s),Ds(s,!1)}let XM=(n,t,e,r,i)=>(sa(!0),function Qy(n,t){return n.createText(t)}(t[Ot],r));function ui(n){return Oi("",n,""),ui}function Oi(n,t,e){const r=De(),i=function qd(n,t,e,r){return Ji(n,Ua(),e)?t+U(e)+r:Yt}(r,n,t,e);return i!==Yt&&function Qa(n,t,e){const r=Rl(t,n);!function TN(n,t,e){n.setValue(t,e)}(n[Ot],r,e)}(r,Pi(),i),Oi}function rI(n,t,e){const r=De();if(Ji(r,Ua(),t)){const s=_n(),o=nr();zs(s,o,r,n,t,QP(wp(s.data),o,r),e,!0)}return rI}const Jc=void 0;var yW=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _W(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let nh={};function gs(n){const t=function vW(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=yO(t);if(e)return e;const r=t.split("-")[0];if(e=yO(r),e)return e;if("en"===r)return yW;throw new he(701,!1)}function yO(n){return n in nh||(nh[n]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[n]),nh[n]}var dr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(dr||{});const rh="en-US";let vO=rh;function oI(n,t,e,r,i){if(n=At(n),Array.isArray(n))for(let s=0;s<n.length;s++)oI(n[s],t,e,r,i);else{const s=_n(),o=De(),a=Gr();let l=Kc(n)?n:At(n.provide);const c=nP(n),d=1048575&a.providerIndexes,g=a.directiveStart,_=a.providerIndexes>>20;if(Kc(n)||!n.multi){const v=new Ml(c,i,z),I=lI(l,t,i?d:d+_,g);-1===I?(le(m(a,o),s,l),aI(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(v),o.push(v)):(e[I]=v,o[I]=v)}else{const v=lI(l,t,d+_,g),I=lI(l,t,d,d+_),S=I>=0&&e[I];if(i&&!S||!i&&!(v>=0&&e[v])){le(m(a,o),s,l);const B=function m6(n,t,e,r,i){const s=new Ml(n,e,z);return s.multi=[],s.index=t,s.componentProviders=0,zO(s,i,r&&!e),s}(i?g6:p6,e.length,i,r,c);!i&&S&&(e[I].providerFactory=B),aI(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(B),o.push(B)}else aI(s,n,v>-1?v:I,zO(e[i?I:v],c,!i&&r));!i&&r&&S&&e[I].componentProviders++}}}function aI(n,t,e,r){const i=Kc(t),s=function uG(n){return!!n.useClass}(t);if(i||s){const l=(s?At(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[r,l]):c[d+1].push(r,l)}else c.push(e,l)}}}function zO(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function lI(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function p6(n,t,e,r){return cI(this.multi,[])}function g6(n,t,e,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=aa(e,e[et],this.providerFactory.index,r);s=a.slice(0,o),cI(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],cI(i,s);return s}function cI(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ir(n,t=[]){return e=>{e.providersResolver=(r,i)=>function f6(n,t,e){const r=_n();if(r.firstCreatePass){const i=Bs(n);oI(e,r.data,r.blueprint,i,!0),oI(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Zc{}class GO{}class uI extends Zc{constructor(t,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rM(this);const i=hs(t);this._bootstrapComponents=Ka(i.bootstrap),this._r3Injector=gP(t,e,[{provide:Zc,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver},...r],$e(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class dI extends GO{constructor(t){super(),this.moduleType=t}create(t){return new uI(this.moduleType,t,[])}}class WO extends Zc{constructor(t){super(),this.componentFactoryResolver=new rM(this),this.instance=null;const e=new kd([...t.providers,{provide:Zc,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver}],t.parent||lv(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hI(n,t,e=null){return new WO({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let v6=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=ZN(0,e.type),i=r.length>0?hI([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ve({token:n,providedIn:"environment",factory:()=>new n(Ae(As))})}}return n})();function ms(n){n.getStandaloneInjector=t=>t.get(v6).getOrCreateStandaloneInjector(n)}function yg(n,t){const e=n[t];return e===Yt?void 0:e}function tx(n,t,e,r,i,s,o,a){const l=t+e;return function Iv(n,t,e,r,i){const s=Qc(n,t,e,r);return Ji(n,t+2,i)||s}(n,l,i,s,o)?ua(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):yg(n,l+3)}function kv(n,t){const e=_n();let r;const i=n+un;e.firstCreatePass?(r=function k6(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const s=r.factory||(r.factory=Sl(r.type)),a=_i(z);try{const l=zc(!1),c=s();return zc(l),function E8(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,De(),i,c),c}finally{_i(a)}}function ix(n,t,e){const r=n+un,i=De(),s=Nl(i,r);return vg(i,r)?function XO(n,t,e,r,i,s){const o=t+e;return Ji(n,o,i)?ua(n,o+1,s?r.call(s,i):r(i)):yg(n,o+1)}(i,ai(),t,s.transform,e,s):s.transform(e)}function sx(n,t,e,r){const i=n+un,s=De(),o=Nl(s,i);return vg(s,i)?function ex(n,t,e,r,i,s,o){const a=t+e;return Qc(n,a,i,s)?ua(n,a+2,o?r.call(o,i,s):r(i,s)):yg(n,a+2)}(s,ai(),t,o.transform,e,r,o):o.transform(e,r)}function vg(n,t){return n[et].data[t].pure}function L6(){return this._results[Symbol.iterator]()}class gI{get changes(){return this._changes||(this._changes=new It)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=gI.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=L6)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function co(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function x4(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=t[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function U6(n,t,e,r=!0){const i=t[et];if(function Tz(n,t,e,r){const i=si+r,s=e.length;r>0&&(e[i-1][Ls]=t),r<s-si?(t[Ls]=e[i],XR(e,si+r,t)):(e.push(t),t[Ls]=null),t[Xn]=e;const o=t[Rc];null!==o&&e!==o&&function Iz(n,t){const e=n[Il];t[vr]!==t[Xn][Xn][vr]&&(n[Y_]=!0),null===e?n[Il]=[t]:e.push(t)}(o,t);const a=t[so];null!==a&&a.insertView(n),t[$t]|=128}(i,t,n,e),r){const s=Xw(e,n),o=t[Ot],a=Zy(o,n[Ni]);null!==a&&function bz(n,t,e,r,i,s){r[_r]=i,r[yi]=t,Hp(n,r,e,1,i,s)}(i,n[yi],o,t,a,s)}}let Or=(()=>{class n{static{this.__NG_ELEMENT_ID__=H6}}return n})();const j6=Or,$6=class extends j6{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,r){const i=function B6(n,t,e,r){const i=t.tView,a=yv(n,i,e,4096&n[$t]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Rc]=n[t.index];const c=n[so];return null!==c&&(a[so]=c.createEmbeddedView(i)),$T(i,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:r});return new Xp(i)}};function H6(){return Fv(Gr(),De())}function Fv(n,t){return 4&n.type?new $6(t,n,Bd(n,t)):null}let fo=(()=>{class n{static{this.__NG_ELEMENT_ID__=Q6}}return n})();function Q6(){return fx(Gr(),De())}const Y6=fo,dx=class extends Y6{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Bd(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const t=H(this._hostTNode,this._hostLView);if(Rp(t)){const e=Hc(t,this._hostLView),r=$c(t);return new bi(e[et].data[r+8],e)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=hx(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-si}createEmbeddedView(t,e,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,e,r,i,s){const o=t&&!function Vp(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const A=e||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}const l=o?t:new eg(mn(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const S=(o?c:this.parentInjector).get(As,null);S&&(s=S)}mn(l.componentType??{});const v=l.create(c,i,null,s);return this.insertImpl(v.hostView,a,false),v}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,r){const i=t._lView;if(function my(n){return Ki(n[Xn])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[Xn],d=new dx(c,c[yi],c[Xn]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return U6(a,i,o,!r),t.attachToViewContainerRef(),XR(mI(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=hx(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Jy(this._lContainer,e);r&&(Uy(mI(this._lContainer),e),Qw(r[et],r))}detach(t){const e=this._adjustIndex(t,-1),r=Jy(this._lContainer,e);return r&&null!=Uy(mI(this._lContainer),e)?new Xp(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function hx(n){return n[8]}function mI(n){return n[8]||(n[8]=[])}function fx(n,t){let e;const r=t[n.index];return Ki(r)?e=r:(e=GP(r,t,null,n),t[n.index]=e,vv(t,e)),px(e,t,n,r),new dx(e,n,t)}let px=function gx(n,t,e,r){if(n[Ni])return;let i;i=8&e.type?Hn(r):function J6(n,t){const e=n[Ot],r=e.createComment(""),i=Qi(t,n);return Wc(e,Zy(e,i),r,function Sz(n,t){return n.nextSibling(t)}(e,i),!1),r}(t,e),n[Ni]=i};class _I{constructor(t){this.queryList=t,this.matches=null}clone(){return new _I(this.queryList)}setDirty(){this.queryList.setDirty()}}class yI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){const o=e.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new yI(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bx(t,e).matches&&this.queries[e].setDirty()}}class mx{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class vI{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==e?e.push(s):e=[s])}return null!==e?new vI(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bI{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new bI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,e,eq(e,s)),this.matchTNodeWithReadOption(t,e,Ha(e,t,s,!1,!1))}else r===Or?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ha(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vn||i===fo||i===Or&&4&e.type)this.addMatch(e.index,-2);else{const s=Ha(e,t,i,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function eq(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function nq(n,t,e,r){return-1===e?function tq(n,t){return 11&n.type?Bd(n,t):4&n.type?Fv(n,t):null}(t,n):-2===e?function rq(n,t,e){return e===Vn?Bd(t,n):e===Or?Fv(t,n):e===fo?fx(t,n):void 0}(n,t,r):aa(n,n[et],e,t)}function _x(n,t,e,r){const i=t[so].queries[r];if(null===i.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:nq(t,s[c],o[l+1],e.metadata.read))}i.matches=a}return i.matches}function EI(n,t,e,r){const i=n.queries.getByIndex(e),s=i.matches;if(null!==s){const o=_x(n,t,i,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],d=t[-l];for(let g=si;g<d.length;g++){const _=d[g];_[Rc]===_[Xn]&&EI(_[et],_,c,r)}if(null!==d[Il]){const g=d[Il];for(let _=0;_<g.length;_++){const v=g[_];EI(v[et],v,c,r)}}}}}return r}function An(n){const t=De(),e=_n(),r=_d();Tp(r+1);const i=bx(e,r);if(n.dirty&&function bw(n){return 4==(4&n[$t])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?EI(e,t,r,[]):_x(e,t,i,r);n.reset(s,PG),n.notifyOnChanges()}return!0}return!1}function ko(n,t,e){const r=_n();r.firstCreatePass&&(function vx(n,t,e){null===n.queries&&(n.queries=new vI),n.queries.track(new bI(t,e))}(r,new mx(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),function yx(n,t,e){const r=new gI(4==(4&e));(function c5(n,t,e,r){const i=qP(t);i.push(e),n.firstCreatePass&&KP(n).push(r,i.length-1)})(n,t,r,r.destroy),null===t[so]&&(t[so]=new yI),t[so].queries.push(new _I(r))}(r,De(),t)}function Sn(){return function iq(n,t){return n[so].queries[t].queryList}(De(),_d())}function bx(n,t){return n.queries.getByIndex(t)}function Rs(n,t){return Fv(n,t)}const AI=new Ke("Application Initializer");let SI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=je(AI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const s=i();if(lg(s))e.push(s);else if(AM(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vx=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Fo=new Ke("LocaleId",{providedIn:"root",factory:()=>je(Fo,cn.Optional|cn.SkipSelf)||function Cq(){return typeof $localize<"u"&&$localize.locale||rh}()});let Lx=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Rq{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Bx=(()=>{class n{compileModuleSync(e){return new dI(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),s=Ka(hs(e).declarations).reduce((o,a)=>{const l=mn(a);return l&&o.push(new eg(l)),o},[]);return new Rq(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Hx=new Ke(""),Uv=new Ke("");let OI,PI=(()=>{class n{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OI||(function Jq(n){OI=n}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(Ae(jt),Ae(MI),Ae(Uv))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})(),MI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return OI?.findTestabilityInTree(this,e,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),kl=null;const zx=new Ke("AllowMultipleToken"),xI=new Ke("PlatformDestroyListeners"),kI=new Ke("appBootstrapListener");class Wx{constructor(t,e){this.name=t,this.token=e}}function Kx(n,t,e=[]){const r=`Platform: ${t}`,i=new Ke(r);return(s=[])=>{let o=FI();if(!o||o.injector.get(zx,!1)){const a=[...e,...s,{provide:i,useValue:!0}];n?n(a):function e9(n){if(kl&&!kl.get(zx,!1))throw new he(400,!1);(function Gx(){!function qR(n){cy=n}(()=>{throw new he(600,!1)})})(),kl=n;const t=n.get(Yx);(function qx(n){n.get(rP,null)?.forEach(e=>e())})(n)}(function Qx(n=[],t){return Cr.create({name:t,providers:[{provide:dT,useValue:"platform"},{provide:xI,useValue:new Set([()=>kl=null])},...n]})}(a,r))}return function n9(n){const t=FI();if(!t)throw new he(401,!1);return t}()}}function FI(){return kl?.get(Yx)??null}let Yx=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function r9(n="zone.js",t){return"noop"===n?new WG:"zone.js"===n?new jt(t):n}(r?.ngZone,function Jx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function y6(n,t,e){return new uI(n,t,e)}(e.moduleType,this.injector,function nk(n){return[{provide:jt,useFactory:n},{provide:Wp,multi:!0,useFactory:()=>{const t=je(s9,{optional:!0});return()=>t.initialize()}},{provide:tk,useFactory:i9},{provide:bP,useFactory:EP}]}(()=>i)),o=s.injector.get(qa,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{jv(this._modules,s),a.unsubscribe()})}),function Zx(n,t,e){try{const r=e();return lg(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(SI);return a.runInitializers(),a.donePromise.then(()=>(function bO(n){cs(n,"Expected localeId to be defined"),"string"==typeof n&&(vO=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Fo,rh)||rh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,r=[]){const i=Xx({},r);return function Zq(n,t,e){const r=new dI(e);return Promise.resolve(r)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(e){const r=e.injector.get(Vo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new he(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(xI,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(Ae(Cr))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Xx(n,t){return Array.isArray(t)?t.reduce(Xx,n):{...n,...t}}let Vo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=je(tk),this.zoneIsStable=je(bP),this.componentTypes=[],this.components=[],this.isStable=je(Lx).hasPendingTasks.pipe(ke(e=>e?M(!1):this.zoneIsStable),function Tt(n,t=nt){return n=n??pn,oe((e,r)=>{let i,s=!0;e.subscribe(ae(r,o=>{const a=t(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),L()),this._injector=je(As)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof cP;if(!this._injector.get(SI).done)throw!i&&function ea(n){const t=mn(n)||Ur(n)||ii(n);return null!==t&&t.standalone}(e),new he(405,!1);let o;o=i?e:this._injector.get(Qp).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Xq(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Zc),c=o.create(Cr.NULL,[],r||o.selector,a),d=c.location.nativeElement,g=c.injector.get(Hx,null);return g?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),jv(this.components,c),g?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;jv(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(kI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>jv(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new he(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const tk=new Ke("",{providedIn:"root",factory:()=>je(qa).handleError.bind(void 0)});function i9(){const n=je(jt),t=je(qa);return e=>n.runOutsideAngular(()=>t.handleError(e))}let s9=(()=>{class n{constructor(){this.zone=je(jt),this.applicationRef=je(Vo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let po=(()=>{class n{static{this.__NG_ELEMENT_ID__=a9}}return n})();function a9(n){return function l9(n,t,e){if(Dl(n)&&!e){const r=fs(n.index,t);return new Xp(r,r)}return 47&n.type?new Xp(t[vr],t):null}(Gr(),De(),16==(16&n))}class lk{constructor(){}supports(t){return Tv(t)}create(t){return new f9(t)}}const h9=(n,t)=>t;class f9{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||h9}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){const o=!r||e&&e.currentIndex<uk(r,i,s)?e:r,a=uk(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,d=l-i;if(c!=d){for(let _=0;_<c;_++){const v=_<s.length?s[_]:s[_]=0,I=v+_;d<=I&&I<c&&(s[_]=v+1)}s[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Tv(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),r=!0),e=e._next}else i=0,function e8(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,o)?(r&&(e=this._verifyReinsertion(e,a,o,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,i)):t=this._addAfter(new p9(e,r),s,i),t}_verifyReinsertion(t,e,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ck),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ck),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class p9{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g9{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class ck{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new g9,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uk(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}function hk(){return new zv([new lk])}let zv=(()=>{class n{static{this.\u0275prov=Ve({token:n,providedIn:"root",factory:hk})}constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||hk()),deps:[[n,new $y,new Ei]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new he(901,!1)}}return n})();const b9=Kx(null,"core",[]);let E9=(()=>{class n{constructor(e){}static{this.\u0275fac=function(r){return new(r||n)(Ae(Vo))}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();function oh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function $I(n,t){const e=mn(n),r=t.elementInjector||lv();return new eg(e).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}let HI=null;function Fl(){return HI}class k9{}const br=new Ke("DocumentToken");let zI=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return je(V9)},providedIn:"platform"})}}return n})();const F9=new Ke("Location Initialized");let V9=(()=>{class n extends zI{constructor(){super(),this._doc=je(br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fl().getBaseHref(this._doc)}onPopState(e){const r=Fl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Fl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function GI(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function wk(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ja(n){return n&&"?"!==n[0]?"?"+n:n}let eu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return je(Ik)},providedIn:"root"})}}return n})();const Tk=new Ke("appBaseHref");let Ik=(()=>{class n extends eu{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??je(br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return GI(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ja(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+Ja(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+Ja(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)(Ae(zI),Ae(Tk,8))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),L9=(()=>{class n extends eu{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=GI(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+Ja(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+Ja(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||n)(Ae(zI),Ae(Tk,8))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})(),WI=(()=>{class n{constructor(e){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function j9(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(wk(Dk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ja(r))}normalize(e){return n.stripTrailingSlash(function U9(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Dk(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ja(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ja(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=Ja}static{this.joinWithSlash=GI}static{this.stripTrailingSlash=wk}static{this.\u0275fac=function(r){return new(r||n)(Ae(eu))}}static{this.\u0275prov=Ve({token:n,factory:function(){return function B9(){return new WI(Ae(eu))}()},providedIn:"root"})}}return n})();function Dk(n){return n.replace(/\/index.html$/,"")}var wi=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(wi||{}),Rn=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Rn||{}),Gs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Gs||{}),Wr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Wr||{});function qv(n,t){return mo(gs(n)[dr.DateFormat],t)}function Kv(n,t){return mo(gs(n)[dr.TimeFormat],t)}function Qv(n,t){return mo(gs(n)[dr.DateTimeFormat],t)}function go(n,t){const e=gs(n),r=e[dr.NumberSymbols][t];if(typeof r>"u"){if(t===Wr.CurrencyDecimal)return e[dr.NumberSymbols][Wr.Decimal];if(t===Wr.CurrencyGroup)return e[dr.NumberSymbols][Wr.Group]}return r}function Sk(n){if(!n[dr.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[dr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mo(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function QI(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const X9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tg={},e7=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Za=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Za||{}),Ln=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ln||{}),Bn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Bn||{});function Rk(n,t,e,r){let i=function c7(n){if(Mk(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Yv(i,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(X9))return function u7(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,c),t}(r)}const t=new Date(n);if(!Mk(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Xa(e,t)||t;let a,o=[];for(;t;){if(a=e7.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;t=d}}let l=i.getTimezoneOffset();r&&(l=Pk(r,l),i=function l7(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function a7(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(Pk(t,i)-i))}(i,r,!0));let c="";return o.forEach(d=>{const g=function o7(n){if(JI[n])return JI[n];let t;switch(n){case"G":case"GG":case"GGG":t=hr(Bn.Eras,Rn.Abbreviated);break;case"GGGG":t=hr(Bn.Eras,Rn.Wide);break;case"GGGGG":t=hr(Bn.Eras,Rn.Narrow);break;case"y":t=Xr(Ln.FullYear,1,0,!1,!0);break;case"yy":t=Xr(Ln.FullYear,2,0,!0,!0);break;case"yyy":t=Xr(Ln.FullYear,3,0,!1,!0);break;case"yyyy":t=Xr(Ln.FullYear,4,0,!1,!0);break;case"Y":t=e0(1);break;case"YY":t=e0(2,!0);break;case"YYY":t=e0(3);break;case"YYYY":t=e0(4);break;case"M":case"L":t=Xr(Ln.Month,1,1);break;case"MM":case"LL":t=Xr(Ln.Month,2,1);break;case"MMM":t=hr(Bn.Months,Rn.Abbreviated);break;case"MMMM":t=hr(Bn.Months,Rn.Wide);break;case"MMMMM":t=hr(Bn.Months,Rn.Narrow);break;case"LLL":t=hr(Bn.Months,Rn.Abbreviated,wi.Standalone);break;case"LLLL":t=hr(Bn.Months,Rn.Wide,wi.Standalone);break;case"LLLLL":t=hr(Bn.Months,Rn.Narrow,wi.Standalone);break;case"w":t=YI(1);break;case"ww":t=YI(2);break;case"W":t=YI(1,!0);break;case"d":t=Xr(Ln.Date,1);break;case"dd":t=Xr(Ln.Date,2);break;case"c":case"cc":t=Xr(Ln.Day,1);break;case"ccc":t=hr(Bn.Days,Rn.Abbreviated,wi.Standalone);break;case"cccc":t=hr(Bn.Days,Rn.Wide,wi.Standalone);break;case"ccccc":t=hr(Bn.Days,Rn.Narrow,wi.Standalone);break;case"cccccc":t=hr(Bn.Days,Rn.Short,wi.Standalone);break;case"E":case"EE":case"EEE":t=hr(Bn.Days,Rn.Abbreviated);break;case"EEEE":t=hr(Bn.Days,Rn.Wide);break;case"EEEEE":t=hr(Bn.Days,Rn.Narrow);break;case"EEEEEE":t=hr(Bn.Days,Rn.Short);break;case"a":case"aa":case"aaa":t=hr(Bn.DayPeriods,Rn.Abbreviated);break;case"aaaa":t=hr(Bn.DayPeriods,Rn.Wide);break;case"aaaaa":t=hr(Bn.DayPeriods,Rn.Narrow);break;case"b":case"bb":case"bbb":t=hr(Bn.DayPeriods,Rn.Abbreviated,wi.Standalone,!0);break;case"bbbb":t=hr(Bn.DayPeriods,Rn.Wide,wi.Standalone,!0);break;case"bbbbb":t=hr(Bn.DayPeriods,Rn.Narrow,wi.Standalone,!0);break;case"B":case"BB":case"BBB":t=hr(Bn.DayPeriods,Rn.Abbreviated,wi.Format,!0);break;case"BBBB":t=hr(Bn.DayPeriods,Rn.Wide,wi.Format,!0);break;case"BBBBB":t=hr(Bn.DayPeriods,Rn.Narrow,wi.Format,!0);break;case"h":t=Xr(Ln.Hours,1,-12);break;case"hh":t=Xr(Ln.Hours,2,-12);break;case"H":t=Xr(Ln.Hours,1);break;case"HH":t=Xr(Ln.Hours,2);break;case"m":t=Xr(Ln.Minutes,1);break;case"mm":t=Xr(Ln.Minutes,2);break;case"s":t=Xr(Ln.Seconds,1);break;case"ss":t=Xr(Ln.Seconds,2);break;case"S":t=Xr(Ln.FractionalSeconds,1);break;case"SS":t=Xr(Ln.FractionalSeconds,2);break;case"SSS":t=Xr(Ln.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Zv(Za.Short);break;case"ZZZZZ":t=Zv(Za.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Zv(Za.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Zv(Za.Long);break;default:return null}return JI[n]=t,t}(d);c+=g?g(i,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Yv(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Xa(n,t){const e=function H9(n){return gs(n)[dr.LocaleId]}(n);if(Tg[e]=Tg[e]||{},Tg[e][t])return Tg[e][t];let r="";switch(t){case"shortDate":r=qv(n,Gs.Short);break;case"mediumDate":r=qv(n,Gs.Medium);break;case"longDate":r=qv(n,Gs.Long);break;case"fullDate":r=qv(n,Gs.Full);break;case"shortTime":r=Kv(n,Gs.Short);break;case"mediumTime":r=Kv(n,Gs.Medium);break;case"longTime":r=Kv(n,Gs.Long);break;case"fullTime":r=Kv(n,Gs.Full);break;case"short":const i=Xa(n,"shortTime"),s=Xa(n,"shortDate");r=Jv(Qv(n,Gs.Short),[i,s]);break;case"medium":const o=Xa(n,"mediumTime"),a=Xa(n,"mediumDate");r=Jv(Qv(n,Gs.Medium),[o,a]);break;case"long":const l=Xa(n,"longTime"),c=Xa(n,"longDate");r=Jv(Qv(n,Gs.Long),[l,c]);break;case"full":const d=Xa(n,"fullTime"),g=Xa(n,"fullDate");r=Jv(Qv(n,Gs.Full),[d,g])}return r&&(Tg[e][t]=r),r}function Jv(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Lo(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function Xr(n,t,e=0,r=!1,i=!1){return function(s,o){let a=function n7(n,t){switch(n){case Ln.FullYear:return t.getFullYear();case Ln.Month:return t.getMonth();case Ln.Date:return t.getDate();case Ln.Hours:return t.getHours();case Ln.Minutes:return t.getMinutes();case Ln.Seconds:return t.getSeconds();case Ln.FractionalSeconds:return t.getMilliseconds();case Ln.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===Ln.Hours)0===a&&-12===e&&(a=12);else if(n===Ln.FractionalSeconds)return function t7(n,t){return Lo(n,3).substring(0,t)}(a,t);const l=go(o,Wr.MinusSign);return Lo(a,t,l,r,i)}}function hr(n,t,e=wi.Format,r=!1){return function(i,s){return function r7(n,t,e,r,i,s){switch(e){case Bn.Months:return function qI(n,t,e){const r=gs(n),s=mo([r[dr.MonthsFormat],r[dr.MonthsStandalone]],t);return mo(s,e)}(t,i,r)[n.getMonth()];case Bn.Days:return function Ak(n,t,e){const r=gs(n),s=mo([r[dr.DaysFormat],r[dr.DaysStandalone]],t);return mo(s,e)}(t,i,r)[n.getDay()];case Bn.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function K9(n){const t=gs(n);return Sk(t),(t[dr.ExtraData][2]||[]).map(r=>"string"==typeof r?QI(r):[QI(r[0]),QI(r[1])])}(t),d=function Q9(n,t,e){const r=gs(n);Sk(r);const s=mo([r[dr.ExtraData][0],r[dr.ExtraData][1]],t)||[];return mo(s,e)||[]}(t,i,r),g=c.findIndex(_=>{if(Array.isArray(_)){const[v,I]=_,A=o>=v.hours&&a>=v.minutes,S=o<I.hours||o===I.hours&&a<I.minutes;if(v.hours<I.hours){if(A&&S)return!0}else if(A||S)return!0}else if(_.hours===o&&_.minutes===a)return!0;return!1});if(-1!==g)return d[g]}return function z9(n,t,e){const r=gs(n),s=mo([r[dr.DayPeriodsFormat],r[dr.DayPeriodsStandalone]],t);return mo(s,e)}(t,i,r)[o<12?0:1];case Bn.Eras:return function G9(n,t){return mo(gs(n)[dr.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function Zv(n){return function(t,e,r){const i=-1*r,s=go(e,Wr.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Za.Short:return(i>=0?"+":"")+Lo(o,2,s)+Lo(Math.abs(i%60),2,s);case Za.ShortGMT:return"GMT"+(i>=0?"+":"")+Lo(o,1,s);case Za.Long:return"GMT"+(i>=0?"+":"")+Lo(o,2,s)+":"+Lo(Math.abs(i%60),2,s);case Za.Extended:return 0===r?"Z":(i>=0?"+":"")+Lo(o,2,s)+":"+Lo(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const i7=0,Xv=4;function Nk(n){return Yv(n.getFullYear(),n.getMonth(),n.getDate()+(Xv-n.getDay()))}function YI(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{const s=Nk(e),o=function s7(n){const t=Yv(n,i7,1).getDay();return Yv(n,0,1+(t<=Xv?Xv:Xv+7)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Lo(i,n,go(r,Wr.MinusSign))}}function e0(n,t=!1){return function(e,r){return Lo(Nk(e).getFullYear(),n,go(r,Wr.MinusSign),t)}}const JI={};function Pk(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Mk(n){return n instanceof Date&&!isNaN(n.valueOf())}class D7{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bo=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new D7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Lk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Lk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(fo),z(Or),z(zv))}}static{this.\u0275dir=Le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Lk(n,t){n.context.$implicit=t.item}let _o=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new C7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Bk("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Bk("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(fo),z(Or))}}static{this.\u0275dir=Le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class C7{constructor(){this.$implicit=null,this.ngIf=null}}function Bk(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${$e(t)}'.`)}const j7=new Ke("DATE_PIPE_DEFAULT_TIMEZONE"),$7=new Ke("DATE_PIPE_DEFAULT_OPTIONS");let jk=(()=>{class n{constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,s){if(null==e||""===e||e!=e)return null;try{return Rk(e,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Uo(n,t){return new he(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||n)(z(Fo,16),z(j7,24),z($7,24))}}static{this.\u0275pipe=Jr({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),l1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();function c1(n){return"server"===n}let tK=(()=>{class n{static{this.\u0275prov=Ve({token:n,providedIn:"root",factory:()=>new nK(Ae(br),window)})}}return n})();class nK{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function rK(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class AK extends k9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h1 extends AK{static makeCurrent(){!function x9(n){HI||(HI=n)}(new h1)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function SK(){return Cg=Cg||document.querySelector("base"),Cg?Cg.getAttribute("href"):null}();return null==e?null:function RK(n){s0=s0||document.createElement("a"),s0.setAttribute("href",n);const t=s0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function w7(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let s0,Cg=null,PK=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();const f1=new Ke("EventManagerPlugins");let Kk=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new he(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||n)(Ae(f1),Ae(jt))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();class Qk{constructor(t){this._doc=t}}const p1="ng-app-id";let Yk=(()=>{class n{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=c1(s),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${p1}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(p1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(p1,this.appId),o}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Ae(br),Ae(cv),Ae(sP,8),Ae(Wa))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();const g1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},m1=/%COMP%/g,kK=new Ke("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Zk(n,t){return t.map(e=>e.replace(m1,n))}let _1=(()=>{class n{constructor(e,r,i,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=c1(a),this.defaultRenderer=new y1(e,o,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ri.ShadowDom&&(r={...r,encapsulation:ri.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof eF?i.applyToHost(e):i instanceof v1&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case ri.Emulated:s=new eF(l,c,r,this.appId,d,o,a,g);break;case ri.ShadowDom:return new BK(l,c,e,r,o,a,this.nonce,g);default:s=new v1(l,c,r,d,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Ae(Kk),Ae(Yk),Ae(cv),Ae(kK),Ae(br),Ae(Wa),Ae(jt),Ae(sP))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();class y1{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(g1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Xk(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Xk(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new he(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=g1[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=g1[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Ol.DashCase|Ol.Important)?t.style.setProperty(e,r,i&Ol.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Ol.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=Fl().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Xk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class BK extends y1{constructor(t,e,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Zk(i.id,i.styles);for(const d of c){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=d,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class v1 extends y1{constructor(t,e,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?Zk(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eF extends v1{constructor(t,e,r,i,s,o,a,l){const c=i+"-"+r.id;super(t,e,r,s,o,a,l,c),this.contentAttr=function FK(n){return"_ngcontent-%COMP%".replace(m1,n)}(c),this.hostAttr=function VK(n){return"_nghost-%COMP%".replace(m1,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let UK=(()=>{class n extends Qk{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Ae(br))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();const tF=["alt","control","meta","shift"],jK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$K={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let HK=(()=>{class n extends Qk{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fl().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),tF.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(e,r){let i=jK[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),tF.forEach(o=>{o!==i&&(0,$K[o])(e)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(r){return new(r||n)(Ae(br))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();const qK=Kx(b9,"browser",[{provide:Wa,useValue:"browser"},{provide:rP,useValue:function zK(){h1.makeCurrent()},multi:!0},{provide:br,useFactory:function WK(){return function Fz(n){nT=n}(document),document},deps:[]}]),KK=new Ke(""),iF=[{provide:Uv,useClass:class NK{addToWindow(t){Zn.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new he(5103,!1);return s},Zn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Zn.getAllAngularRootElements=()=>t.getAllRootElements(),Zn.frameworkStabilizers||(Zn.frameworkStabilizers=[]),Zn.frameworkStabilizers.push(r=>{const i=Zn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Fl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:Hx,useClass:PI,deps:[jt,MI,Uv]},{provide:PI,useClass:PI,deps:[jt,MI,Uv]}],sF=[{provide:dT,useValue:"root"},{provide:qa,useFactory:function GK(){return new qa},deps:[]},{provide:f1,useClass:UK,multi:!0,deps:[br,jt,Wa]},{provide:f1,useClass:HK,multi:!0,deps:[br]},_1,Yk,Kk,{provide:Ud,useExisting:_1},{provide:class iK{},useClass:PK,deps:[]},[]];let oF=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:cv,useValue:e.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(Ae(KK,12))}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({providers:[...sF,...iF],imports:[l1,E9]})}}return n})(),aF=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||n)(Ae(br))}}static{this.\u0275prov=Ve({token:n,factory:function(r){let i=null;return i=r?new r:function YK(){return new aF(Ae(br))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;let E1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(r){let i=null;return i=r?new(r||n):Ae(uF),i},providedIn:"root"})}}return n})(),uF=(()=>{class n extends E1{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case $s.NONE:return r;case $s.HTML:return la(r,"HTML")?js(r):WN(this._doc,String(r)).toString();case $s.STYLE:return la(r,"Style")?js(r):r;case $s.SCRIPT:if(la(r,"Script"))return js(r);throw new he(5200,!1);case $s.URL:return la(r,"URL")?js(r):rv(String(r));case $s.RESOURCE_URL:if(la(r,"ResourceURL"))return js(r);throw new he(5201,!1);default:throw new he(5202,!1)}}bypassSecurityTrustHtml(e){return function Hz(n){return new Vz(n)}(e)}bypassSecurityTrustStyle(e){return function zz(n){return new Lz(n)}(e)}bypassSecurityTrustScript(e){return function Gz(n){return new Bz(n)}(e)}bypassSecurityTrustUrl(e){return function Wz(n){return new Uz(n)}(e)}bypassSecurityTrustResourceUrl(e){return function qz(n){return new jz(n)}(e)}static{this.\u0275fac=function(r){return new(r||n)(Ae(br))}}static{this.\u0275prov=Ve({token:n,factory:function(r){let i=null;return i=r?new r:function eQ(n){return new uF(n.get(br))}(Ae(Cr)),i},providedIn:"root"})}}return n})();const{isArray:nQ}=Array,{getPrototypeOf:rQ,prototype:iQ,keys:sQ}=Object;function hF(n){if(1===n.length){const t=n[0];if(nQ(t))return{args:t,keys:null};if(function oQ(n){return n&&"object"==typeof n&&rQ(n)===iQ}(t)){const e=sQ(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:aQ}=Array;function w1(n){return xe(t=>function lQ(n,t){return aQ(t)?n(...t):n(t)}(n,t))}function fF(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function T1(...n){const t=eo(n),e=Ri(n),{args:r,keys:i}=hF(n);if(0===r.length)return D([],t);const s=new tt(function cQ(n,t,e=nt){return r=>{pF(t,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)pF(t,()=>{const c=D(n[l],t);let d=!1;c.subscribe(ae(r,g=>{s[l]=g,d||(d=!0,a--),a||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>fF(i,o):nt));return e?s.pipe(w1(e)):s}function pF(n,t,e){n?sn(e,n,t):t()}const o0=Oe(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ag(...n){return function uQ(){return Kt(1)}()(D(n,eo(n)))}function gF(n){return new tt(t=>{we(n()).subscribe(t)})}function Sg(n,t){const e=N(n)?n:()=>n,r=i=>i.error(e());return new tt(t?i=>t.schedule(r,0,i):r)}function I1(){return oe((n,t)=>{let e=null;n._refCount++;const r=ae(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class mF extends tt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ee(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Vt;const e=this.getSubject();t.add(this.source.subscribe(ae(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Vt.EMPTY)}return t}refCount(){return I1()(this)}}function xi(n){return n<=0?()=>Xt:oe((t,e)=>{let r=0;t.subscribe(ae(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function ei(n,t){return oe((e,r)=>{let i=0;e.subscribe(ae(r,s=>n.call(t,s,i++)&&r.next(s)))})}function a0(n){return oe((t,e)=>{let r=!1;t.subscribe(ae(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function yF(n=dQ){return oe((t,e)=>{let r=!1;t.subscribe(ae(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function dQ(){return new o0}function Ll(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ei((i,s)=>n(i,s,r)):nt,xi(1),e?a0(t):yF(()=>new o0))}function Rg(n,t){return N(t)?Jt(n,t,1):Jt(n,1)}function di(n,t,e){const r=N(n)||t||e?{next:n,error:t,complete:e}:n;return r?oe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ae(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):nt}function tu(n){return oe((t,e)=>{let s,r=null,i=!1;r=t.subscribe(ae(e,void 0,void 0,o=>{s=we(n(o,tu(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function D1(n){return n<=0?()=>Xt:oe((t,e)=>{let r=[];t.subscribe(ae(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function C1(n){return oe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function kr(n){return oe((t,e)=>{we(n).subscribe(ae(e,()=>e.complete(),it)),!e.closed&&t.subscribe(e)})}const tn="primary",Ng=Symbol("RouteTitle");class gQ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ch(n){return new gQ(n)}function mQ(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fa(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!bF(n[i],t[i]))return!1;return!0}function bF(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function EF(n){return n.length>0?n[n.length-1]:null}function Bl(n){return function tQ(n){return!!n&&(n instanceof tt||N(n.lift)&&N(n.subscribe))}(n)?n:lg(n)?D(Promise.resolve(n)):M(n)}const yQ={exact:function IF(n,t,e){if(!nu(n.segments,t.segments)||!l0(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!IF(n.children[r],t.children[r],e))return!1;return!0},subset:DF},wF={exact:function vQ(n,t){return fa(n,t)},subset:function bQ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>bF(n[e],t[e]))},ignored:()=>!0};function TF(n,t,e){return yQ[e.paths](n.root,t.root,e.matrixParams)&&wF[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function DF(n,t,e){return CF(n,t,t.segments,e)}function CF(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!nu(i,e)||t.hasChildren()||!l0(i,e,r))}if(n.segments.length===e.length){if(!nu(n.segments,e)||!l0(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!DF(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(nu(n.segments,i)&&l0(n.segments,i,r)&&n.children[tn])&&CF(n.children[tn],t,s,r)}}function l0(n,t,e){return t.every((r,i)=>wF[e](n[i].parameters,r.parameters))}class uh{constructor(t=new qn([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ch(this.queryParams)),this._queryParamMap}toString(){return TQ.serialize(this)}}class qn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c0(this)}}class Pg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ch(this.parameters)),this._parameterMap}toString(){return RF(this)}}function nu(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Mg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return new A1},providedIn:"root"})}}return n})();class A1{parse(t){const e=new xQ(t);return new uh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Og(t.root,!0)}`,r=function CQ(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${u0(e)}=${u0(i)}`).join("&"):`${u0(e)}=${u0(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function IQ(n){return encodeURI(n)}(t.fragment)}`:""}`}}const TQ=new A1;function c0(n){return n.segments.map(t=>RF(t)).join("/")}function Og(n,t){if(!n.hasChildren())return c0(n);if(t){const e=n.children[tn]?Og(n.children[tn],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==tn&&r.push(`${i}:${Og(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function wQ(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===tn&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==tn&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===tn?[Og(n.children[tn],!1)]:[`${i}:${Og(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[tn]?`${c0(n)}/${e[0]}`:`${c0(n)}/(${e.join("//")})`}}function AF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function u0(n){return AF(n).replace(/%3B/gi,";")}function S1(n){return AF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function d0(n){return decodeURIComponent(n)}function SF(n){return d0(n.replace(/\+/g,"%20"))}function RF(n){return`${S1(n.path)}${function DQ(n){return Object.keys(n).map(t=>`;${S1(t)}=${S1(n[t])}`).join("")}(n.parameters)}`}const AQ=/^[^\/()?;#]+/;function R1(n){const t=n.match(AQ);return t?t[0]:""}const SQ=/^[^\/()?;=#]+/,NQ=/^[^=?&#]+/,MQ=/^[^&#]+/;class xQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[tn]=new qn(t,e)),r}parseSegment(){const t=R1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new he(4009,!1);return this.capture(t),new Pg(d0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function RQ(n){const t=n.match(SQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=R1(this.remaining);i&&(r=i,this.capture(r))}t[d0(e)]=d0(r)}parseQueryParam(t){const e=function PQ(n){const t=n.match(NQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=function OQ(n){const t=n.match(MQ);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=SF(e),s=SF(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=R1(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new he(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=tn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[tn]:new qn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new he(4011,!1)}}function NF(n){return n.segments.length>0?new qn([],{[tn]:n}):n}function PF(n){const t={};for(const r of Object.keys(n.children)){const s=PF(n.children[r]);if(r===tn&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function kQ(n){if(1===n.numberOfChildren&&n.children[tn]){const t=n.children[tn];return new qn(n.segments.concat(t.segments),t.children)}return n}(new qn(n.segments,t))}function ru(n){return n instanceof uh}function MF(n){let t;const i=NF(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new qn(s.url,o);return s===n&&(t=a),a}(n.root));return t??i}function OF(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return N1(i,i,i,e,r);const s=function VQ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kF(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new kF(e,t,r)}(t);if(s.toRoot())return N1(i,i,new qn([],{}),e,r);const o=function LQ(n,t,e){if(n.isAbsolute)return new f0(t,!0,0);if(!e)return new f0(t,!1,NaN);if(null===e.parent)return new f0(e,!0,0);const r=h0(n.commands[0])?0:1;return function BQ(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new he(4005,!1);i=r.segments.length}return new f0(r,!1,i-s)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?kg(o.segmentGroup,o.index,s.commands):FF(o.segmentGroup,o.index,s.commands);return N1(i,o.segmentGroup,a,e,r)}function h0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xg(n){return"object"==typeof n&&null!=n&&n.outlets}function N1(n,t,e,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),o=n===t?e:xF(n,t,e);const a=NF(PF(o));return new uh(a,s,i)}function xF(n,t,e){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===t?e:xF(s,t,e)}),new qn(n.segments,r)}class kF{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&h0(r[0]))throw new he(4003,!1);const i=r.find(xg);if(i&&i!==EF(r))throw new he(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class f0{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function FF(n,t,e){if(n||(n=new qn([],{})),0===n.segments.length&&n.hasChildren())return kg(n,t,e);const r=function jQ(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const o=n.segments[i],a=e[r];if(xg(a))break;const l=`${a}`,c=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!LF(l,c,o))return s;r+=2}else{if(!LF(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new qn(n.segments.slice(0,r.pathIndex),{});return s.children[tn]=new qn(n.segments.slice(r.pathIndex),n.children),kg(s,0,i)}return r.match&&0===i.length?new qn(n.segments,{}):r.match&&!n.hasChildren()?P1(n,t,e):r.match?kg(n,0,i):P1(n,t,e)}function kg(n,t,e){if(0===e.length)return new qn(n.segments,{});{const r=function UQ(n){return xg(n[0])?n[0].outlets:{[tn]:n}}(e),i={};if(Object.keys(r).some(s=>s!==tn)&&n.children[tn]&&1===n.numberOfChildren&&0===n.children[tn].segments.length){const s=kg(n.children[tn],t,e);return new qn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=FF(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new qn(n.segments,i)}}function P1(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(xg(s)){const l=$Q(s.outlets);return new qn(r,l)}if(0===i&&h0(e[0])){r.push(new Pg(n.segments[t].path,VF(e[0]))),i++;continue}const o=xg(s)?s.outlets[tn]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&h0(a)?(r.push(new Pg(o,VF(a))),i+=2):(r.push(new Pg(o,{})),i++)}return new qn(r,{})}function $Q(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=P1(new qn([],{}),0,r))}),t}function VF(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function LF(n,t,e){return n==e.path&&fa(t,e.parameters)}const Fg="imperative";class pa{constructor(t,e){this.id=t,this.url=e}}class p0 extends pa{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ul extends pa{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vg extends pa{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dh extends pa{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class g0 extends pa{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BF extends pa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HQ extends pa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zQ extends pa{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class GQ extends pa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WQ extends pa{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qQ{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KQ{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QQ{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YQ{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JQ{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZQ{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UF{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class M1{}class O1{constructor(t){this.url=t}}class XQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lg,this.attachRef=null}}let Lg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new XQ,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class jF{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=x1(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=x1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=k1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return k1(t,this._root).map(e=>e.value)}}function x1(n,t){if(n===t.value)return t;for(const e of t.children){const r=x1(n,e);if(r)return r}return null}function k1(n,t){if(n===t.value)return[t];for(const e of t.children){const r=k1(n,e);if(r.length)return r.unshift(t),r}return[]}class el{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $F extends jF{constructor(t,e){super(t),this.snapshot=e,F1(this,t)}toString(){return this.snapshot.toString()}}function HF(n,t){const e=function eY(n,t){const o=new m0([],{},{},"",{},tn,t,null,{});return new GF("",new el(o,[]))}(0,t),r=new T([new Pg("",{})]),i=new T({}),s=new T({}),o=new T({}),a=new T(""),l=new fh(r,i,o,a,s,tn,t,e.root);return l.snapshot=e.root,new $F(new el(l,[]),e)}class fh{constructor(t,e,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(xe(c=>c[Ng]))??M(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(t=>ch(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(t=>ch(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zF(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function tY(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class m0{get title(){return this.data?.[Ng]}constructor(t,e,r,i,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ch(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ch(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GF extends jF{constructor(t,e){super(e),this.url=t,F1(this,e)}toString(){return WF(this._root)}}function F1(n,t){t.value._routerState=n,t.children.forEach(e=>F1(n,e))}function WF(n){const t=n.children.length>0?` { ${n.children.map(WF).join(", ")} } `:"";return`${n.value}${t}`}function V1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,fa(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),fa(t.params,e.params)||n.paramsSubject.next(e.params),function _Q(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!fa(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),fa(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function L1(n,t){const e=fa(n.params,t.params)&&function EQ(n,t){return nu(n,t)&&n.every((e,r)=>fa(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||L1(n.parent,t.parent))}let B1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=tn,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=je(Lg),this.location=je(fo),this.changeDetector=je(po),this.environmentInjector=je(As),this.inputBinder=je(_0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new he(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new he(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new he(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new he(4013,!1);this._activatedRoute=e;const i=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new nY(e,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zr]})}}return n})();class nY{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===fh?this.route:t===Lg?this.childContexts:this.parent.get(t,e)}}const _0=new Ke("");let qF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=T1([r.queryParams,r.params,r.data]).pipe(ke(([s,o,a],l)=>(a={...s,...o,...a},0===l?M(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const o=function O9(n){const t=mn(n);if(!t)return null;const e=new eg(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();function Bg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function iY(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bg(n,r,i);return Bg(n,r)})}(n,t,e);return new el(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Bg(n,a)),o}}const r=function sY(n){return new fh(new T(n.url),new T(n.params),new T(n.queryParams),new T(n.fragment),new T(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>Bg(n,s));return new el(r,i)}}const U1="ngNavigationCancelingError";function KF(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ru(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=QF(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function QF(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[U1]=!0,r.cancellationCode=t,e&&(r.url=e),r}function YF(n){return n&&n[U1]}let JF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ir({type:n,selectors:[["ng-component"]],standalone:!0,features:[ms],decls:1,vars:0,template:function(r,i){1&r&&rr(0,"router-outlet")},dependencies:[B1],encapsulation:2})}}return n})();function j1(n){const t=n.children&&n.children.map(j1),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==tn&&(e.component=JF),e}function jo(n){return n.outlet||tn}function Ug(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class fY{constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),V1(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=hh(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=hh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=hh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=hh(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ZQ(s.value.snapshot))}),t.children.length&&this.forwardEvent(new YQ(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(V1(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),V1(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Ug(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class ZF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class y0{constructor(t,e){this.component=t,this.route=e}}function pY(n,t,e){const r=n._root;return jg(r,t?t._root:null,e,[r.value])}function ph(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function M_(n){return null!==Yu(n)}(n)?t.get(n):n:r}function jg(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hh(t);return n.children.forEach(o=>{(function mY(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function _Y(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!nu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!nu(n.url,t.url)||!fa(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L1(n,t)||!fa(n.queryParams,t.queryParams);default:return!L1(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ZF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),jg(n,t,s.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new y0(a.outlet.component,o))}else o&&$g(t,a,i),i.canActivateChecks.push(new ZF(r)),jg(n,null,s.component?a?a.children:null:e,r,i)})(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$g(a,e.getContext(o),i)),i}function $g(n,t,e){const r=hh(n),i=n.value;Object.entries(r).forEach(([s,o])=>{$g(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new y0(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Hg(n){return"function"==typeof n}function XF(n){return n instanceof o0||"EmptyError"===n?.name}const v0=Symbol("INITIAL_VALUE");function gh(){return ke(n=>T1(n.map(t=>t.pipe(xi(1),function _F(...n){const t=eo(n);return oe((e,r)=>{(t?Ag(n,e,t):Ag(n,e)).subscribe(r)})}(v0)))).pipe(xe(t=>{for(const e of t)if(!0!==e){if(e===v0)return v0;if(!1===e||e instanceof uh)return e}return!0}),ei(t=>t!==v0),xi(1)))}function eV(n){return function Ct(...n){return wn(n)}(di(t=>{if(ru(t))throw KF(0,t)}),xe(t=>!0===t))}class b0{constructor(t){this.segmentGroup=t||null}}class tV{constructor(t){this.urlTree=t}}function mh(n){return Sg(new b0(n))}function nV(n){return Sg(new tV(n))}class VY{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new he(4002,!1)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return M(r);if(i.numberOfChildren>1||!i.children[tn])return Sg(new he(4e3,!1));i=i.children[tn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new uh(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=e[a]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new qn(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new he(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const $1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LY(n,t,e,r,i){const s=H1(n,t,e);return s.matched?(r=function aY(n,t){return n.providers&&!n._injector&&(n._injector=hI(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function xY(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?M(i.map(o=>{const a=ph(o,n);return Bl(function TY(n){return n&&Hg(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(gh(),eV()):M(!0)}(r,t,e).pipe(xe(o=>!0===o?s:{...$1}))):M(s)}function H1(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...$1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||mQ)(e,n,t);if(!i)return{...$1};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rV(n,t,e,r){return e.length>0&&function jY(n,t,e){return e.some(r=>E0(n,t,r)&&jo(r)!==tn)}(n,e,r)?{segmentGroup:new qn(t,UY(r,new qn(e,n.children))),slicedSegments:[]}:0===e.length&&function $Y(n,t,e){return e.some(r=>E0(n,t,r))}(n,e,r)?{segmentGroup:new qn(n.segments,BY(n,0,e,r,n.children)),slicedSegments:e}:{segmentGroup:new qn(n.segments,n.children),slicedSegments:e}}function BY(n,t,e,r,i){const s={};for(const o of r)if(E0(n,e,o)&&!i[jo(o)]){const a=new qn([],{});s[jo(o)]=a}return{...i,...s}}function UY(n,t){const e={};e[tn]=t;for(const r of n)if(""===r.path&&jo(r)!==tn){const i=new qn([],{});e[jo(r)]=i}return e}function E0(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class WY{constructor(t,e,r,i,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new VY(this.urlSerializer,this.urlTree)}noMatchError(t){return new he(4002,!1)}recognize(){const t=rV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,tn).pipe(tu(e=>{if(e instanceof tV)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof b0?this.noMatchError(e):e}),xe(e=>{const r=new m0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},tn,this.rootComponentType,null,{}),i=new el(r,e),s=new GF("",i),o=function FQ(n,t,e=null,r=null){return OF(MF(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,tn).pipe(tu(r=>{throw r instanceof b0?this.noMatchError(r):r}))}inheritParamsAndData(t){const e=t.value,r=zF(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i,!0)}processChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return D(i).pipe(Rg(s=>{const o=r.children[s],a=function dY(n,t){const e=n.filter(r=>jo(r)===t);return e.push(...n.filter(r=>jo(r)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function fQ(n,t){return oe(function hQ(n,t,e,r,i){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(ae(o,d=>{const g=c++;l=a?n(l,d,g):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),a0(null),function pQ(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ei((i,s)=>n(i,s,r)):nt,D1(1),e?a0(t):yF(()=>new o0))}(),Jt(s=>{if(null===s)return mh(r);const o=iV(s);return function qY(n){n.sort((t,e)=>t.value.outlet===tn?-1:e.value.outlet===tn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),M(o)}))}processSegment(t,e,r,i,s,o){return D(e).pipe(Rg(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,r,i,s,o).pipe(tu(l=>{if(l instanceof b0)return M(null);throw l}))),Ll(a=>!!a),tu(a=>{if(XF(a))return function zY(n,t,e){return 0===t.length&&!n.children[e]}(r,i,s)?M([]):mh(r);throw a}))}processSegmentAgainstRoute(t,e,r,i,s,o,a){return function HY(n,t,e,r){return!!(jo(n)===r||r!==tn&&E0(t,e,n))&&("**"===n.path||H1(t,n,e).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o):mh(i):mh(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Jt(o=>{const a=new qn(o,{});return this.processSegment(t,e,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=H1(e,i,s);if(!a)return mh(e);const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d);return i.redirectTo.startsWith("/")?nV(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Jt(_=>this.processSegment(t,r,e,_.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?EF(i).parameters:{};a=M({snapshot:new m0(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sV(r),jo(r),r.component??r._loadedComponent??null,r,oV(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=LY(e,r,i,t).pipe(xe(({matched:l,consumedSegments:c,remainingSegments:d,parameters:g})=>l?{snapshot:new m0(c,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sV(r),jo(r),r.component??r._loadedComponent??null,r,oV(r)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(ke(l=>null===l?mh(e):this.getChildConfig(t=r._injector??t,r,i).pipe(ke(({routes:c})=>{const d=r._loadedInjector??t,{snapshot:g,consumedSegments:_,remainingSegments:v}=l,{segmentGroup:I,slicedSegments:A}=rV(e,_,v,c);if(0===A.length&&I.hasChildren())return this.processChildren(d,c,I).pipe(xe(B=>null===B?null:[new el(g,B)]));if(0===c.length&&0===A.length)return M([new el(g,[])]);const S=jo(r)===s;return this.processSegment(d,c,I,A,S?tn:s,!0).pipe(xe(B=>[new el(g,B)]))}))))}getChildConfig(t,e,r){return e.children?M({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?M({routes:e._loadedRoutes,injector:e._loadedInjector}):function OY(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?M(!0):M(i.map(o=>{const a=ph(o,n);return Bl(function vY(n){return n&&Hg(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(gh(),eV())}(t,e,r).pipe(Jt(i=>i?this.configLoader.loadChildren(t,e).pipe(di(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function FY(n){return Sg(QF(!1,3))}())):M({routes:[],injector:t})}}function KY(n){const t=n.value.routeConfig;return t&&""===t.path}function iV(n){const t=[],e=new Set;for(const r of n){if(!KY(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=iV(r.children);t.push(new el(r.value,i))}return t.filter(r=>!e.has(r))}function sV(n){return n.data||{}}function oV(n){return n.resolve||{}}function YY(n,t){return Jt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return M(e);let s=0;return D(i).pipe(Rg(o=>function JY(n,t,e,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!aV(i)&&(s[Ng]=i.title),function ZY(n,t,e,r){const i=function XY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return M({});const s={};return D(i).pipe(Jt(o=>function eJ(n,t,e,r){const i=Ug(t)??r,s=ph(n,i);return Bl(s.resolve?s.resolve(t,e):i.runInContext(()=>s(t,e)))}(n[o],t,e,r).pipe(Ll(),di(a=>{s[o]=a}))),D1(1),function vF(n){return xe(()=>n)}(s),tu(o=>XF(o)?Xt:Sg(o)))}(s,n,t,r).pipe(xe(o=>(n._resolvedData=o,n.data=zF(n,e).resolve,i&&aV(i)&&(n.data[Ng]=i.title),null)))}(o.route,r,n,t)),di(()=>s++),D1(1),Jt(o=>s===i.length?M(e):Xt))})}function aV(n){return"string"==typeof n.title||null===n.title}function z1(n){return ke(t=>{const e=n(t);return e?D(e).pipe(xe(()=>t)):M(t)})}const _h=new Ke("ROUTES");let G1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=je(Bx)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return M(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Bl(e.loadComponent()).pipe(xe(lV),di(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),C1(()=>{this.componentLoaders.delete(e)})),i=new mF(r,()=>new K).pipe(I1());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return M({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function tJ(n,t,e,r){return Bl(n.loadChildren()).pipe(xe(lV),Jt(i=>i instanceof GO||Array.isArray(i)?M(i):D(t.compileModuleAsync(i))),xe(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(e).injector,o=s.get(_h,[],{optional:!0,self:!0}).flat()),{routes:o.map(j1),injector:s}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(C1(()=>{this.childrenLoaders.delete(r)})),o=new mF(s,()=>new K).pipe(I1());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lV(n){return function nJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let w0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=je(G1),this.environmentInjector=je(As),this.urlSerializer=je(Mg),this.rootContexts=je(Lg),this.inputBindingEnabled=null!==je(_0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new KQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new T({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fg,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(s=>0!==s.id),xe(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),ke(s=>{this.currentTransition=s;let o=!1,a=!1;return M(s).pipe(di(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ke(l=>{const c=l.currentBrowserUrl.toString(),d=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const _="";return this.events.next(new dh(l.id,this.urlSerializer.serialize(l.rawUrl),_,0)),l.resolve(null),Xt}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return M(l).pipe(ke(_=>{const v=this.transitions?.getValue();return this.events.next(new p0(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),v!==this.transitions?.getValue()?Xt:Promise.resolve(_)}),function QY(n,t,e,r,i,s){return Jt(o=>function GY(n,t,e,r,i,s,o="emptyOnly"){return new WY(n,t,e,r,i,o,s).recognize()}(n,t,e,r,o.extractedUrl,i,s).pipe(xe(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),di(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const v=new BF(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(v)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:_,extractedUrl:v,source:I,restoredState:A,extras:S}=l,B=new p0(_,this.urlSerializer.serialize(v),I,A);this.events.next(B);const x=HF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:x,urlAfterRedirects:v,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},M(s)}{const _="";return this.events.next(new dh(l.id,this.urlSerializer.serialize(l.extractedUrl),_,1)),l.resolve(null),Xt}}),di(l=>{const c=new HQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),xe(l=>(this.currentTransition=s={...l,guards:pY(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function DY(n,t){return Jt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?M({...e,guardsResult:!0}):function CY(n,t,e,r){return D(n).pipe(Jt(i=>function MY(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?M(s.map(a=>{const l=Ug(t)??i,c=ph(a,l);return Bl(function wY(n){return n&&Hg(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,r):l.runInContext(()=>c(n,t,e,r))).pipe(Ll())})).pipe(gh()):M(!0)}(i.component,i.route,e,t,r)),Ll(i=>!0!==i,!0))}(o,r,i,n).pipe(Jt(a=>a&&function yY(n){return"boolean"==typeof n}(a)?function AY(n,t,e,r){return D(t).pipe(Rg(i=>Ag(function RY(n,t){return null!==n&&t&&t(new QQ(n)),M(!0)}(i.route.parent,r),function SY(n,t){return null!==n&&t&&t(new JQ(n)),M(!0)}(i.route,r),function PY(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function gY(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>gF(()=>M(o.guards.map(l=>{const c=Ug(o.node)??e,d=ph(l,c);return Bl(function EY(n){return n&&Hg(n.canActivateChild)}(d)?d.canActivateChild(r,n):c.runInContext(()=>d(r,n))).pipe(Ll())})).pipe(gh())));return M(s).pipe(gh())}(n,i.path,e),function NY(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return M(!0);const i=r.map(s=>gF(()=>{const o=Ug(t)??e,a=ph(s,o);return Bl(function bY(n){return n&&Hg(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Ll())}));return M(i).pipe(gh())}(n,i.route,e))),Ll(i=>!0!==i,!0))}(r,s,n,t):M(a)),xe(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),di(l=>{if(s.guardsResult=l.guardsResult,ru(l.guardsResult))throw KF(0,l.guardsResult);const c=new zQ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ei(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),z1(l=>{if(l.guards.canActivateChecks.length)return M(l).pipe(di(c=>{const d=new GQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ke(c=>{let d=!1;return M(c).pipe(YY(e.paramsInheritanceStrategy,this.environmentInjector),di({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),di(c=>{const d=new WQ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),z1(l=>{const c=d=>{const g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(di(_=>{d.component=_}),xe(()=>{})));for(const _ of d.children)g.push(...c(_));return g};return T1(c(l.targetSnapshot.root)).pipe(a0(),xi(1))}),z1(()=>this.afterPreactivation()),xe(l=>{const c=function rY(n,t,e){const r=Bg(n,t._root,e?e._root:void 0);return new $F(r,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),di(()=>{this.events.next(new M1)}),((n,t,e,r)=>xe(i=>(new fY(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),xi(1),di({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ul(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),kr(this.transitionAbortSubject.pipe(di(l=>{throw l}))),C1(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),tu(l=>{if(a=!0,YF(l))this.events.next(new Vg(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function oY(n){return YF(n)&&ru(n.url)}(l)?this.events.next(new O1(l.url)):s.resolve(!1);else{this.events.next(new g0(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Xt}))}))}cancelNavigationTransition(e,r,i){const s=new Vg(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cV(n){return n!==Fg}let uV=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===tn);return r}getResolvedTitleForRoute(e){return e.data[Ng]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return je(rJ)},providedIn:"root"})}}return n})(),rJ=(()=>{class n extends uV{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Ae(aF))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return je(oJ)},providedIn:"root"})}}return n})();class sJ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let oJ=(()=>{class n extends sJ{static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Dr(n)))(i||n)}}()}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const T0=new Ke("",{providedIn:"root",factory:()=>({})});let aJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:function(){return je(lJ)},providedIn:"root"})}}return n})(),lJ=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var zg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(zg||{});function dV(n,t){n.events.pipe(ei(e=>e instanceof Ul||e instanceof Vg||e instanceof g0||e instanceof dh),xe(e=>e instanceof Ul||e instanceof dh?zg.COMPLETE:e instanceof Vg&&(0===e.code||1===e.code)?zg.REDIRECTING:zg.FAILED),ei(e=>e!==zg.REDIRECTING),xi(1)).subscribe(()=>{t()})}function cJ(n){throw n}function uJ(n,t,e){return t.parse("/")}const dJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=je(Vx),this.isNgZoneEnabled=!1,this._events=new K,this.options=je(T0,{optional:!0})||{},this.pendingTasks=je(Lx),this.errorHandler=this.options.errorHandler||cJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=je(aJ),this.routeReuseStrategy=je(iJ),this.titleStrategy=je(uV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=je(_h,{optional:!0})?.flat()??[],this.navigationTransitions=je(w0),this.urlSerializer=je(Mg),this.location=je(WI),this.componentInputBindingEnabled=!!je(_0,{optional:!0}),this.eventsSubscription=new Vt,this.isNgZoneEnabled=je(jt)instanceof jt&&jt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new uh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(hV(r)&&this._events.next(r));if(r instanceof p0)cV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof dh)this.rawUrlTree=i.rawUrl;else if(r instanceof BF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof M1)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Vg)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof O1){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cV(i.source)};this.scheduleNavigation(s,Fg,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof g0&&this.restoreHistory(i,!0),r instanceof Ul&&(this.navigated=!0),hV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fg,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(j1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let g,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{g=MF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),g=this.currentUrlTree.root}return OF(g,e,d,c??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ru(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Fg,null,r)}navigate(e,r={skipLocationChange:!1}){return function fJ(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new he(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...dJ}:!1===r?{...hJ}:r,ru(e))return TF(this.currentUrlTree,e,i);const s=this.parseUrl(e);return TF(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((g,_)=>{a=g,l=_});const d=this.pendingTasks.add();return dV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hV(n){return!(n instanceof M1||n instanceof O1)}let Gg=(()=>{class n{constructor(e,r,i,s,o,a){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Ul&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function QN(n,t,e){return function aG(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?KN:qN}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(z(Xi),z(fh),function Gc(n){return function Te(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const s=e[i];if(us(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(s===t)return e[i+1];i+=2}}}return null}(Gr(),n)}("tabindex"),z(Hs),z(Vn),z(eu))}}static{this.\u0275dir=Le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ut("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&In("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",oh],skipLocationChange:["skipLocationChange","skipLocationChange",oh],replaceUrl:["replaceUrl","replaceUrl",oh],routerLink:"routerLink"},standalone:!0,features:[cM,zr]})}}return n})();class fV{}let mJ=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ei(e=>e instanceof Ul),Rg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=hI(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return D(i).pipe(Kt())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):M(null);const s=i.pipe(Jt(o=>null===o?M(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return r.loadComponent&&!r._loadedComponent?D([s,this.loader.loadComponent(r)]).pipe(Kt()):s})}static{this.\u0275fac=function(r){return new(r||n)(Ae(Xi),Ae(Bx),Ae(As),Ae(fV),Ae(G1))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const W1=new Ke("");let pV=(()=>{class n{constructor(e,r,i,s,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof p0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ul?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof dh&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof UF&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new UF(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function FP(){throw new Error("invalid")}()}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();function tl(n,t){return{\u0275kind:n,\u0275providers:t}}function mV(){const n=je(Cr);return t=>{const e=n.get(Vo);if(t!==e.components[0])return;const r=n.get(Xi),i=n.get(_V);1===n.get(q1)&&r.initialNavigation(),n.get(yV,null,cn.Optional)?.setUpPreloading(),n.get(W1,null,cn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _V=new Ke("",{factory:()=>new K}),q1=new Ke("",{providedIn:"root",factory:()=>1}),yV=new Ke("");function bJ(n){return tl(0,[{provide:yV,useExisting:mJ},{provide:fV,useExisting:n}])}const vV=new Ke("ROUTER_FORROOT_GUARD"),wJ=[WI,{provide:Mg,useClass:A1},Xi,Lg,{provide:fh,useFactory:function gV(n){return n.routerState.root},deps:[Xi]},G1,[]];function TJ(){return new Wx("Router",Xi)}let bV=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[wJ,[],{provide:_h,multi:!0,useValue:e},{provide:vV,useFactory:AJ,deps:[[Xi,new Ei,new $y]]},{provide:T0,useValue:r||{}},r?.useHash?{provide:eu,useClass:L9}:{provide:eu,useClass:Ik},{provide:W1,useFactory:()=>{const n=je(tK),t=je(jt),e=je(T0),r=je(w0),i=je(Mg);return e.scrollOffset&&n.setOffset(e.scrollOffset),new pV(i,r,n,t,e)}},r?.preloadingStrategy?bJ(r.preloadingStrategy).\u0275providers:[],{provide:Wx,multi:!0,useFactory:TJ},r?.initialNavigation?SJ(r):[],r?.bindToComponentInputs?tl(8,[qF,{provide:_0,useExisting:qF}]).\u0275providers:[],[{provide:EV,useFactory:mV},{provide:kI,multi:!0,useExisting:EV}]]}}static forChild(e){return{ngModule:n,providers:[{provide:_h,multi:!0,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||n)(Ae(vV,8))}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();function AJ(n){return"guarded"}function SJ(n){return["disabled"===n.initialNavigation?tl(3,[{provide:AI,multi:!0,useFactory:()=>{const t=je(Xi);return()=>{t.setUpLocationChangeListener()}}},{provide:q1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?tl(2,[{provide:q1,useValue:0},{provide:AI,multi:!0,deps:[Cr],useFactory:t=>{const e=t.get(F9,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(Xi),s=t.get(_V);dV(i,()=>{r(!0)}),t.get(w0).afterPreactivation=()=>(r(!0),s.closed?M(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const EV=new Ke("");var Ie=ft(467),Fr=ft(852);(0,Fr.registerVersion)("firebase","10.14.1","app");class MJ extends Vt{constructor(t,e){super()}schedule(t,e=0){return this}}const I0={setInterval(n,t,...e){const{delegate:r}=I0;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=I0;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class wV extends MJ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return I0.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&I0.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Be(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const K1={now:()=>(K1.delegate||Date).now(),delegate:void 0};class Wg{constructor(t,e=Wg.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Wg.now=K1.now;class TV extends Wg{constructor(t,e=Wg.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const kJ=new class xJ extends TV{}(class OJ extends wV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,e,r):(t.flush(this),0)}}),Q1=new TV(wV),FJ=Q1,iu=new jd("ANGULARFIRE2_VERSION");function Y1(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}const D0=(n,t)=>{const e=t?[t]:(0,Fr.getApps)(),r=[];return e.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class C0{constructor(){return D0(VJ)}}const VJ="app-check";function yh(){}class IV{zone;delegate;constructor(t,e=kJ){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{t.apply(this,[o])})},e,r)}}class LJ{zone;task=null;constructor(t){this.zone=t}call(t,e){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yh,{},yh,yh)),e.pipe(di({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qg=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new IV(Zone.current)),this.insideAngular=e.run(()=>new IV(Zone.current,Q1)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Ae(jt))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function su(n){return vh().ngZone.run(()=>n())}function DV(n){return function UJ(n){return function(e){return(e=e.lift(new LJ(n.ngZone))).pipe(mi(n.outsideAngular),Tr(n.insideAngular))}}(vh())(n)}const jJ=(n,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),su(()=>n.apply(void 0,r))},ki=(n,t)=>function(){let e;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(t&&(e||=su(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yh,{},yh,yh))),r[s]=jJ(r[s],e));const i=function BJ(n){return vh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!t){if(i instanceof tt){const s=vh();return i.pipe(mi(s.outsideAngular),Tr(s.insideAngular))}return su(()=>i)}return i instanceof tt?i.pipe(DV):i instanceof Promise?su(()=>new Promise((s,o)=>i.then(a=>su(()=>s(a)),a=>su(()=>o(a))))):"function"==typeof i&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),i.apply(this,arguments)}:su(()=>i)};class bh{constructor(t){return t}}class A0{constructor(){return(0,Fr.getApps)()}}const J1=new Ke("angularfire2._apps"),HJ={provide:bh,useFactory:function $J(n){return n&&1===n.length?n[0]:new bh((0,Fr.getApp)())},deps:[[new Ei,J1]]},zJ={provide:A0,deps:[[new Ei,J1]]};function GJ(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new bh(r)}}let WJ=(()=>{class n{constructor(e){(0,Fr.registerVersion)("angularfire",iu.full,"core"),(0,Fr.registerVersion)("angularfire",iu.full,"app"),(0,Fr.registerVersion)("angular",DT.full,e.toString())}static \u0275fac=function(r){return new(r||n)(Ae(Wa))};static \u0275mod=en({type:n});static \u0275inj=rn({providers:[HJ,zJ]})}return n})();function qJ(n,...t){return{ngModule:WJ,providers:[{provide:J1,useFactory:GJ(n),multi:!0,deps:[jt,Cr,qg,...t]}]}}const KJ=ki(Fr.initializeApp,!0);var QJ=ft(504),Kn=ft(76),ga=ft(41),CV=ft(362);class S0{constructor(t){return t}}class Z1{constructor(){return D0("auth")}}const X1=new Ke("angularfire2.auth-instances");function JJ(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new S0(r)}}const ZJ={provide:Z1,deps:[[new Ei,X1]]},XJ={provide:S0,useFactory:function YJ(n,t){const e=Y1("auth",n,t);return e&&new S0(e)},deps:[[new Ei,X1],bh]};let eZ=(()=>{class n{constructor(){(0,Fr.registerVersion)("angularfire",iu.full,"auth")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=rn({providers:[XJ,ZJ]})}return n})();function tZ(n,...t){return{ngModule:eZ,providers:[{provide:X1,useFactory:JJ(n),multi:!0,deps:[jt,Cr,qg,A0,[new Ei,C0],...t]}]}}const nZ=ki(QJ.o,!0);var ou,NV,SV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RV={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(F,P,k){k||(k=0);var $=Array(16);if("string"==typeof P)for(var Y=0;16>Y;++Y)$[Y]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(Y=0;16>Y;++Y)$[Y]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;var ne=F.g[3],V=(P=F.g[0])+(ne^(k=F.g[1])&((Y=F.g[2])^ne))+$[0]+3614090360&4294967295;V=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=(k=(Y=(ne=(P=k+(V<<7&4294967295|V>>>25))+((V=ne+(Y^P&(k^Y))+$[1]+3905402710&4294967295)<<12&4294967295|V>>>20))+((V=Y+(k^ne&(P^k))+$[2]+606105819&4294967295)<<17&4294967295|V>>>15))+((V=k+(P^Y&(ne^P))+$[3]+3250441966&4294967295)<<22&4294967295|V>>>10))+((V=P+(ne^k&(Y^ne))+$[4]+4118548399&4294967295)<<7&4294967295|V>>>25))+((V=ne+(Y^P&(k^Y))+$[5]+1200080426&4294967295)<<12&4294967295|V>>>20))+((V=Y+(k^ne&(P^k))+$[6]+2821735955&4294967295)<<17&4294967295|V>>>15))+((V=k+(P^Y&(ne^P))+$[7]+4249261313&4294967295)<<22&4294967295|V>>>10))+((V=P+(ne^k&(Y^ne))+$[8]+1770035416&4294967295)<<7&4294967295|V>>>25))+((V=ne+(Y^P&(k^Y))+$[9]+2336552879&4294967295)<<12&4294967295|V>>>20))+((V=Y+(k^ne&(P^k))+$[10]+4294925233&4294967295)<<17&4294967295|V>>>15))+((V=k+(P^Y&(ne^P))+$[11]+2304563134&4294967295)<<22&4294967295|V>>>10))+((V=P+(ne^k&(Y^ne))+$[12]+1804603682&4294967295)<<7&4294967295|V>>>25))+((V=ne+(Y^P&(k^Y))+$[13]+4254626195&4294967295)<<12&4294967295|V>>>20))+((V=Y+(k^ne&(P^k))+$[14]+2792965006&4294967295)<<17&4294967295|V>>>15))+((V=k+(P^Y&(ne^P))+$[15]+1236535329&4294967295)<<22&4294967295|V>>>10))+((V=P+(Y^ne&(k^Y))+$[1]+4129170786&4294967295)<<5&4294967295|V>>>27))+((V=ne+(k^Y&(P^k))+$[6]+3225465664&4294967295)<<9&4294967295|V>>>23))+((V=Y+(P^k&(ne^P))+$[11]+643717713&4294967295)<<14&4294967295|V>>>18))+((V=k+(ne^P&(Y^ne))+$[0]+3921069994&4294967295)<<20&4294967295|V>>>12))+((V=P+(Y^ne&(k^Y))+$[5]+3593408605&4294967295)<<5&4294967295|V>>>27))+((V=ne+(k^Y&(P^k))+$[10]+38016083&4294967295)<<9&4294967295|V>>>23))+((V=Y+(P^k&(ne^P))+$[15]+3634488961&4294967295)<<14&4294967295|V>>>18))+((V=k+(ne^P&(Y^ne))+$[4]+3889429448&4294967295)<<20&4294967295|V>>>12))+((V=P+(Y^ne&(k^Y))+$[9]+568446438&4294967295)<<5&4294967295|V>>>27))+((V=ne+(k^Y&(P^k))+$[14]+3275163606&4294967295)<<9&4294967295|V>>>23))+((V=Y+(P^k&(ne^P))+$[3]+4107603335&4294967295)<<14&4294967295|V>>>18))+((V=k+(ne^P&(Y^ne))+$[8]+1163531501&4294967295)<<20&4294967295|V>>>12))+((V=P+(Y^ne&(k^Y))+$[13]+2850285829&4294967295)<<5&4294967295|V>>>27))+((V=ne+(k^Y&(P^k))+$[2]+4243563512&4294967295)<<9&4294967295|V>>>23))+((V=Y+(P^k&(ne^P))+$[7]+1735328473&4294967295)<<14&4294967295|V>>>18))+((V=k+(ne^P&(Y^ne))+$[12]+2368359562&4294967295)<<20&4294967295|V>>>12))+((V=P+(k^Y^ne)+$[5]+4294588738&4294967295)<<4&4294967295|V>>>28))+((V=ne+(P^k^Y)+$[8]+2272392833&4294967295)<<11&4294967295|V>>>21))+((V=Y+(ne^P^k)+$[11]+1839030562&4294967295)<<16&4294967295|V>>>16))+((V=k+(Y^ne^P)+$[14]+4259657740&4294967295)<<23&4294967295|V>>>9))+((V=P+(k^Y^ne)+$[1]+2763975236&4294967295)<<4&4294967295|V>>>28))+((V=ne+(P^k^Y)+$[4]+1272893353&4294967295)<<11&4294967295|V>>>21))+((V=Y+(ne^P^k)+$[7]+4139469664&4294967295)<<16&4294967295|V>>>16))+((V=k+(Y^ne^P)+$[10]+3200236656&4294967295)<<23&4294967295|V>>>9))+((V=P+(k^Y^ne)+$[13]+681279174&4294967295)<<4&4294967295|V>>>28))+((V=ne+(P^k^Y)+$[0]+3936430074&4294967295)<<11&4294967295|V>>>21))+((V=Y+(ne^P^k)+$[3]+3572445317&4294967295)<<16&4294967295|V>>>16))+((V=k+(Y^ne^P)+$[6]+76029189&4294967295)<<23&4294967295|V>>>9))+((V=P+(k^Y^ne)+$[9]+3654602809&4294967295)<<4&4294967295|V>>>28))+((V=ne+(P^k^Y)+$[12]+3873151461&4294967295)<<11&4294967295|V>>>21))+((V=Y+(ne^P^k)+$[15]+530742520&4294967295)<<16&4294967295|V>>>16))+((V=k+(Y^ne^P)+$[2]+3299628645&4294967295)<<23&4294967295|V>>>9))+((V=P+(Y^(k|~ne))+$[0]+4096336452&4294967295)<<6&4294967295|V>>>26))+((V=ne+(k^(P|~Y))+$[7]+1126891415&4294967295)<<10&4294967295|V>>>22))+((V=Y+(P^(ne|~k))+$[14]+2878612391&4294967295)<<15&4294967295|V>>>17))+((V=k+(ne^(Y|~P))+$[5]+4237533241&4294967295)<<21&4294967295|V>>>11))+((V=P+(Y^(k|~ne))+$[12]+1700485571&4294967295)<<6&4294967295|V>>>26))+((V=ne+(k^(P|~Y))+$[3]+2399980690&4294967295)<<10&4294967295|V>>>22))+((V=Y+(P^(ne|~k))+$[10]+4293915773&4294967295)<<15&4294967295|V>>>17))+((V=k+(ne^(Y|~P))+$[1]+2240044497&4294967295)<<21&4294967295|V>>>11))+((V=P+(Y^(k|~ne))+$[8]+1873313359&4294967295)<<6&4294967295|V>>>26))+((V=ne+(k^(P|~Y))+$[15]+4264355552&4294967295)<<10&4294967295|V>>>22))+((V=Y+(P^(ne|~k))+$[6]+2734768916&4294967295)<<15&4294967295|V>>>17))+((V=k+(ne^(Y|~P))+$[13]+1309151649&4294967295)<<21&4294967295|V>>>11))+((ne=(P=k+((V=P+(Y^(k|~ne))+$[4]+4149444226&4294967295)<<6&4294967295|V>>>26))+((V=ne+(k^(P|~Y))+$[11]+3174756917&4294967295)<<10&4294967295|V>>>22))^((Y=ne+((V=Y+(P^(ne|~k))+$[2]+718787259&4294967295)<<15&4294967295|V>>>17))|~P))+$[9]+3951481745&4294967295,F.g[0]=F.g[0]+P&4294967295,F.g[1]=F.g[1]+(Y+(V<<21&4294967295|V>>>11))&4294967295,F.g[2]=F.g[2]+Y&4294967295,F.g[3]=F.g[3]+ne&4294967295}function o(F,P){this.h=P;for(var k=[],$=!0,Y=F.length-1;0<=Y;Y--){var ne=0|F[Y];$&&ne==P||(k[Y]=ne,$=!1)}this.g=k}(function t(F,P){function k(){}k.prototype=P.prototype,F.D=P.prototype,F.prototype=new k,F.prototype.constructor=F,F.C=function($,Y,ne){for(var V=Array(arguments.length-2),ni=2;ni<arguments.length;ni++)V[ni-2]=arguments[ni];return P.prototype[Y].apply($,V)}})(r,function e(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(F,P){void 0===P&&(P=F.length);for(var k=P-this.blockSize,$=this.B,Y=this.h,ne=0;ne<P;){if(0==Y)for(;ne<=k;)i(this,F,ne),ne+=this.blockSize;if("string"==typeof F){for(;ne<P;)if($[Y++]=F.charCodeAt(ne++),Y==this.blockSize){i(this,$),Y=0;break}}else for(;ne<P;)if($[Y++]=F[ne++],Y==this.blockSize){i(this,$),Y=0;break}}this.h=Y,this.o+=P},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var P=1;P<F.length-8;++P)F[P]=0;var k=8*this.o;for(P=F.length-8;P<F.length;++P)F[P]=255&k,k/=256;for(this.u(F),F=Array(16),P=k=0;4>P;++P)for(var $=0;32>$;$+=8)F[k++]=this.g[P]>>>$&255;return F};var a={};function l(F){return-128<=F&&128>F?function s(F,P){var k=a;return Object.prototype.hasOwnProperty.call(k,F)?k[F]:k[F]=P(F)}(F,function(P){return new o([0|P],0>P?-1:0)}):new o([0|F],0>F?-1:0)}function c(F){if(isNaN(F)||!isFinite(F))return g;if(0>F)return S(c(-F));for(var P=[],k=1,$=0;F>=k;$++)P[$]=F/k|0,k*=4294967296;return new o(P,0)}var g=l(0),_=l(1),v=l(16777216);function I(F){if(0!=F.h)return!1;for(var P=0;P<F.g.length;P++)if(0!=F.g[P])return!1;return!0}function A(F){return-1==F.h}function S(F){for(var P=F.g.length,k=[],$=0;$<P;$++)k[$]=~F.g[$];return new o(k,~F.h).add(_)}function B(F,P){return F.add(S(P))}function x(F,P){for(;(65535&F[P])!=F[P];)F[P+1]+=F[P]>>>16,F[P]&=65535,P++}function Q(F,P){this.g=F,this.h=P}function X(F,P){if(I(P))throw Error("division by zero");if(I(F))return new Q(g,g);if(A(F))return P=X(S(F),P),new Q(S(P.g),S(P.h));if(A(P))return P=X(F,S(P)),new Q(S(P.g),P.h);if(30<F.g.length){if(A(F)||A(P))throw Error("slowDivide_ only works with positive integers.");for(var k=_,$=P;0>=$.l(F);)k=ye(k),$=ye($);var Y=Ne(k,1),ne=Ne($,1);for($=Ne($,2),k=Ne(k,2);!I($);){var V=ne.add($);0>=V.l(F)&&(Y=Y.add(k),ne=V),$=Ne($,1),k=Ne(k,1)}return P=B(F,Y.j(P)),new Q(Y,P)}for(Y=g;0<=F.l(P);){for(k=Math.max(1,Math.floor(F.m()/P.m())),$=48>=($=Math.ceil(Math.log(k)/Math.LN2))?1:Math.pow(2,$-48),V=(ne=c(k)).j(P);A(V)||0<V.l(F);)V=(ne=c(k-=$)).j(P);I(ne)&&(ne=_),Y=Y.add(ne),F=B(F,V)}return new Q(Y,F)}function ye(F){for(var P=F.g.length+1,k=[],$=0;$<P;$++)k[$]=F.i($)<<1|F.i($-1)>>>31;return new o(k,F.h)}function Ne(F,P){var k=P>>5;P%=32;for(var $=F.g.length-k,Y=[],ne=0;ne<$;ne++)Y[ne]=0<P?F.i(ne+k)>>>P|F.i(ne+k+1)<<32-P:F.i(ne+k);return new o(Y,F.h)}(n=o.prototype).m=function(){if(A(this))return-S(this).m();for(var F=0,P=1,k=0;k<this.g.length;k++){var $=this.i(k);F+=(0<=$?$:4294967296+$)*P,P*=4294967296}return F},n.toString=function(F){if(2>(F=F||10)||36<F)throw Error("radix out of range: "+F);if(I(this))return"0";if(A(this))return"-"+S(this).toString(F);for(var P=c(Math.pow(F,6)),k=this,$="";;){var Y=X(k,P).g,ne=((0<(k=B(k,Y.j(P))).g.length?k.g[0]:k.h)>>>0).toString(F);if(I(k=Y))return ne+$;for(;6>ne.length;)ne="0"+ne;$=ne+$}},n.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h},n.l=function(F){return A(F=B(this,F))?-1:I(F)?0:1},n.abs=function(){return A(this)?S(this):this},n.add=function(F){for(var P=Math.max(this.g.length,F.g.length),k=[],$=0,Y=0;Y<=P;Y++){var ne=$+(65535&this.i(Y))+(65535&F.i(Y)),V=(ne>>>16)+(this.i(Y)>>>16)+(F.i(Y)>>>16);$=V>>>16,k[Y]=(V&=65535)<<16|(ne&=65535)}return new o(k,-2147483648&k[k.length-1]?-1:0)},n.j=function(F){if(I(this)||I(F))return g;if(A(this))return A(F)?S(this).j(S(F)):S(S(this).j(F));if(A(F))return S(this.j(S(F)));if(0>this.l(v)&&0>F.l(v))return c(this.m()*F.m());for(var P=this.g.length+F.g.length,k=[],$=0;$<2*P;$++)k[$]=0;for($=0;$<this.g.length;$++)for(var Y=0;Y<F.g.length;Y++){var ne=this.i($)>>>16,V=65535&this.i($),ni=F.i(Y)>>>16,is=65535&F.i(Y);k[2*$+2*Y]+=V*is,x(k,2*$+2*Y),k[2*$+2*Y+1]+=ne*is,x(k,2*$+2*Y+1),k[2*$+2*Y+1]+=V*ni,x(k,2*$+2*Y+1),k[2*$+2*Y+2]+=ne*ni,x(k,2*$+2*Y+2)}for($=0;$<P;$++)k[$]=k[2*$+1]<<16|k[2*$];for($=P;$<2*P;$++)k[$]=0;return new o(k,0)},n.A=function(F){return X(this,F).h},n.and=function(F){for(var P=Math.max(this.g.length,F.g.length),k=[],$=0;$<P;$++)k[$]=this.i($)&F.i($);return new o(k,this.h&F.h)},n.or=function(F){for(var P=Math.max(this.g.length,F.g.length),k=[],$=0;$<P;$++)k[$]=this.i($)|F.i($);return new o(k,this.h|F.h)},n.xor=function(F){for(var P=Math.max(this.g.length,F.g.length),k=[],$=0;$<P;$++)k[$]=this.i($)^F.i($);return new o(k,this.h^F.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NV=RV.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function d(F,P){if(0==F.length)throw Error("number format error: empty string");if(2>(P=P||10)||36<P)throw Error("radix out of range: "+P);if("-"==F.charAt(0))return S(d(F.substring(1),P));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(P,8)),$=g,Y=0;Y<F.length;Y+=8){var ne=Math.min(8,F.length-Y),V=parseInt(F.substring(Y,Y+ne),P);8>ne?(ne=c(Math.pow(P,ne)),$=$.j(ne).add(c(V))):$=($=$.j(k)).add(c(V))}return $},ou=RV.Integer=o}).apply(typeof SV<"u"?SV:typeof self<"u"?self:typeof window<"u"?window:{});var PV,Kg,MV,N0,eD,OV,xV,kV,R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nl={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,b){return f==Array.prototype||f==Object.prototype||(f[y]=b.value),f},r=function e(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof R0&&R0];for(var y=0;y<f.length;++y){var b=f[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}(this);!function i(f,y){if(y)e:{var b=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var ie=f[R];if(!(ie in b))break e;b=b[ie]}(y=y(R=b[f=f[f.length-1]]))!=R&&null!=y&&t(b,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function s(f,y){f instanceof String&&(f+="");var b=0,R=!1,ie={next:function(){if(!R&&b<f.length){var fe=b++;return{value:y(fe,f[fe]),done:!1}}return R=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}(this,function(y,b){return b})}});var o=o||{},a=this||self;function l(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function c(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function d(f,y,b){return f.call.apply(f.bind,arguments)}function g(f,y,b){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,R),f.apply(y,ie)}}return function(){return f.apply(y,arguments)}}function _(f,y,b){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:g).apply(null,arguments)}function v(f,y){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function I(f,y){function b(){}b.prototype=y.prototype,f.aa=y.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(R,ie,fe){for(var Ye=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)Ye[lr-2]=arguments[lr];return y.prototype[ie].apply(R,Ye)}}function A(f){const y=f.length;if(0<y){const b=Array(y);for(let R=0;R<y;R++)b[R]=f[R];return b}return[]}function S(f,y){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const ie=f.length||0,fe=R.length||0;f.length=ie+fe;for(let Ye=0;Ye<fe;Ye++)f[ie+Ye]=R[Ye]}else f.push(R)}}function x(f){return/^[\s\xa0]*$/.test(f)}function Q(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function X(f){return X[" "](f),f}X[" "]=function(){};var ye=!(-1==Q().indexOf("Gecko")||-1!=Q().toLowerCase().indexOf("webkit")&&-1==Q().indexOf("Edge")||-1!=Q().indexOf("Trident")||-1!=Q().indexOf("MSIE")||-1!=Q().indexOf("Edge"));function Ne(f,y,b){for(const R in f)y.call(b,f[R],R,f)}function P(f){const y={};for(const b in f)y[b]=f[b];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(f,y){let b,R;for(let ie=1;ie<arguments.length;ie++){for(b in R=arguments[ie],R)f[b]=R[b];for(let fe=0;fe<k.length;fe++)b=k[fe],Object.prototype.hasOwnProperty.call(R,b)&&(f[b]=R[b])}}function Y(f){var y=1;f=f.split(":");const b=[];for(;0<y&&f.length;)b.push(f.shift()),y--;return f.length&&b.push(f.join(":")),b}function ne(f){a.setTimeout(()=>{throw f},0)}function V(){var f=Ht;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var is=new class B{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new Xe,f=>f.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let st,vt=!1,Ht=new class ni{constructor(){this.h=this.g=null}add(y,b){const R=is.get();R.set(y,b),this.h?this.h.next=R:this.g=R,this.h=R}},pr=()=>{const f=a.Promise.resolve(void 0);st=()=>{f.then(ss)}};var ss=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(b){ne(b)}var y=is;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}vt=!1};function tr(){this.s=this.s,this.C=this.C}function Gn(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Gn.prototype.h=function(){this.defaultPrevented=!0};var On=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};a.addEventListener("test",b,y),a.removeEventListener("test",b,y)}catch{}return f}();function Hi(f,y){if(Gn.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ye){e:{try{X(y.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(y=null)}}else"mouseover"==b?y=f.fromElement:"mouseout"==b&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=void 0!==R.clientX?R.clientX:R.pageX,this.clientY=void 0!==R.clientY?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:gl[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Hi.aa.h.call(this)}}I(Hi,Gn);var gl={2:"touch",3:"pen",4:"mouse"};Hi.prototype.h=function(){Hi.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ar="closure_listenable_"+(1e6*Math.random()|0),zi=0;function Ci(f,y,b,R,ie){this.listener=f,this.proxy=null,this.src=y,this.type=b,this.capture=!!R,this.ha=ie,this.key=++zi,this.da=this.fa=!1}function Ko(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function To(f){this.src=f,this.g={},this.h=0}function l_(f,y){var b=y.type;if(b in f.g){var fe,R=f.g[b],ie=Array.prototype.indexOf.call(R,y,void 0);(fe=0<=ie)&&Array.prototype.splice.call(R,ie,1),fe&&(Ko(y),0==f.g[b].length&&(delete f.g[b],f.h--))}}function Cf(f,y,b,R){for(var ie=0;ie<f.length;++ie){var fe=f[ie];if(!fe.da&&fe.listener==y&&fe.capture==!!b&&fe.ha==R)return ie}return-1}To.prototype.add=function(f,y,b,R,ie){var fe=f.toString();(f=this.g[fe])||(f=this.g[fe]=[],this.h++);var Ye=Cf(f,y,R,ie);return-1<Ye?(y=f[Ye],b||(y.fa=!1)):((y=new Ci(y,this.src,fe,!!R,ie)).fa=b,f.push(y)),y};var c_="closure_lm_"+(1e6*Math.random()|0),u_={};function d_(f,y,b,R,ie){if(R&&R.once)return OE(f,y,b,R,ie);if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)d_(f,y[fe],b,R,ie);return null}return b=Sf(b),f&&f[ar]?f.K(y,b,c(R)?!!R.capture:!!R,ie):h_(f,y,b,!1,R,ie)}function h_(f,y,b,R,ie,fe){if(!y)throw Error("Invalid event type");var Ye=c(ie)?!!ie.capture:!!ie,lr=zu(f);if(lr||(f[c_]=lr=new To(f)),(b=lr.add(y,b,R,Ye,fe)).proxy)return b;if(R=function uR(){const y=xE;return function f(b){return y.call(f.src,f.listener,b)}}(),b.proxy=R,R.src=f,R.listener=b,f.addEventListener)On||(ie=Ye),void 0===ie&&(ie=!1),f.addEventListener(y.toString(),R,ie);else if(f.attachEvent)f.attachEvent(f_(y.toString()),R);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(R)}return b}function OE(f,y,b,R,ie){if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)OE(f,y[fe],b,R,ie);return null}return b=Sf(b),f&&f[ar]?f.L(y,b,c(R)?!!R.capture:!!R,ie):h_(f,y,b,!0,R,ie)}function Sa(f,y,b,R,ie){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)Sa(f,y[fe],b,R,ie);else R=c(R)?!!R.capture:!!R,b=Sf(b),f&&f[ar]?(f=f.i,(y=String(y).toString())in f.g&&-1<(b=Cf(fe=f.g[y],b,R,ie))&&(Ko(fe[b]),Array.prototype.splice.call(fe,b,1),0==fe.length&&(delete f.g[y],f.h--))):f&&(f=zu(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Cf(y,b,R,ie)),(b=-1<f?y[f]:null)&&dc(b))}function dc(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[ar])l_(y.i,f);else{var b=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(b,R,f.capture):y.detachEvent?y.detachEvent(f_(b),R):y.addListener&&y.removeListener&&y.removeListener(R),(b=zu(y))?(l_(b,f),0==b.h&&(b.src=null,y[c_]=null)):Ko(f)}}}function f_(f){return f in u_?u_[f]:u_[f]="on"+f}function xE(f,y){if(f.da)f=!0;else{y=new Hi(y,this);var b=f.listener,R=f.ha||f.src;f.fa&&dc(f),f=b.call(R,y)}return f}function zu(f){return(f=f[c_])instanceof To?f:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sf(f){return"function"==typeof f?f:(f[Af]||(f[Af]=function(y){return f.handleEvent(y)}),f[Af])}function pi(){tr.call(this),this.i=new To(this),this.M=this,this.F=null}function Ai(f,y){var b,R=f.F;if(R)for(b=[];R;R=R.F)b.push(R);if(f=f.M,R=y.type||y,"string"==typeof y)y=new Gn(y,f);else if(y instanceof Gn)y.target=y.target||f;else{var ie=y;$(y=new Gn(R,f),ie)}if(ie=!0,b)for(var fe=b.length-1;0<=fe;fe--){var Ye=y.g=b[fe];ie=kE(Ye,R,!0,y)&&ie}if(ie=kE(Ye=y.g=f,R,!0,y)&&ie,ie=kE(Ye,R,!1,y)&&ie,b)for(fe=0;fe<b.length;fe++)ie=kE(Ye=y.g=b[fe],R,!1,y)&&ie}function kE(f,y,b,R){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var ie=!0,fe=0;fe<y.length;++fe){var Ye=y[fe];if(Ye&&!Ye.da&&Ye.capture==b){var lr=Ye.listener,Gi=Ye.ha||Ye.src;Ye.fa&&l_(f.i,Ye),ie=!1!==lr.call(Gi,R)&&ie}}return ie&&!R.defaultPrevented}function P3(f,y,b){if("function"==typeof f)b&&(f=_(f,b));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=_(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function M3(f){f.g=P3(()=>{f.g=null,f.i&&(f.i=!1,M3(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}I(pi,tr),pi.prototype[ar]=!0,pi.prototype.removeEventListener=function(f,y,b,R){Sa(this,f,y,b,R)},pi.prototype.N=function(){if(pi.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var b=f.g[y],R=0;R<b.length;R++)Ko(b[R]);delete f.g[y],f.h--}}this.F=null},pi.prototype.K=function(f,y,b,R){return this.i.add(String(f),y,!1,b,R)},pi.prototype.L=function(f,y,b,R){return this.i.add(String(f),y,!0,b,R)};class Whe extends tr{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:M3(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function p_(f){tr.call(this),this.h=f,this.g={}}I(p_,tr);var O3=[];function x3(f){Ne(f.g,function(y,b){this.g.hasOwnProperty(b)&&dc(y)},f),f.g={}}p_.prototype.N=function(){p_.aa.N.call(this),x3(this)},p_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dR=a.JSON.stringify,qhe=a.JSON.parse,Khe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function hR(){}function F3(){}hR.prototype.h=null;var g_={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fR(){Gn.call(this,"d")}function pR(){Gn.call(this,"c")}I(fR,Gn),I(pR,Gn);var Gu={},V3=null;function FE(){return V3=V3||new pi}function L3(f){Gn.call(this,Gu.La,f)}function m_(f){const y=FE();Ai(y,new L3(y))}function B3(f,y){Gn.call(this,Gu.STAT_EVENT,f),this.stat=y}function Es(f){const y=FE();Ai(y,new B3(y,f))}function U3(f,y){Gn.call(this,Gu.Ma,f),this.size=y}function __(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function y_(){this.g=!0}function Rf(f,y,b,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function Zhe(f,y){if(!f.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b)for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var R=b[f];if(!(2>R.length)){var ie=R[1];if(Array.isArray(ie)&&!(1>ie.length)){var fe=ie[0];if("noop"!=fe&&"stop"!=fe&&"close"!=fe)for(var Ye=1;Ye<ie.length;Ye++)ie[Ye]=""}}}return dR(b)}catch{return y}}(f,b)+(R?" "+R:"")})}Gu.La="serverreachability",I(L3,Gn),Gu.STAT_EVENT="statevent",I(B3,Gn),Gu.Ma="timingevent",I(U3,Gn),y_.prototype.xa=function(){this.g=!1},y_.prototype.info=function(){};var gR,VE={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},j3={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function LE(){}function hc(f,y,b,R){this.j=f,this.i=y,this.l=b,this.R=R||1,this.U=new p_(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $3}function $3(){this.i=null,this.g="",this.h=!1}I(LE,hR),LE.prototype.g=function(){return new XMLHttpRequest},LE.prototype.i=function(){return{}},gR=new LE;var H3={},mR={};function _R(f,y,b){f.L=1,f.v=$E(ml(y)),f.m=b,f.P=!0,z3(f,null)}function z3(f,y){f.F=Date.now(),BE(f),f.A=ml(f.v);var b=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),i4(b.i,"t",R),f.C=0,b=f.j.J,f.h=new $3,f.g=w4(f.j,b?y:null,!f.m),0<f.O&&(f.M=new Whe(_(f.Y,f,f.g),f.O)),y=f.U,b=f.g,R=f.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(O3[0]=ie.toString()),ie=O3);for(var fe=0;fe<ie.length;fe++){var Ye=d_(b,ie[fe],R||y.handleEvent,!1,y.h||y);if(!Ye)break;y.g[Ye.key]=Ye}y=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),m_(),function Qhe(f,y,b,R,ie,fe){f.info(function(){if(f.g)if(fe)for(var Ye="",lr=fe.split("&"),Gi=0;Gi<lr.length;Gi++){var xn=lr[Gi].split("=");if(1<xn.length){var os=xn[0];xn=xn[1];var as=os.split("_");Ye=2<=as.length&&"type"==as[1]?Ye+(os+"=")+xn+"&":Ye+(os+"=redacted&")}}else Ye=null;else Ye=fe;return"XMLHTTP REQ ("+R+") [attempt "+ie+"]: "+y+"\n"+b+"\n"+Ye})}(f.i,f.u,f.A,f.l,f.R,f.m)}function G3(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Xhe(f,y){var b=f.C,R=y.indexOf("\n",b);return-1==R?mR:(b=Number(y.substring(b,R)),isNaN(b)?H3:(R+=1)+b>y.length?mR:(y=y.slice(R,R+b),f.C=R+b,y))}function BE(f){f.S=Date.now()+f.I,W3(f,f.I)}function W3(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=__(_(f.ba,f),y)}function yR(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function v_(f){0==f.j.G||f.J||y4(f.j,f)}function Wu(f){yR(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,x3(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function vR(f,y){try{var b=f.j;if(0!=b.G&&(b.g==f||bR(b.h,f)))if(!f.K&&bR(b.h,f)&&3==b.G){try{var R=b.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&3==R.length){var ie=R;if(0==ie[0]){e:if(!b.u){if(b.g){if(!(b.g.F+3e3<f.F))break e;qE(b),GE(b)}IR(b),Es(18)}}else b.za=ie[1],0<b.za-b.T&&37500>ie[2]&&b.F&&0==b.v&&!b.C&&(b.C=__(_(b.Za,b),6e3));if(1>=Q3(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Ku(b,11)}else if((f.K||b.g==f)&&qE(b),!x(y))for(ie=b.Da.g.parse(y),y=0;y<ie.length;y++){let xn=ie[y];if(b.T=xn[0],xn=xn[1],2==b.G)if("c"==xn[0]){b.K=xn[1],b.ia=xn[2];const os=xn[3];null!=os&&(b.la=os,b.j.info("VER="+b.la));const as=xn[4];null!=as&&(b.Aa=as,b.j.info("SVER="+b.Aa));const Mf=xn[5];null!=Mf&&"number"==typeof Mf&&0<Mf&&(b.L=R=1.5*Mf,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Qo=f.g;if(Qo){const QE=Qo.g?Qo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(QE){var fe=R.h;fe.g||-1==QE.indexOf("spdy")&&-1==QE.indexOf("quic")&&-1==QE.indexOf("h2")||(fe.j=fe.l,fe.g=new Set,fe.h&&(ER(fe,fe.h),fe.h=null))}if(R.D){const CR=Qo.g?Qo.g.getResponseHeader("X-HTTP-Session-Id"):null;CR&&(R.ya=CR,wr(R.I,R.D,CR))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms"));var Ye=f;if((R=b).qa=E4(R,R.J?R.ia:null,R.W),Ye.K){Y3(R.h,Ye);var lr=Ye,Gi=R.L;Gi&&(lr.I=Gi),lr.B&&(yR(lr),BE(lr)),R.g=Ye}else m4(R);0<b.i.length&&WE(b)}else"stop"!=xn[0]&&"close"!=xn[0]||Ku(b,7);else 3==b.G&&("stop"==xn[0]||"close"==xn[0]?"stop"==xn[0]?Ku(b,7):TR(b):"noop"!=xn[0]&&b.l&&b.l.ta(xn),b.v=0)}m_()}catch{}}function q3(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function K3(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Q3(f){return f.h?1:f.g?f.g.size:0}function bR(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function ER(f,y){f.g?f.g.add(y):f.h=y}function Y3(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function J3(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const b of f.g.values())y=y.concat(b.D);return y}return A(f.i)}function Z3(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var b=function nfe(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var y=[];f=f.length;for(var b=0;b<f;b++)y.push(b);return y}y=[],b=0;for(const R in f)y[b++]=R;return y}}}(f),R=function tfe(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var y=[],b=f.length,R=0;R<b;R++)y.push(f[R]);return y}for(R in y=[],b=0,f)y[b++]=f[R];return y}(f),ie=R.length,fe=0;fe<ie;fe++)y.call(void 0,R[fe],b&&b[fe],f)}hc.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==_l(f)?y.j():this.Y(f)},hc.prototype.Y=function(f){try{if(f==this.g)e:{const as=_l(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>as)&&(3!=as||this.g&&(this.h.h||this.g.oa()||d4(this.g)))){this.J||4!=as||7==y||m_(),yR(this);var b=this.g.Z();this.X=b;t:if(G3(this)){var R=d4(this.g);f="";var ie=R.length,fe=4==_l(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wu(this),v_(this);var Ye="";break t}this.h.i=new a.TextDecoder}for(y=0;y<ie;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(fe&&y==ie-1)});R.length=0,this.h.g+=f,this.C=0,Ye=this.h.g}else Ye=this.g.oa();if(this.o=200==b,function Yhe(f,y,b,R,ie,fe,Ye){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+ie+"]: "+y+"\n"+b+"\n"+fe+" "+Ye})}(this.i,this.u,this.A,this.l,this.R,as,b),this.o){if(this.T&&!this.K){t:{if(this.g){var lr,Gi=this.g;if((lr=Gi.g?Gi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(lr)){var xn=lr;break t}}xn=null}if(!(b=xn)){this.o=!1,this.s=3,Es(12),Wu(this),v_(this);break e}Rf(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vR(this,b)}if(this.P){let Qo;for(b=!0;!this.J&&this.C<Ye.length;){if(Qo=Xhe(this,Ye),Qo==mR){4==as&&(this.s=4,Es(14),b=!1),Rf(this.i,this.l,null,"[Incomplete Response]");break}if(Qo==H3){this.s=4,Es(15),Rf(this.i,this.l,Ye,"[Invalid Chunk]"),b=!1;break}Rf(this.i,this.l,Qo,null),vR(this,Qo)}if(G3(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=as||0!=Ye.length||this.h.h||(this.s=1,Es(16),b=!1),this.o=this.o&&b,b){if(0<Ye.length&&!this.W){this.W=!0;var os=this.j;os.g==this&&os.ba&&!os.M&&(os.j.info("Great, no buffering proxy detected. Bytes received: "+Ye.length),DR(os),os.M=!0,Es(11))}}else Rf(this.i,this.l,Ye,"[Invalid Chunked Response]"),Wu(this),v_(this)}else Rf(this.i,this.l,Ye,null),vR(this,Ye);4==as&&Wu(this),this.o&&!this.J&&(4==as?y4(this.j,this):(this.o=!1,BE(this)))}else(function mfe(f){const y={};f=(f.g&&2<=_l(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let R=0;R<f.length;R++){if(x(f[R]))continue;var b=Y(f[R]);const ie=b[0];if("string"!=typeof(b=b[1]))continue;b=b.trim();const fe=y[ie]||[];y[ie]=fe,fe.push(b)}!function F(f,y){for(const b in f)y.call(void 0,f[b],b,f)}(y,function(R){return R.join(", ")})})(this.g),400==b&&0<Ye.indexOf("Unknown SID")?(this.s=3,Es(12)):(this.s=0,Es(13)),Wu(this),v_(this)}}}catch{}},hc.prototype.cancel=function(){this.J=!0,Wu(this)},hc.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Jhe(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(m_(),Es(17)),Wu(this),this.s=2,v_(this)):W3(this,this.S-f)},q3.prototype.cancel=function(){if(this.i=J3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var X3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qu(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qu){this.h=f.h,UE(this,f.j),this.o=f.o,this.g=f.g,jE(this,f.s),this.l=f.l;var y=f.i,b=new w_;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),e4(this,b),this.m=f.m}else f&&(y=String(f).match(X3))?(this.h=!1,UE(this,y[1]||"",!0),this.o=b_(y[2]||""),this.g=b_(y[3]||"",!0),jE(this,y[4]),this.l=b_(y[5]||"",!0),e4(this,y[6]||"",!0),this.m=b_(y[7]||"")):(this.h=!1,this.i=new w_(null,this.h))}function ml(f){return new qu(f)}function UE(f,y,b){f.j=b?b_(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function jE(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function e4(f,y,b){y instanceof w_?(f.i=y,function cfe(f,y){y&&!f.j&&(fc(f),f.i=null,f.g.forEach(function(b,R){var ie=R.toLowerCase();R!=ie&&(n4(this,R),i4(this,ie,b))},f)),f.j=y}(f.i,f.h)):(b||(y=E_(y,afe)),f.i=new w_(y,f.h))}function wr(f,y,b){f.i.set(y,b)}function $E(f){return wr(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function b_(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function E_(f,y,b){return"string"==typeof f?(f=encodeURI(f).replace(y,ife),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ife(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}qu.prototype.toString=function(){var f=[],y=this.j;y&&f.push(E_(y,t4,!0),":");var b=this.g;return(b||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(E_(y,t4,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(b=this.s)&&f.push(":",String(b))),(b=this.l)&&(this.g&&"/"!=b.charAt(0)&&f.push("/"),f.push(E_(b,"/"==b.charAt(0)?ofe:sfe,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",E_(b,lfe)),f.join("")};var f,t4=/[#\/\?@]/g,sfe=/[#\?:]/g,ofe=/[#\?]/g,afe=/[#\?@]/g,lfe=/#/g;function w_(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function fc(f){f.g||(f.g=new Map,f.h=0,f.i&&function rfe(f,y){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var R=f[b].indexOf("="),ie=null;if(0<=R){var fe=f[b].substring(0,R);ie=f[b].substring(R+1)}else fe=f[b];y(fe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}(f.i,function(y,b){f.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}function n4(f,y){fc(f),y=Nf(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function r4(f,y){return fc(f),y=Nf(f,y),f.g.has(y)}function i4(f,y,b){n4(f,y),0<b.length&&(f.i=null,f.g.set(Nf(f,y),A(b)),f.h+=b.length)}function Nf(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function pc(f,y,b,R,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),R(b)}catch{}}function hfe(){this.g=new Khe}function ffe(f,y,b){const R=b||"";try{Z3(f,function(ie,fe){let Ye=ie;c(ie)&&(Ye=dR(ie)),y.push(R+fe+"="+encodeURIComponent(Ye))})}catch(ie){throw y.push(R+"type="+encodeURIComponent("_badmap")),ie}}function T_(f){this.l=f.Ub||null,this.j=f.eb||!1}function HE(f,y){pi.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function s4(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function I_(f){f.readyState=4,f.l=null,f.j=null,f.v=null,D_(f)}function D_(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function o4(f){let y="";return Ne(f,function(b,R){y+=R,y+=":",y+=b,y+="\r\n"}),y}function wR(f,y,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=o4(b),"string"==typeof f?null!=b&&encodeURIComponent(String(b)):wr(f,y,b))}function Hr(f){pi.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=w_.prototype).add=function(f,y){fc(this),this.i=null,f=Nf(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(y),this.h+=1,this},n.forEach=function(f,y){fc(this),this.g.forEach(function(b,R){b.forEach(function(ie){f.call(y,ie,R,this)},this)},this)},n.na=function(){fc(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let R=0;R<y.length;R++){const ie=f[R];for(let fe=0;fe<ie.length;fe++)b.push(y[R])}return b},n.V=function(f){fc(this);let y=[];if("string"==typeof f)r4(this,f)&&(y=y.concat(this.g.get(Nf(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)y=y.concat(f[b])}return y},n.set=function(f,y){return fc(this),this.i=null,r4(this,f=Nf(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var R=y[b];const fe=encodeURIComponent(String(R)),Ye=this.V(R);for(R=0;R<Ye.length;R++){var ie=fe;""!==Ye[R]&&(ie+="="+encodeURIComponent(String(Ye[R]))),f.push(ie)}}return this.i=f.join("&")},I(T_,hR),T_.prototype.g=function(){return new HE(this.l,this.j)},T_.prototype.i=(f={},function(){return f}),I(HE,pi),(n=HE.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,D_(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,I_(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,D_(this)),this.g&&(this.readyState=3,D_(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s4(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?I_(this):D_(this),3==this.readyState&&s4(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,I_(this))},n.Qa=function(f){this.g&&(this.response=f,I_(this))},n.ga=function(){this.g&&I_(this)},n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var b=y.next();!b.done;)f.push((b=b.value)[0]+": "+b[1]),b=y.next();return f.join("\r\n")},Object.defineProperty(HE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),I(Hr,pi);var pfe=/^https?$/i,gfe=["POST","PUT"];function a4(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,l4(f),zE(f)}function l4(f){f.A||(f.A=!0,Ai(f,"complete"),Ai(f,"error"))}function c4(f){if(f.h&&typeof o<"u"&&(!f.v[1]||4!=_l(f)||2!=f.Z()))if(f.u&&4==_l(f))P3(f.Ea,0,f);else if(Ai(f,"readystatechange"),4==_l(f)){f.h=!1;try{const Ye=f.Z();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var R;if(R=0===Ye){var ie=String(f.D).match(X3)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),R=!pfe.test(ie?ie.toLowerCase():"")}b=R}if(b)Ai(f,"complete"),Ai(f,"success");else{f.m=6;try{var fe=2<_l(f)?f.g.statusText:""}catch{fe=""}f.l=fe+" ["+f.Z()+"]",l4(f)}}finally{zE(f)}}}function zE(f,y){if(f.g){u4(f);const b=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Ai(f,"ready");try{b.onreadystatechange=R}catch{}}}function u4(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function _l(f){return f.g?f.g.readyState:0}function d4(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function C_(f,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||y}function h4(f){this.Aa=0,this.i=[],this.j=new y_,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=C_("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=C_("baseRetryDelayMs",5e3,f),this.cb=C_("retryDelaySeedMs",1e4,f),this.Wa=C_("forwardChannelMaxRetries",2,f),this.wa=C_("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new q3(f&&f.concurrentRequestLimit),this.Da=new hfe,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function TR(f){if(f4(f),3==f.G){var y=f.U++,b=ml(f.I);if(wr(b,"SID",f.K),wr(b,"RID",y),wr(b,"TYPE","terminate"),A_(f,b),(y=new hc(f,f.j,y)).L=2,y.v=$E(ml(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&a.Image&&((new Image).src=y.v,b=!0),b||(y.g=w4(y.j,null),y.g.ea(y.v)),y.F=Date.now(),BE(y)}b4(f)}function GE(f){f.g&&(DR(f),f.g.cancel(),f.g=null)}function f4(f){GE(f),f.u&&(a.clearTimeout(f.u),f.u=null),qE(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function WE(f){if(!K3(f.h)&&!f.s){f.s=!0;var y=f.Ga;st||pr(),vt||(st(),vt=!0),Ht.add(y,f),f.B=0}}function p4(f,y){var b;b=y?y.l:f.U++;const R=ml(f.I);wr(R,"SID",f.K),wr(R,"RID",b),wr(R,"AID",f.T),A_(f,R),f.m&&f.o&&wR(R,f.m,f.o),b=new hc(f,f.j,b,f.B+1),null===f.m&&(b.H=f.o),y&&(f.i=y.D.concat(f.i)),y=g4(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ER(f.h,b),_R(b,R,y)}function A_(f,y){f.H&&Ne(f.H,function(b,R){wr(y,R,b)}),f.l&&Z3({},function(b,R){wr(y,R,b)})}function g4(f,y,b){b=Math.min(f.i.length,b);var R=f.l?_(f.l.Na,f.l,f):null;e:{var ie=f.i;let fe=-1;for(;;){const Ye=["count="+b];-1==fe?0<b?(fe=ie[0].g,Ye.push("ofs="+fe)):fe=0:Ye.push("ofs="+fe);let lr=!0;for(let Gi=0;Gi<b;Gi++){let xn=ie[Gi].g;const os=ie[Gi].map;if(xn-=fe,0>xn)fe=Math.max(0,ie[Gi].g-100),lr=!1;else try{ffe(os,Ye,"req"+xn+"_")}catch{R&&R(os)}}if(lr){R=Ye.join("&");break e}}}return f=f.i.splice(0,b),y.D=f,R}function m4(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;st||pr(),vt||(st(),vt=!0),Ht.add(y,f),f.v=0}}function IR(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=__(_(f.Fa,f),v4(f,f.v)),f.v++,0))}function DR(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function _4(f){f.g=new hc(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=ml(f.qa);wr(y,"RID","rpc"),wr(y,"SID",f.K),wr(y,"AID",f.T),wr(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&wr(y,"TO",f.ja),wr(y,"TYPE","xmlhttp"),A_(f,y),f.m&&f.o&&wR(y,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=$E(ml(y)),b.m=null,b.P=!0,z3(b,f)}function qE(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function y4(f,y){var b=null;if(f.g==y){qE(f),DR(f),f.g=null;var R=2}else{if(!bR(f.h,y))return;b=y.D,Y3(f.h,y),R=1}if(0!=f.G)if(y.o)if(1==R){b=y.m?y.m.length:0,y=Date.now()-y.F;var ie=f.B;Ai(R=FE(),new U3(R,b)),WE(f)}else m4(f);else if(3==(ie=y.s)||0==ie&&0<y.X||!(1==R&&function _fe(f,y){return!(Q3(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=__(_(f.Ga,f,y),v4(f,f.B)),f.B++,0)))}(f,y)||2==R&&IR(f)))switch(b&&0<b.length&&(y=f.h,y.i=y.i.concat(b)),ie){case 1:Ku(f,5);break;case 4:Ku(f,10);break;case 3:Ku(f,6);break;default:Ku(f,2)}}function v4(f,y){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*y}function Ku(f,y){if(f.j.info("Error code "+y),2==y){var b=_(f.fb,f),R=f.Xa;const ie=!R;R=new qu(R||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||UE(R,"https"),$E(R),ie?function ufe(f,y){const b=new y_;if(a.Image){const R=new Image;R.onload=v(pc,b,"TestLoadImage: loaded",!0,y,R),R.onerror=v(pc,b,"TestLoadImage: error",!1,y,R),R.onabort=v(pc,b,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(pc,b,"TestLoadImage: timeout",!1,y,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}(R.toString(),b):function dfe(f,y){new y_;const R=new AbortController,ie=setTimeout(()=>{R.abort(),pc(0,0,!1,y)},1e4);fetch(f,{signal:R.signal}).then(fe=>{clearTimeout(ie),pc(0,0,!!fe.ok,y)}).catch(()=>{clearTimeout(ie),pc(0,0,!1,y)})}(R.toString(),b)}else Es(2);f.G=0,f.l&&f.l.sa(y),b4(f),f4(f)}function b4(f){if(f.G=0,f.ka=[],f.l){const y=J3(f.h);(0!=y.length||0!=f.i.length)&&(S(f.ka,y),S(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function E4(f,y,b){var R=b instanceof qu?ml(b):new qu(b);if(""!=R.g)y&&(R.g=y+"."+R.g),jE(R,R.s);else{var ie=a.location;R=ie.protocol,y=y?y+"."+ie.hostname:ie.hostname,ie=+ie.port;var fe=new qu(null);R&&UE(fe,R),y&&(fe.g=y),ie&&jE(fe,ie),b&&(fe.l=b),R=fe}return y=f.ya,(b=f.D)&&y&&wr(R,b,y),wr(R,"VER",f.la),A_(f,R),R}function w4(f,y,b){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Hr(f.Ca&&!f.pa?new T_({eb:b}):f.pa)).Ha(f.J),y}function T4(){}function KE(){}function Xs(f,y){pi.call(this),this.g=new h4(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!x(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new Pf(this)}function I4(f){fR.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const b in y){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function D4(){pR.call(this),this.status=1}function Pf(f){this.g=f}(n=Hr.prototype).Ha=function(f){this.J=f},n.ea=function(f,y,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gR.g(),this.v=function k3(f){return f.h||(f.h=f.i())}(this.o?this.o:gR),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(fe){return void a4(this,fe)}if(f=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var ie in R)b.set(ie,R[ie]);else{if("function"!=typeof R.keys||"function"!=typeof R.get)throw Error("Unknown input type for opt_headers: "+String(R));for(const fe of R.keys())b.set(fe,R.get(fe))}R=Array.from(b.keys()).find(fe=>"content-type"==fe.toLowerCase()),ie=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gfe,y,void 0))||R||ie||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ye]of b)this.g.setRequestHeader(fe,Ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{u4(this),this.u=!0,this.g.send(f),this.u=!1}catch(fe){a4(this,fe)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ai(this,"complete"),Ai(this,"abort"),zE(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zE(this,!0)),Hr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?c4(this):this.bb())},n.bb=function(){c4(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<_l(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),qhe(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=h4.prototype).la=8,n.G=1,n.connect=function(f,y,b,R){Es(0),this.W=f,this.H=y||{},b&&void 0!==R&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=E4(this,null,this.W),WE(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ie=new hc(this,this.j,f);let fe=this.o;if(this.S&&(fe?(fe=P(fe),$(fe,this.S)):fe=this.S),null!==this.m||this.O||(ie.H=fe,fe=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){var R=this.i[b];if(void 0===(R="__data__"in R.map&&"string"==typeof(R=R.map.__data__)?R.length:void 0))break;if(4096<(y+=R)){y=b;break e}if(4096===y||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=g4(this,ie,y),wr(b=ml(this.I),"RID",f),wr(b,"CVER",22),this.D&&wr(b,"X-HTTP-Session-Id",this.D),A_(this,b),fe&&(this.O?y="headers="+encodeURIComponent(String(o4(fe)))+"&"+y:this.m&&wR(b,this.m,fe)),ER(this.h,ie),this.Ua&&wr(b,"TYPE","init"),this.P?(wr(b,"$req",y),wr(b,"SID","null"),ie.T=!0,_R(ie,b,null)):_R(ie,b,y),this.G=2}}else 3==this.G&&(f?p4(this,f):0==this.i.length||K3(this.h)||p4(this))},n.Fa=function(){if(this.u=null,_4(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=__(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Es(10),GE(this),_4(this))},n.Za=function(){null!=this.C&&(this.C=null,GE(this),IR(this),Es(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Es(2)):(this.j.info("Failed to ping google.com"),Es(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=T4.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},KE.prototype.g=function(f,y){return new Xs(f,y)},I(Xs,pi),Xs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xs.prototype.close=function(){TR(this.g)},Xs.prototype.o=function(f){var y=this.g;if("string"==typeof f){var b={};b.__data__=f,f=b}else this.u&&((b={}).__data__=dR(f),f=b);y.i.push(new class{constructor(f,y){this.g=f,this.map=y}}(y.Ya++,f)),3==y.G&&WE(y)},Xs.prototype.N=function(){this.g.l=null,delete this.j,TR(this.g),delete this.g,Xs.aa.N.call(this)},I(I4,fR),I(D4,pR),I(Pf,T4),Pf.prototype.ua=function(){Ai(this.g,"a")},Pf.prototype.ta=function(f){Ai(this.g,new I4(f))},Pf.prototype.sa=function(f){Ai(this.g,new D4)},Pf.prototype.ra=function(){Ai(this.g,"b")},KE.prototype.createWebChannel=KE.prototype.g,Xs.prototype.send=Xs.prototype.o,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,kV=nl.createWebChannelTransport=function(){return new KE},xV=nl.getStatEventTarget=function(){return FE()},OV=nl.Event=Gu,eD=nl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},VE.NO_ERROR=0,VE.TIMEOUT=8,VE.HTTP_ERROR=6,N0=nl.ErrorCode=VE,j3.COMPLETE="complete",MV=nl.EventType=j3,F3.EventType=g_,g_.OPEN="a",g_.CLOSE="b",g_.ERROR="c",g_.MESSAGE="d",pi.prototype.listen=pi.prototype.K,Kg=nl.WebChannel=F3,nl.FetchXmlHttpFactory=T_,Hr.prototype.listenOnce=Hr.prototype.L,Hr.prototype.getLastError=Hr.prototype.Ka,Hr.prototype.getLastErrorCode=Hr.prototype.Ba,Hr.prototype.getStatus=Hr.prototype.Z,Hr.prototype.getResponseJson=Hr.prototype.Oa,Hr.prototype.getResponseText=Hr.prototype.oa,Hr.prototype.send=Hr.prototype.ea,Hr.prototype.setWithCredentials=Hr.prototype.Ha,PV=nl.XhrIo=Hr}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});const FV="@firebase/firestore";class Ti{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let Eh="10.14.0";const jl=new ga.Vy("@firebase/firestore");function wh(){return jl.logLevel}function Se(n,...t){if(jl.logLevel<=ga.$b.DEBUG){const e=t.map(tD);jl.debug(`Firestore (${Eh}): ${n}`,...e)}}function qr(n,...t){if(jl.logLevel<=ga.$b.ERROR){const e=t.map(tD);jl.error(`Firestore (${Eh}): ${n}`,...e)}}function yo(n,...t){if(jl.logLevel<=ga.$b.WARN){const e=t.map(tD);jl.warn(`Firestore (${Eh}): ${n}`,...e)}}function tD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const t=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw qr(t),new Error(t)}function ht(n,t){n||lt()}function We(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Kn.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class VV{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ti.UNAUTHENTICATED))}shutdown(){}}class sZ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class oZ{constructor(t){this.t=t,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;ht(void 0===this.o);let i=this.i;const s=c=>this.i!==i?(i=this.i,e(c)):Promise.resolve();let o=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ii,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable((0,Ie.A)(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ii)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht("string"==typeof r.accessToken),new VV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(null===t||"string"==typeof t),new Ti(t)}}class aZ{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lZ{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new aZ(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cZ{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){ht(void 0===this.o);const r=s=>{null!=s.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ht("string"==typeof e.token),this.R=e.token,new LV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uZ(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class BV{static newId(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=uZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ft(n,t){return n<t?-1:n>t?1:0}function Th(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}class Vr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Vr.fromMillis(Date.now())}static fromDate(t){return Vr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Vr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Vr(0,0))}static max(){return new bt(new Vr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qg{constructor(t,e,r){void 0===e?e=0:e>t.length&&lt(),void 0===r?r=t.length-e:r>t.length-e&&lt(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===Qg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qg?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=t.get(i),o=e.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bn extends Qg{construct(t,e,r){return new bn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new bn(e)}static emptyPath(){return new bn([])}}const dZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends Qg{construct(t,e,r){return new Ar(t,e,r)}static isValidIdentifier(t){return dZ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(0===r.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if("\\"===a){if(i+1===t.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ar(e)}static emptyPath(){return new Ar([])}}class Ze{constructor(t){this.path=t}static fromPath(t){return new Ze(bn.fromString(t))}static fromName(t){return new Ze(bn.fromString(t).popFirst(5))}static empty(){return new Ze(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ze(new bn(t.slice()))}}class Ws{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Ws(bt.min(),Ze.empty(),-1)}static max(){return new Ws(bt.max(),Ze.empty(),-1)}}function rD(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ze.comparator(n.documentKey,t.documentKey),0!==e?e:Ft(n.largestBatchId,t.largestBatchId))}const HV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function $l(n){return iD.apply(this,arguments)}function iD(){return(iD=(0,Ie.A)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==HV)throw n;Se("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof se?e:se.resolve(e)}catch(e){return se.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):se.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):se.reject(e)}static resolve(t){return new se((e,r)=>{e(t)})}static reject(t){return new se((e,r)=>{r(t)})}static waitFor(t){return new se((e,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&e()},l=>r(l))}),o=!0,s===i&&e()})}static or(t){let e=se.resolve(!1);for(const r of t)e=e.next(i=>i?se.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new se((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(t,e){return new se((r,i)=>{const s=()=>{!0===t()?e().next(()=>{s()},i):r()};s()})}}function Hl(n){return"IndexedDbTransactionError"===n.name}let qs=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Jg(n){return null==n}function Zg(n){return 0===n&&1/n==-1/0}function eL(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function zl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function nL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class fr{constructor(t,e){this.comparator=t,this.root=e||Fi.EMPTY}insert(t,e){return new fr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(t){return new fr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new O0(this.root,t,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new O0(this.root,t,this.comparator,!0)}}class O0{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fi{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??Fi.RED,this.left=i??Fi.EMPTY,this.right=s??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new Fi(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Fi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1,Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(t,e,r,i,s){return this}insert(t,e,r){return new Fi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(t){this.comparator=t,this.data=new fr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new rL(this.data.getIterator())}getIteratorFrom(t){return new rL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof er)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new er(this.comparator);return e.data=t,e}}class rL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ps{constructor(t){this.fields=t,t.sort(Ar.comparator)}static empty(){return new Ps([])}unionWith(t){let e=new er(Ar.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ps(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Th(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class iL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $r{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iL("Invalid base64 string: "+s):s}}(t);return new $r(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new $r(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const VZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(n){if(ht(!!n),"string"==typeof n){let t=0;const e=VZ.exec(n);if(ht(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function il(n){return"string"==typeof n?$r.fromBase64String(n):$r.fromUint8Array(n)}function x0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function k0(n){const t=n.mapValue.fields.__previous_value__;return x0(t)?k0(t):t}function Xg(n){const t=rl(n.mapValue.fields.__local_write_time__.timestampValue);return new Vr(t.seconds,t.nanos)}class LZ{constructor(t,e,r,i,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class uu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof uu&&t.projectId===this.projectId&&t.database===this.database}}const Gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?x0(n)?4:cL(n)?9007199254740991:B0(n)?10:11:lt()}function ya(n,t){if(n===t)return!0;const e=Wl(n);if(e!==Wl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xg(n).isEqual(Xg(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rl(i.timestampValue),a=rl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,il(n.bytesValue).isEqual(il(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return Sr(i.geoPointValue.latitude)===Sr(s.geoPointValue.latitude)&&Sr(i.geoPointValue.longitude)===Sr(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Sr(i.integerValue)===Sr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Sr(i.doubleValue),a=Sr(s.doubleValue);return o===a?Zg(o)===Zg(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Th(n.arrayValue.values||[],t.arrayValue.values||[],ya);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(eL(o)!==eL(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!ya(o[l],a[l])))return!1;return!0}(n,t);default:return lt()}var s}function em(n,t){return void 0!==(n.values||[]).find(e=>ya(e,t))}function ql(n,t){if(n===t)return 0;const e=Wl(n),r=Wl(t);if(e!==r)return Ft(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Sr(s.integerValue||s.doubleValue),l=Sr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return sL(n.timestampValue,t.timestampValue);case 4:return sL(Xg(n),Xg(t));case 5:return Ft(n.stringValue,t.stringValue);case 6:return function(s,o){const a=il(s),l=il(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ft(a[c],l[c]);if(0!==d)return d}return Ft(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ft(Sr(s.latitude),Sr(o.latitude));return 0!==a?a:Ft(Sr(s.longitude),Sr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return oL(n.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,c,d;const v=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,I=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,A=Ft((null===(c=v?.values)||void 0===c?void 0:c.length)||0,(null===(d=I?.values)||void 0===d?void 0:d.length)||0);return 0!==A?A:oL(v,I)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Gl.mapValue&&o===Gl.mapValue)return 0;if(s===Gl.mapValue)return 1;if(o===Gl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let g=0;g<l.length&&g<d.length;++g){const _=Ft(l[g],d[g]);if(0!==_)return _;const v=ql(a[l[g]],c[d[g]]);if(0!==v)return v}return Ft(l.length,d.length)}(n.mapValue,t.mapValue);default:throw lt()}}function sL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ft(n,t);const e=rl(n),r=rl(t),i=Ft(e.seconds,r.seconds);return 0!==i?i:Ft(e.nanos,r.nanos)}function oL(n,t){const e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){const s=ql(e[i],r[i]);if(s)return s}return Ft(e.length,r.length)}function Ah(n){return lD(n)}function lD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=rl(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?il(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(const s of e.values||[])i?i=!1:r+=",",r+=lD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lD(e.fields[o])}`;return i+"}"}(n.mapValue):lt()}function du(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function cD(n){return!!n&&"integerValue"in n}function tm(n){return!!n&&"arrayValue"in n}function aL(n){return!!n&&"nullValue"in n}function lL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function L0(n){return!!n&&"mapValue"in n}function B0(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function nm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return zl(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=nm(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nm(n.arrayValue.values[e]);return t}return Object.assign({},n)}function cL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!L0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nm(e)}setAll(t){let e=Ar.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,r,i),r={},i=[],e=a.popLast()}o?r[a.lastSegment()]=nm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());L0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ya(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];L0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){zl(e,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Vi(nm(this.value))}}function fL(n){const t=[];return zl(n.fields,(e,r)=>{const i=new Ar([e]);if(L0(r)){const s=fL(r.mapValue).fields;if(0===s.length)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Ps(t)}class Er{constructor(t,e,r,i,s,o,a){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Er(t,0,bt.min(),bt.min(),bt.min(),Vi.empty(),0)}static newFoundDocument(t,e,r,i){return new Er(t,1,e,bt.min(),r,i,0)}static newNoDocument(t,e){return new Er(t,2,e,bt.min(),bt.min(),Vi.empty(),0)}static newUnknownDocument(t,e){return new Er(t,3,e,bt.min(),bt.min(),Vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Er&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kl{constructor(t,e){this.position=t,this.inclusive=e}}function pL(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],o=n.position[i];if(r=s.field.isKeyField()?Ze.comparator(Ze.fromName(o.referenceValue),e.key):ql(o,e.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ya(n.position[e],t.position[e]))return!1;return!0}class rm{constructor(t,e="asc"){this.field=t,this.dir=e}}function jZ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class mL{}class En extends mL{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new $Z(t,e,r):"array-contains"===e?new GZ(t,r):"in"===e?new wL(t,r):"not-in"===e?new WZ(t,r):"array-contains-any"===e?new qZ(t,r):new En(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new HZ(t,r):new zZ(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ql(e,this.value)):null!==e&&Wl(this.value)===Wl(e)&&this.matchesComparison(ql(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends mL{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Qn(t,e)}matches(t){return Sh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Sh(n){return"and"===n.op}function dD(n){return function _L(n){for(const t of n.filters)if(t instanceof Qn)return!1;return!0}(n)&&Sh(n)}function hD(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Ah(n.value);if(dD(n))return n.filters.map(t=>hD(t)).join(",");{const t=n.filters.map(e=>hD(e)).join(",");return`${n.op}(${t})`}}function yL(n,t){return n instanceof En?(r=n,(i=t)instanceof En&&r.op===i.op&&r.field.isEqual(i.field)&&ya(r.value,i.value)):n instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&yL(o,i.filters[a]),!0)}(n,t):void lt();var r,i}function bL(n){return n instanceof En?`${(e=n).field.canonicalString()} ${e.op} ${Ah(e.value)}`:n instanceof Qn?function(e){return e.op.toString()+" {"+e.getFilters().map(bL).join(" ,")+"}"}(n):"Filter";var e}class $Z extends En{constructor(t,e,r){super(t,e,r),this.key=Ze.fromName(r.referenceValue)}matches(t){const e=Ze.comparator(t.key,this.key);return this.matchesComparison(e)}}class HZ extends En{constructor(t,e){super(t,"in",e),this.keys=EL(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zZ extends En{constructor(t,e){super(t,"not-in",e),this.keys=EL(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function EL(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class GZ extends En{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return tm(e)&&em(e.arrayValue,this.value)}}class wL extends En{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&em(this.value.arrayValue,e)}}class WZ extends En{constructor(t,e){super(t,"not-in",e)}matches(t){if(em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!em(this.value.arrayValue,e)}}class qZ extends En{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!tm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>em(this.value.arrayValue,r))}}class KZ{constructor(t,e=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function fD(n,t=null,e=[],r=[],i=null,s=null,o=null){return new KZ(n,t,e,r,i,s,o)}function hu(n){const t=We(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>hD(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Jg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Ah(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Ah(r)).join(",")),t.ue=e}return t.ue}function im(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!jZ(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!yL(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!gL(n.startAt,t.startAt)&&gL(n.endAt,t.endAt)}function U0(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class sl{constructor(t,e=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function Rh(n){return new sl(n)}function CL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pD(n){return null!==n.collectionGroup}function Nh(n){const t=We(n);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new er(Ar.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new rm(s,r))}),e.has(Ar.keyField().canonicalString())||t.ce.push(new rm(Ar.keyField(),r))}return t.ce}function ts(n){const t=We(n);return t.le||(t.le=SL(t,Nh(n))),t.le}function SL(n,t){if("F"===n.limitType)return fD(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>new rm(i.field,"desc"===i.dir?"asc":"desc"));const e=n.endAt?new Kl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kl(n.startAt.position,n.startAt.inclusive):null;return fD(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function gD(n,t){const e=n.filters.concat([t]);return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function $0(n,t,e){return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sm(n,t){return im(ts(n),ts(t))&&n.limitType===t.limitType}function RL(n){return`${hu(ts(n))}|lt:${n.limitType}`}function Ph(n){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>bL(i)).join(", ")}]`),Jg(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Ah(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Ah(i)).join(",")),`Target(${r})`}(ts(n))}; limitType=${n.limitType})`}function om(n,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,t)&&function(r,i){for(const s of Nh(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((r=n).startAt&&!function(o,a,l){const c=pL(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Nh(r),i)||r.endAt&&!function(o,a,l){const c=pL(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Nh(r),i)));var r,i}function PL(n){return(t,e)=>{let r=!1;for(const i of Nh(n)){const s=QZ(i,t,e);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function QZ(n,t,e){const r=n.field.isKeyField()?Ze.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?ql(l,c):lt()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}class ol{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){zl(this.inner,(e,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return nL(this.inner)}size(){return this.innerSize}}const YZ=new fr(Ze.comparator);function Ms(){return YZ}const ML=new fr(Ze.comparator);function am(...n){let t=ML;for(const e of n)t=t.insert(e.key,e);return t}function OL(n){let t=ML;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function va(){return lm()}function xL(){return lm()}function lm(){return new ol(n=>n.toString(),(n,t)=>n.isEqual(t))}const JZ=new fr(Ze.comparator),ZZ=new er(Ze.comparator);function nn(...n){let t=ZZ;for(const e of n)t=t.add(e);return t}const XZ=new er(Ft);function _D(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(t)?"-0":t}}function kL(n){return{integerValue:""+n}}function FL(n,t){return function qV(n){return"number"==typeof n&&Number.isInteger(n)&&!Zg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?kL(t):_D(n,t)}class H0{constructor(){this._=void 0}}function eX(n,t,e){return n instanceof Mh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&x0(s)&&(s=k0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof fu?LL(n,t):n instanceof pu?BL(n,t):function(i,s){const o=VL(i,s),a=UL(o)+UL(i.Pe);return cD(o)&&cD(i.Pe)?kL(a):_D(i.serializer,a)}(n,t)}function tX(n,t,e){return n instanceof fu?LL(n,t):n instanceof pu?BL(n,t):e}function VL(n,t){return n instanceof Oh?cD(r=t)||(s=r)&&"doubleValue"in s?t:{integerValue:0}:null;var r,s}class Mh extends H0{}class fu extends H0{constructor(t){super(),this.elements=t}}function LL(n,t){const e=jL(t);for(const r of n.elements)e.some(i=>ya(i,r))||e.push(r);return{arrayValue:{values:e}}}class pu extends H0{constructor(t){super(),this.elements=t}}function BL(n,t){let e=jL(t);for(const r of n.elements)e=e.filter(i=>!ya(i,r));return{arrayValue:{values:e}}}class Oh extends H0{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function UL(n){return Sr(n.integerValue||n.doubleValue)}function jL(n){return tm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cm{constructor(t,e){this.field=t,this.transform=e}}class rX{constructor(t,e){this.version=t,this.transformResults=e}}class Rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Rr}static exists(t){return new Rr(void 0,t)}static updateTime(t){return new Rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function z0(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class G0{}function $L(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new kh(n.key,Rr.none()):new xh(n.key,n.data,Rr.none());{const e=n.data,r=Vi.empty();let i=new er(Ar.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new al(n.key,r,new Ps(i.toArray()),Rr.none())}}function iX(n,t,e){n instanceof xh?function(i,s,o){const a=i.value.clone(),l=GL(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof al?function(i,s,o){if(!z0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=GL(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zL(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function um(n,t,e,r){return n instanceof xh?function(s,o,a,l){if(!z0(s.precondition,o))return a;const c=s.value.clone(),d=WL(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,r):n instanceof al?function(s,o,a,l){if(!z0(s.precondition,o))return a;const c=WL(s.fieldTransforms,l,o),d=o.data;return d.setAll(zL(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,t,e,r):(a=e,z0(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function sX(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),s=VL(r.transform,i||null);null!=s&&(null===e&&(e=Vi.empty()),e.set(r.field,s))}return e||null}function HL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Th(r,i,(s,o)=>function nX(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(r=n.transform)instanceof fu&&i instanceof fu||r instanceof pu&&i instanceof pu?Th(r.elements,i.elements,ya):r instanceof Oh&&i instanceof Oh?ya(r.Pe,i.Pe):r instanceof Mh&&i instanceof Mh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var r,i}class xh extends G0{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class al extends G0{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function GL(n,t,e){const r=new Map;ht(n.length===e.length);for(let i=0;i<e.length;i++){const s=n[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,tX(o,a,e[i]))}return r}function WL(n,t,e){const r=new Map;for(const i of n){const s=i.transform,o=e.data.field(i.field);r.set(i.field,eX(s,o,t))}return r}class kh extends G0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends G0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vD{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&iX(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=um(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=um(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=xL();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(i.key)?null:a;const l=$L(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),nn())}isEqual(t){return this.batchId===t.batchId&&Th(this.mutations,t.mutations,(e,r)=>HL(e,r))&&Th(this.baseMutations,t.baseMutations,(e,r)=>HL(e,r))}}class bD{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){ht(t.mutations.length===r.length);let i=JZ;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bD(t,e,r,i)}}class ED{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qL{constructor(t,e,r){this.alias=t,this.aggregateType=e,this.fieldPath=r}}class oX{constructor(t,e){this.count=t,this.unchangedNames=e}}var ti,Dn;function QL(n){if(void 0===n)return qr("GRPC error has no .code"),de.UNKNOWN;switch(n){case ti.OK:return de.OK;case ti.CANCELLED:return de.CANCELLED;case ti.UNKNOWN:return de.UNKNOWN;case ti.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case ti.INTERNAL:return de.INTERNAL;case ti.UNAVAILABLE:return de.UNAVAILABLE;case ti.UNAUTHENTICATED:return de.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case ti.NOT_FOUND:return de.NOT_FOUND;case ti.ALREADY_EXISTS:return de.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return de.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case ti.ABORTED:return de.ABORTED;case ti.OUT_OF_RANGE:return de.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return de.UNIMPLEMENTED;case ti.DATA_LOSS:return de.DATA_LOSS;default:return lt()}}(Dn=ti||(ti={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";const aX=new ou([4294967295,4294967295],0);function JL(n){const t=function YL(){return new TextEncoder}().encode(n),e=new NV;return e.update(t),new Uint8Array(e.digest())}function ZL(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ou([e,r],0),new ou([i,s],0)]}class wD{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new dm(`Invalid padding: ${e}`);if(r<0)throw new dm(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new dm(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new dm(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=ou.fromNumber(this.Ie)}Ee(t,e,r){let i=t.add(e.multiply(ou.fromNumber(r)));return 1===i.compare(aX)&&(i=new ou([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=JL(t),[r,i]=ZL(e);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new wD(s,i,e);return r.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Ie)return;const e=JL(t),[r,i]=ZL(e);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class dm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hm{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,fm.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new hm(bt.min(),i,new fr(Ft),Ms(),nn())}}class fm{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new fm(r,e,nn(),nn(),nn())}}class q0{constructor(t,e,r,i){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=i}}class XL{constructor(t,e){this.targetId=t,this.me=e}}class e2{constructor(t,e,r=$r.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class t2{constructor(){this.fe=0,this.ge=r2(),this.pe=$r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=nn(),e=nn(),r=nn();return this.ge.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:lt()}}),new fm(this.pe,this.ye,t,e,r)}Ce(){this.we=!1,this.ge=r2()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lX{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ms(),this.qe=n2(),this.Qe=new fr(Ft)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const r=this.Ge(e);switch(t.state){case 0:this.ze(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(t.resumeToken));break;default:lt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((r,i)=>{this.ze(i)&&e(i)})}He(t){const e=t.targetId,r=t.me.count,i=this.Je(e);if(i){const s=i.target;if(U0(s))if(0===r){const o=new Ze(s.path);this.Ue(e,o,Er.newNoDocument(o,bt.min()))}else ht(1===r);else{const o=this.Ye(e);if(o!==r){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;0!==l&&(this.je(e),this.Qe=this.Qe.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e;let o,a;try{o=il(r).toUint8Array()}catch(l){if(l instanceof iL)return yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wD(o,i,s)}catch(l){return yo(l instanceof dm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,e,r){return e.me.count===r-this.nt(t,e.targetId)?0:2}nt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,s,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&U0(a.target)){const l=new Ze(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,Er.newNoDocument(l,t))}s.be&&(e.set(o,s.ve()),s.Ce())}});let r=nn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const i=new hm(t,e,this.Qe,this.ke,r);return this.ke=Ms(),this.qe=n2(),this.Qe=new fr(Ft),i}$e(t,e){if(!this.ze(t))return;const r=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new t2,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new er(Ft),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Se("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new t2),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function n2(){return new fr(Ze.comparator)}function r2(){return new fr(Ze.comparator)}const cX={asc:"ASCENDING",desc:"DESCENDING"},uX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dX={and:"AND",or:"OR"};class hX{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function TD(n,t){return n.useProto3Json||Jg(t)?t:{value:t}}function Fh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function s2(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function fX(n,t){return Fh(n,t.toTimestamp())}function Kr(n){return ht(!!n),bt.fromTimestamp(function(e){const r=rl(e);return new Vr(r.seconds,r.nanos)}(n))}function ID(n,t){return DD(n,t).canonicalString()}function DD(n,t){const e=(i=n,new bn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===t?e:e.child(t)}function o2(n){const t=bn.fromString(n);return ht(_2(t)),t}function pm(n,t){return ID(n.databaseId,t.path)}function ba(n,t){const e=o2(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ze(c2(e))}function a2(n,t){return ID(n.databaseId,t)}function CD(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c2(n){return ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function u2(n,t,e){return{name:pm(n,t),fields:e.value.mapValue.fields}}function h2(n,t){return{documents:[a2(n,t.path)]}}function K0(n,t){const e={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=a2(n,i);const s=function(c){if(0!==c.length)return m2(Qn.create(c,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(d=>{return{field:Ql((_=d).field),direction:yX(_.dir)};var _})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=TD(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:e,parent:i};var c}function p2(n){let t=function l2(n){const t=o2(n);return 4===t.length?bn.emptyPath():c2(t)}(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){ht(1===r);const d=e.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];e.where&&(s=function(g){const _=g2(g);return _ instanceof Qn&&dD(_)?_.getFilters():[_]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(_=>{return new rm(Vh((I=_).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let a=null;e.limit&&(a=function(g){let _;return _="object"==typeof g?g.value:g,Jg(_)?null:_}(e.limit));let l=null;var g;e.startAt&&(l=new Kl((g=e.startAt).values||[],!!g.before));let c=null;return e.endAt&&(c=function(g){return new Kl(g.values||[],!g.before)}(e.endAt)),function DL(n,t,e,r,i,s,o,a){return new sl(n,t,e,r,i,s,o,a)}(t,i,o,s,a,"F",l,c)}function g2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Vh(e.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vh(e.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vh(e.unaryFilter.field);return En.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vh(e.unaryFilter.field);return En.create(o,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?En.create(Vh((e=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Qn.create(e.compositeFilter.filters.map(r=>g2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(n):lt();var e}function yX(n){return cX[n]}function vX(n){return uX[n]}function bX(n){return dX[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function Vh(n){return Ar.fromServerFormat(n.fieldPath)}function m2(n){return n instanceof En?function(e){if("=="===e.op){if(lL(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NAN"}};if(aL(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lL(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NAN"}};if(aL(e.value))return{unaryFilter:{field:Ql(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(e.field),op:vX(e.op),value:e.value}}}(n):n instanceof Qn?function(e){const r=e.getFilters().map(i=>m2(i));return 1===r.length?r[0]:{compositeFilter:{op:bX(e.op),filters:r}}}(n):lt()}function EX(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ll{constructor(t,e,r,i,s=bt.min(),o=bt.min(),a=$r.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new ll(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class y2{constructor(t){this.ct=t}}function SD(n){const t=p2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$0(t,t.limit,"L"):t}class yu{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Sr(t.integerValue));else if("doubleValue"in t){const r=Sr(t.doubleValue);isNaN(r)?this.dt(e,13):(this.dt(e,15),Zg(r)?e.At(0):e.At(r))}else if("timestampValue"in t){let r=t.timestampValue;this.dt(e,20),"string"==typeof r&&(r=rl(r)),e.Rt(`${r.seconds||""}`),e.At(r.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(il(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.dt(e,45),e.At(r.latitude||0),e.At(r.longitude||0)}else"mapValue"in t?cL(t)?this.dt(e,Number.MAX_SAFE_INTEGER):B0(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):lt()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const r=t.fields||{};this.dt(e,55);for(const i of Object.keys(r))this.Vt(i,e),this.Tt(r[i],e)}wt(t,e){var r,i;const s=t.fields||{};this.dt(e,53);const o="value",a=(null===(i=null===(r=s[o].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(e,15),e.At(Sr(a)),this.Vt(o,e),this.Tt(s[o],e)}bt(t,e){const r=t.values||[];this.dt(e,50);for(const i of r)this.Tt(i,e)}yt(t,e){this.dt(e,37),Ze.fromName(t).path.forEach(r=>{this.dt(e,60),this.Dt(r,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}yu.vt=new yu;class NX{constructor(){this.un=new xD}addToCollectionParentIndex(t,e){return this.un.add(e),se.resolve()}getCollectionParents(t,e){return se.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return se.resolve()}deleteFieldIndex(t,e){return se.resolve()}deleteAllFieldIndexes(t){return se.resolve()}createTargetIndexes(t,e){return se.resolve()}getDocumentsMatchingTarget(t,e){return se.resolve(null)}getIndexType(t,e){return se.resolve(0)}getFieldIndexes(t,e){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,e){return se.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,e){return se.resolve(Ws.min())}updateCollectionGroup(t,e,r){return se.resolve()}updateIndexEntries(t,e){return se.resolve()}}class xD{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new er(bn.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new er(bn.comparator)).toArray()}}new Uint8Array(0);class ns{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new ns(t,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ns.DEFAULT_COLLECTION_PERCENTILE=10,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ns.DEFAULT=new ns(41943040,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ns.DISABLED=new ns(-1,0,0);class bu{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new bu(0)}static kn(){return new bu(-1)}}class j2{constructor(){this.changes=new ol(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Er.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?se.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class LX{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class W2{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(null!==r&&um(r.mutation,i,Ps.empty(),Vr.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,nn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=nn()){const i=va();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=am();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const r=va();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,nn()))}populateOverlays(t,e,r){const i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,r,i){let s=Ms();const o=lm(),a=lm();return e.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof al)?s=s.insert(c.key,c):void 0!==d?(o.set(c.key,d.mutation.getFieldMask()),um(d.mutation,c,d.mutation.getFieldMask(),Vr.now())):o.set(c.key,Ps.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),e.forEach((c,d)=>{var g;return a.set(c,new LX(d,null!==(g=o.get(c))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(t,e){const r=lm();let i=new fr((o,a)=>o-a),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let d=r.get(l)||Ps.empty();d=a.applyToLocalView(c,d),r.set(l,d);const g=(i.get(a.batchId)||nn()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,g=xL();d.forEach(_=>{if(!s.has(_)){const v=$L(e.get(_),r.get(_));null!==v&&g.set(_,v),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,g))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return Ze.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):pD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i);var o}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):se.resolve(va());let a=-1,l=s;return o.next(c=>se.forEach(c,(d,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(d)?se.resolve():this.remoteDocumentCache.getEntry(t,d).next(_=>{l=l.insert(d,_)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,nn())).next(d=>({batchId:a,changes:OL(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ze(e)).next(r=>{let i=am();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const s=e.collectionGroup;let o=am();return this.indexManager.getCollectionParents(t,s).next(a=>se.forEach(a,l=>{const c=(g=e,_=l.child(s),new sl(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,_;return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(d=>{d.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();null===o.get(d)&&(o=o.insert(d,Er.newInvalidDocument(d)))});let a=am();return o.forEach((l,c)=>{const d=s.get(l);void 0!==d&&um(d.mutation,c,Ps.empty(),Vr.now()),om(e,c)&&(a=a.insert(l,c))}),a})}}class BX{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return se.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(i=e).id,version:i.version,createTime:Kr(i.createTime)}),se.resolve();var i}getNamedQuery(t,e){return se.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(i=e).name,query:SD(i.bundledQuery),readTime:Kr(i.readTime)}),se.resolve();var i}}class UX{constructor(){this.overlays=new fr(Ze.comparator),this.Ir=new Map}getOverlay(t,e){return se.resolve(this.overlays.get(e))}getOverlays(t,e){const r=va();return se.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.ht(t,e,s)}),se.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(t,e,r){const i=va(),s=e.length+1,o=new Ze(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new fr((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>r){let d=s.get(c.largestBatchId);null===d&&(d=va(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=va(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return se.resolve(a)}ht(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ED(e,r));let s=this.Ir.get(e);void 0===s&&(s=nn(),this.Ir.set(e,s)),this.Ir.set(e,s.add(r.key))}}class jX{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(t){return se.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,se.resolve()}}class kD{constructor(){this.Tr=new er(Di.Er),this.dr=new er(Di.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const r=new Di(t,e);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Vr(new Di(t,e))}mr(t,e){t.forEach(r=>this.removeReference(r,e))}gr(t){const e=new Ze(new bn([])),r=new Di(e,t),i=new Di(e,t+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new Ze(new bn([])),r=new Di(e,t),i=new Di(e,t+1);let s=nn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Di(t,0),r=this.Tr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Di{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return Ze.comparator(t.key,e.key)||Ft(t.wr,e.wr)}static Ar(t,e){return Ft(t.wr,e.wr)||Ze.comparator(t.key,e.key)}}class $X{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new er(Di.Er)}checkEmpty(t){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const s=this.Sr;this.Sr++;const o=new vD(s,e,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Di(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return se.resolve(o)}lookupMutationBatch(t,e){return se.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.vr(e+1),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Di(e,0),i=new Di(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new er(Ft);return e.forEach(i=>{const s=new Di(i,0),o=new Di(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const o=new Di(new Ze(s),0);let a=new er(Ft);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),se.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(r=>{const i=this.Dr(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){ht(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return se.forEach(e.mutations,i=>{const s=new Di(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,e){const r=new Di(e,0),i=this.br.firstAfterOrEqual(r);return se.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return se.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class HX{constructor(t){this.Mr=t,this.docs=new fr(Ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return se.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(e))}getEntries(t,e){let r=Ms();return e.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Er.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=Ms();const o=e.path,a=new Ze(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rD(new Ws((n=d).readTime,n.key,-1),r)<=0||(i.has(d.key)||om(e,d))&&(s=s.insert(d.key,d.mutableCopy()))}var n;return se.resolve(s)}getAllFromCollectionGroup(t,e,r,i){lt()}Or(t,e){return se.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new zX(this)}getSize(t){return se.resolve(this.size)}}class zX extends j2{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),se.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class GX{constructor(t){this.persistence=t,this.Nr=new ol(e=>hu(e),im),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kD,this.targetCount=0,this.kr=bu.Bn()}forEachTarget(t,e){return this.Nr.forEach((r,i)=>e(i)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Lr&&(this.Lr=e),se.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new bu(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,se.resolve()}updateTargetData(t,e){return this.Kn(e),se.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=e&&null===r.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,e){const r=this.Nr.get(e)||null;return se.resolve(r)}addMatchingKeys(t,e,r){return this.Br.Rr(e,r),se.resolve()}removeMatchingKeys(t,e,r){this.Br.mr(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),se.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Br.yr(e);return se.resolve(r)}containsKey(t,e){return se.resolve(this.Br.containsKey(e))}}class FD{constructor(t,e){this.qr={},this.overlays={},this.Qr=new qs(0),this.Kr=!1,this.Kr=!0,this.$r=new jX,this.referenceDelegate=t(this),this.Ur=new GX(this),this.indexManager=new NX,this.remoteDocumentCache=new HX(r=>this.referenceDelegate.Wr(r)),this.serializer=new y2(e),this.Gr=new BX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new UX,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.qr[t.toKey()];return r||(r=new $X(e,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,r){Se("MemoryPersistence","Starting transaction:",t);const i=new WX(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(t,e){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,e)))}}class WX extends zV{constructor(t){super(),this.currentSequenceNumber=t}}class nb{constructor(t){this.persistence=t,this.Jr=new kD,this.Yr=null}static Zr(t){return new nb(t)}get Xr(){if(this.Yr)return this.Yr;throw lt()}addReference(t,e,r){return this.Jr.addReference(r,e),this.Xr.delete(r.toString()),se.resolve()}removeReference(t,e,r){return this.Jr.removeReference(r,e),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),se.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=Ze.fromPath(r);return this.ei(t,i).next(s=>{s||e.removeEntry(i,bt.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(r=>{r?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return se.or([()=>se.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class UD{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.$i=r,this.Ui=i}static Wi(t,e){let r=nn(),i=nn();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new UD(t,e.fromCache,r,i)}}class KX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class K2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Kn.nr)()?8:function GV(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}((0,Kn.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,r,i){const s={result:null};return this.Yi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,e,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KX;return this.Xi(t,e,o).next(a=>{if(s.result=a,this.zi)return this.es(t,e,o,a.size)})}).next(()=>s.result)}es(t,e,r,i){return r.documentReadCount<this.ji?(wh()<=ga.$b.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Ph(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(wh()<=ga.$b.DEBUG&&Se("QueryEngine","Query:",Ph(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wh()<=ga.$b.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Ph(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ts(e))):se.resolve())}Yi(t,e){if(CL(e))return se.resolve(null);let r=ts(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=$0(e,null,"F"),r=ts(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=nn(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.ts(e,a);return this.ns(e,c,o,l.readTime)?this.Yi(t,$0(e,null,"F")):this.rs(t,c,e,l)}))})))}Zi(t,e,r,i){return CL(e)||i.isEqual(bt.min())?se.resolve(null):this.Ji.getDocuments(t,r).next(s=>{const o=this.ts(e,s);return this.ns(e,o,r,i)?se.resolve(null):(wh()<=ga.$b.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ph(e)),this.rs(t,o,e,function jV(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new Vr(e+1,0):new Vr(e,r));return new Ws(i,Ze.empty(),t)}(i,-1)).next(a=>a))})}ts(t,e){let r=new er(PL(t));return e.forEach((i,s)=>{om(t,s)&&(r=r.add(s))}),r}ns(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(t,e,r){return wh()<=ga.$b.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Ph(e)),this.Ji.getDocumentsMatchingQuery(t,e,Ws.min(),r)}rs(t,e,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class QX{constructor(t,e,r,i){this.persistence=t,this.ss=e,this.serializer=i,this.os=new fr(Ft),this._s=new ol(s=>hu(s),im),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new W2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function Y2(n,t){return jD.apply(this,arguments)}function jD(){return(jD=(0,Ie.A)(function*(n,t){const e=We(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.ls(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=nn();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return e.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function J2(n){const t=We(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function ZX(n,t){const e=We(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Hh(n,t,e){return $D.apply(this,arguments)}function $D(){return($D=(0,Ie.A)(function*(n,t,e){const r=We(n),i=r.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Hl(o))throw o;Se("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(i.target)})).apply(this,arguments)}function sb(n,t,e){const r=We(n);let i=bt.min(),s=nn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const g=We(l),_=g._s.get(d);return void 0!==_?se.resolve(g.os.get(_)):g.Ur.getTargetData(c,d)}(r,o,ts(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,t,e?i:bt.min(),e?s:nn())).next(a=>(function tB(n,t,e){let r=n.us.get(t)||bt.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(t,r)}(r,function NL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,Ts:s})))}class qD{constructor(){this.activeTargetIds=function mD(){return XZ}()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iB{constructor(){this.so=new qD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,r){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new qD,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class tee{_o(t){}shutdown(){}}class sB{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lb=null;function QD(){return null===lb?lb=268435456+Math.round(2147483648*Math.random()):lb++,"0x"+lb.toString(16)}const nee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ree{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const rs="WebChannelConnection";class iee extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+e.host,this.vo=`projects/${i}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(e,r,i,s,o){const a=QD(),l=this.xo(e,r.toUriEncodedString());Se("RestConnection",`Sending RPC '${e}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(e,l,c,i).then(d=>(Se("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw yo("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(e,r,i,s,o,a){return this.Mo(e,r,i,s,o)}Oo(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}xo(e,r){return`${this.Do}/v1/${r}:${nee[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,r,i){const s=QD();return new Promise((o,a)=>{const l=new PV;l.setWithCredentials(!0),l.listenOnce(MV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case N0.NO_ERROR:const d=l.getResponseJson();Se(rs,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case N0.TIMEOUT:Se(rs,`RPC '${t}' ${s} timed out`),a(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case N0.HTTP_ERROR:const g=l.getStatus();if(Se(rs,`RPC '${t}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_?.error;if(v&&v.status&&v.message){const I=function(S){const B=S.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(B)>=0?B:de.UNKNOWN}(v.status);a(new Re(I,v.message))}else a(new Re(de.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Re(de.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Se(rs,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);Se(rs,`RPC '${t}' ${s} sending request:`,i),l.send(e,"POST",c,r,15)})}Bo(t,e,r){const i=QD(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=kV(),a=xV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Se(rs,`Creating RPC '${t}' stream ${i}: ${d}`,l);const g=o.createWebChannel(d,l);let _=!1,v=!1;const I=new ree({Io:S=>{v?Se(rs,`Not sending because RPC '${t}' stream ${i} is closed:`,S):(_||(Se(rs,`Opening RPC '${t}' stream ${i} transport.`),g.open(),_=!0),Se(rs,`RPC '${t}' stream ${i} sending:`,S),g.send(S))},To:()=>g.close()}),A=(S,B,x)=>{S.listen(B,Q=>{try{x(Q)}catch(X){setTimeout(()=>{throw X},0)}})};return A(g,Kg.EventType.OPEN,()=>{v||(Se(rs,`RPC '${t}' stream ${i} transport opened.`),I.yo())}),A(g,Kg.EventType.CLOSE,()=>{v||(v=!0,Se(rs,`RPC '${t}' stream ${i} transport closed`),I.So())}),A(g,Kg.EventType.ERROR,S=>{v||(v=!0,yo(rs,`RPC '${t}' stream ${i} transport errored:`,S),I.So(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),A(g,Kg.EventType.MESSAGE,S=>{var B;if(!v){const x=S.data[0];ht(!!x);const X=x.error||(null===(B=x[0])||void 0===B?void 0:B.error);if(X){Se(rs,`RPC '${t}' stream ${i} received error:`,X);const ye=X.status;let Ne=function(k){const $=ti[k];if(void 0!==$)return QL($)}(ye),F=X.message;void 0===Ne&&(Ne=de.INTERNAL,F="Unknown error status: "+ye+" with message "+X.message),v=!0,I.So(new Re(Ne,F)),g.close()}else Se(rs,`RPC '${t}' stream ${i} received:`,x),I.bo(x)}}),A(a,OV.STAT_EVENT,S=>{S.stat===eD.PROXY?Se(rs,`RPC '${t}' stream ${i} detected buffering proxy`):S.stat===eD.NOPROXY&&Se(rs,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function cb(){return typeof document<"u"?document:null}function Tm(n){return new hX(n,!0)}class YD{constructor(t,e,r=1e3,i=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,e-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class aB{constructor(t,e,r,i,s,o,a,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YD(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,Ie.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,Ie.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var r=this;return(0,Ie.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==t?r.t_.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(qr(e.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):e&&e.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===e&&this.P_(r,i)},r=>{t(()=>{const i=new Re(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,e){const r=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var t=this;this.state=5,this.t_.Go((0,Ie.A)(function*(){t.state=0,t.start()}))}I_(t){return Se("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class see extends aB{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function gX(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:lt(),i=t.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ht(void 0===d||"string"==typeof d),$r.fromBase64String(d||"")):(ht(void 0===d||d instanceof Buffer||d instanceof Uint8Array),$r.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=void 0===c.code?de.UNKNOWN:QL(c.code);return new Re(d,c.message||"")}(o);e=new e2(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=ba(n,r.document.name),s=Kr(r.document.updateTime),o=r.document.createTime?Kr(r.document.createTime):bt.min(),a=new Vi({mapValue:{fields:r.document.fields}}),l=Er.newFoundDocument(i,s,o,a);e=new q0(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const r=t.documentDelete,i=ba(n,r.document),s=r.readTime?Kr(r.readTime):bt.min(),o=Er.newNoDocument(i,s);e=new q0([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=ba(n,r.document);e=new q0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return lt();{const r=t.filter,{count:i=0,unchangedNames:s}=r,o=new oX(i,s);e=new XL(r.targetId,o)}}var c;return e}(this.serializer,t),r=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Kr(o.readTime):bt.min()}(t);return this.listener.d_(e,r)}A_(t){const e={};e.database=CD(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=U0(l)?{documents:h2(s,l)}:{query:K0(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=s2(s,o.resumeToken);const c=TD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(bt.min())>0){a.readTime=Fh(s,o.snapshotVersion.toTimestamp());const c=TD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const r=function _X(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.a_(e)}R_(t){const e={};e.database=CD(this.serializer),e.removeTarget=t,this.a_(e)}}class oee extends aB{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return ht(!!t.streamToken),this.lastStreamToken=t.streamToken,ht(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function mX(n,t){return n&&n.length>0?(ht(void 0!==t),n.map(e=>function(i,s){let o=Kr(i.updateTime?i.updateTime:s);return o.isEqual(bt.min())&&(o=Kr(s)),new rX(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Kr(t.commitTime);return this.listener.g_(r,e)}p_(){const t={};t.database=CD(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>function gm(n,t){let e;if(t instanceof xh)e={update:u2(n,t.key,t.value)};else if(t instanceof kh)e={delete:pm(n,t.key)};else if(t instanceof al)e={update:u2(n,t.key,t.data),updateMask:EX(t.fieldMask)};else{if(!(t instanceof yD))return lt();e={verify:pm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw lt()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:fX(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:lt()),e;var s}(this.serializer,r))};this.a_(e)}}class aee extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,DD(e,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(de.UNKNOWN,s.toString())})}Lo(t,e,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,DD(e,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(de.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class lee{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qr(e),this.D_=!1):Se("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class cee{constructor(t,e,r,i,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget((0,Ie.A)(function*(){var l;Xl(o)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Ie.A)(function*(d){const g=We(d);g.L_.add(4),yield zh(g),g.q_.set("Unknown"),g.L_.delete(4),yield Im(g)}),function c(d){return l.apply(this,arguments)})(o))}))}),this.q_=new lee(r,i)}}function Im(n){return JD.apply(this,arguments)}function JD(){return(JD=(0,Ie.A)(function*(n){if(Xl(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function zh(n){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,Ie.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function ub(n,t){const e=We(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),tC(e)?eC(e):qh(e).r_()&&XD(e,t))}function Gh(n,t){const e=We(n),r=qh(e);e.N_.delete(t),r.r_()&&lB(e,t),0===e.N_.size&&(r.r_()?r.o_():Xl(e)&&e.q_.set("Unknown"))}function XD(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qh(n).A_(t)}function lB(n,t){n.Q_.xe(t),qh(n).R_(t)}function eC(n){n.Q_=new lX({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),qh(n).start(),n.q_.v_()}function tC(n){return Xl(n)&&!qh(n).n_()&&n.N_.size>0}function Xl(n){return 0===We(n).L_.size}function cB(n){n.Q_=void 0}function uee(n){return nC.apply(this,arguments)}function nC(){return(nC=(0,Ie.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function dee(n){return rC.apply(this,arguments)}function rC(){return(rC=(0,Ie.A)(function*(n){n.N_.forEach((t,e)=>{XD(n,t)})})).apply(this,arguments)}function hee(n,t){return iC.apply(this,arguments)}function iC(){return(iC=(0,Ie.A)(function*(n,t){cB(n),tC(n)?(n.q_.M_(t),eC(n)):n.q_.set("Unknown")})).apply(this,arguments)}function fee(n,t,e){return sC.apply(this,arguments)}function sC(){return sC=(0,Ie.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof e2&&2===t.state&&t.cause)try{yield(r=(0,Ie.A)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,t)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield db(n,r)}else if(t instanceof q0?n.Q_.Ke(t):t instanceof XL?n.Q_.He(t):n.Q_.We(t),!e.isEqual(bt.min()))try{const r=yield J2(n.localStore);e.compareTo(r)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken($r.EMPTY_BYTE_STRING,d.snapshotVersion)),lB(s,l);const g=new ll(d.target,l,c,d.sequenceNumber);XD(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),yield db(n,r)}var r}),sC.apply(this,arguments)}function db(n,t,e){return oC.apply(this,arguments)}function oC(){return(oC=(0,Ie.A)(function*(n,t,e){if(!Hl(t))throw t;n.L_.add(1),yield zh(n),n.q_.set("Offline"),e||(e=()=>J2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.A)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield Im(n)}))})).apply(this,arguments)}function uB(n,t){return t().catch(e=>db(n,e,t))}function Wh(n){return aC.apply(this,arguments)}function aC(){return(aC=(0,Ie.A)(function*(n){const t=We(n),e=ec(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;pee(t);)try{const i=yield ZX(t.localStore,r);if(null===i){0===t.O_.length&&e.o_();break}r=i.batchId,gee(t,i)}catch(i){yield db(t,i)}dB(t)&&hB(t)})).apply(this,arguments)}function pee(n){return Xl(n)&&n.O_.length<10}function gee(n,t){n.O_.push(t);const e=ec(n);e.r_()&&e.V_&&e.m_(t.mutations)}function dB(n){return Xl(n)&&!ec(n).n_()&&n.O_.length>0}function hB(n){ec(n).start()}function mee(n){return lC.apply(this,arguments)}function lC(){return(lC=(0,Ie.A)(function*(n){ec(n).p_()})).apply(this,arguments)}function _ee(n){return cC.apply(this,arguments)}function cC(){return(cC=(0,Ie.A)(function*(n){const t=ec(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function yee(n,t,e){return uC.apply(this,arguments)}function uC(){return(uC=(0,Ie.A)(function*(n,t,e){const r=n.O_.shift(),i=bD.from(r,t,e);yield uB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wh(n)})).apply(this,arguments)}function vee(n,t){return dC.apply(this,arguments)}function dC(){return dC=(0,Ie.A)(function*(n,t){var e;t&&ec(n).V_&&(yield(e=(0,Ie.A)(function*(i,s){if(function KL(n){switch(n){default:return lt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}(a=s.code)&&a!==de.ABORTED){const o=i.O_.shift();ec(i).s_(),yield uB(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Wh(i)}var a}),function r(i,s){return e.apply(this,arguments)})(n,t)),dB(n)&&hB(n)}),dC.apply(this,arguments)}function fB(n,t){return hC.apply(this,arguments)}function hC(){return(hC=(0,Ie.A)(function*(n,t){const e=We(n);e.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=Xl(e);e.L_.add(3),yield zh(e),r&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield Im(e)})).apply(this,arguments)}function fC(n,t){return pC.apply(this,arguments)}function pC(){return(pC=(0,Ie.A)(function*(n,t){const e=We(n);t?(e.L_.delete(2),yield Im(e)):t||(e.L_.add(2),yield zh(e),e.q_.set("Unknown"))})).apply(this,arguments)}function qh(n){return n.K_||(n.K_=function(e,r,i){const s=We(e);return s.w_(),new see(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:uee.bind(null,n),Ro:dee.bind(null,n),mo:hee.bind(null,n),d_:fee.bind(null,n)}),n.B_.push(function(){var t=(0,Ie.A)(function*(e){e?(n.K_.s_(),tC(n)?eC(n):n.q_.set("Unknown")):(yield n.K_.stop(),cB(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function ec(n){return n.U_||(n.U_=function(e,r,i){const s=We(e);return s.w_(),new oee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mee.bind(null,n),mo:vee.bind(null,n),f_:_ee.bind(null,n),g_:yee.bind(null,n)}),n.B_.push(function(){var t=(0,Ie.A)(function*(e){e?(n.U_.s_(),yield Wh(n)):(yield n.U_.stop(),n.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class gC{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){const o=Date.now()+r,a=new gC(t,e,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kh(n,t){if(qr("AsyncQueue",`${t}: ${n}`),Hl(n))return new Re(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Qh{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Ze.comparator(e.key,r.key):(e,r)=>Ze.comparator(e.key,r.key),this.keyedMap=am(),this.sortedSet=new fr(this.comparator)}static emptySet(t){return new Qh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Qh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class pB{constructor(){this.W_=new fr(Ze.comparator)}track(t){const e=t.doc.key,r=this.W_.get(e);r?0!==t.type&&3===r.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==r.type?this.W_=this.W_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.W_=this.W_.remove(e):1===t.type&&2===r.type?this.W_=this.W_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):lt():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,r)=>{t.push(r)}),t}}class Yh{constructor(t,e,r,i,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,r,i,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Yh(t,e,Qh.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class bee{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Eee{constructor(){this.queries=gB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,r){const i=We(e),s=i.queries;i.queries=gB(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})}(this,new Re(de.ABORTED,"Firestore shutting down"))}}function gB(){return new ol(n=>RL(n),sm)}function _C(){return(_C=(0,Ie.A)(function*(n,t){const e=We(n);let r=3;const i=t.query;let s=e.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new bee,r=t.J_()?0:1);try{switch(r){case 0:s.z_=yield e.onListen(i,!0);break;case 1:s.z_=yield e.onListen(i,!1);break;case 2:yield e.onFirstRemoteStoreListen(i)}}catch(o){const a=Kh(o,`Initialization of query '${Ph(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&bC(e)})).apply(this,arguments)}function vC(){return(vC=(0,Ie.A)(function*(n,t){const e=We(n),r=t.query;let i=3;const s=e.queries.get(r);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function wee(n,t){const e=We(n);let r=!1;for(const i of t){const o=e.queries.get(i.query);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&bC(e)}function Tee(n,t,e){const r=We(n),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(e);r.queries.delete(t)}function bC(n){n.Y_.forEach(t=>{t.next()})}var EC,mB;(mB=EC||(EC={})).ea="default",mB.Cache="cache";class wC{constructor(t,e,r){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Yh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Yh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==EC.Cache}}class vB{constructor(t){this.key=t}}class bB{constructor(t){this.key=t}}class EB{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=nn(),this.mutatedKeys=nn(),this.Aa=PL(t),this.Ra=new Qh(this.Aa)}get Va(){return this.Ta}ma(t,e){const r=e?e.fa:new pB,i=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,g)=>{const _=i.get(d),v=om(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;_&&v?_.data.isEqual(v.data)?I!==A&&(r.track({type:3,doc:v}),S=!0):this.ga(_,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.Aa(v,l)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!_&&v?(r.track({type:0,doc:v}),S=!0):_&&!v&&(r.track({type:1,doc:_}),S=!0,(l||c)&&(a=!0)),S&&(v?(o=o.add(v),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((d,g)=>function(v,I){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return A(v)-A(I)}(d.type,g.type)||this.Aa(d.doc,g.doc)),this.pa(r),i=null!=i&&i;const a=e&&!i?this.ya():[],l=0===this.da.size&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,0!==o.length||c?{snapshot:new Yh(this.query,t.Ra,s,o,t.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pB,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=nn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const e=[];return t.forEach(r=>{this.da.has(r)||e.push(new bB(r))}),this.da.forEach(r=>{t.has(r)||e.push(new vB(r))}),e}ba(t){this.Ta=t.Ts,this.da=nn();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Yh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Cee{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Aee{constructor(t){this.key=t,this.va=!1}}class See{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ol(a=>RL(a),sm),this.Ma=new Map,this.xa=new Set,this.Oa=new fr(Ze.comparator),this.Na=new Map,this.La=new kD,this.Ba={},this.ka=new Map,this.qa=bu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Ree(n,t){return TC.apply(this,arguments)}function TC(){return(TC=(0,Ie.A)(function*(n,t,e=!0){const r=hb(n);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield wB(r,t,e,!0),i})).apply(this,arguments)}function Nee(n,t){return IC.apply(this,arguments)}function IC(){return(IC=(0,Ie.A)(function*(n,t){const e=hb(n);yield wB(e,t,!0,!1)})).apply(this,arguments)}function wB(n,t,e,r){return DC.apply(this,arguments)}function DC(){return(DC=(0,Ie.A)(function*(n,t,e,r){const i=yield function $h(n,t){const e=We(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Ur.getTargetData(r,t).next(s=>s?(i=s,se.resolve(i)):e.Ur.allocateTargetId(r).next(o=>(i=new ll(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.os=e.os.insert(r.targetId,r),e._s.set(t,r.targetId)),r})}(n.localStore,ts(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let a;return r&&(a=yield function CC(n,t,e,r,i){return AC.apply(this,arguments)}(n,t,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&e&&ub(n.remoteStore,i),a})).apply(this,arguments)}function AC(){return AC=(0,Ie.A)(function*(n,t,e,r,i){n.Ka=(g,_,v)=>{return(I=(0,Ie.A)(function*(S,B,x,Q){let X=B.view.ma(x);X.ns&&(X=yield sb(S.localStore,B.query,!1).then(({documents:P})=>B.view.ma(P,X)));const ye=Q&&Q.targetChanges.get(B.targetId),Ne=Q&&null!=Q.targetMismatches.get(B.targetId),F=B.view.applyChanges(X,S.isPrimaryClient,ye,Ne);return LC(S,B.targetId,F.wa),F.snapshot}),function A(S,B,x,Q){return I.apply(this,arguments)})(n,g,_,v);var I};const s=yield sb(n.localStore,t,!0),o=new EB(t,s.Ts),a=o.ma(s.documents),l=fm.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);LC(n,e,c.wa);const d=new Cee(t,e,o);return n.Fa.set(t,d),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),c.snapshot}),AC.apply(this,arguments)}function Pee(n,t,e){return SC.apply(this,arguments)}function SC(){return(SC=(0,Ie.A)(function*(n,t,e){const r=We(n),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!sm(o,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&Gh(r.remoteStore,i.targetId),Jh(r,i.targetId)}).catch($l))):(Jh(r,i.targetId),yield Hh(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Mee(n,t){return RC.apply(this,arguments)}function RC(){return(RC=(0,Ie.A)(function*(n,t){const e=We(n),r=e.Fa.get(t),i=e.Ma.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Gh(e.remoteStore,r.targetId))})).apply(this,arguments)}function NC(){return(NC=(0,Ie.A)(function*(n,t,e){const r=function QC(n){const t=We(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kee.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fee.bind(null,t),t}(n);try{const i=yield function(o,a){const l=We(o),c=Vr.now(),d=a.reduce((v,I)=>v.add(I.key),nn());let g,_;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=Ms(),A=nn();return l.cs.getEntries(v,d).next(S=>{I=S,I.forEach((B,x)=>{x.isValidDocument()||(A=A.add(B))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,I)).next(S=>{g=S;const B=[];for(const x of a){const Q=sX(x,g.get(x.key).overlayedDocument);null!=Q&&B.push(new al(x.key,Q,fL(Q.value.mapValue),Rr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,B,a)}).next(S=>{_=S;const B=S.applyToLocalDocumentSet(g,A);return l.documentOverlayCache.saveOverlays(v,S.batchId,B)})}).then(()=>({batchId:_.batchId,changes:OL(g)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new fr(Ft)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,e),yield cl(r,i.changes),yield Wh(r.remoteStore)}catch(i){const s=Kh(i,"Failed to persist write");e.reject(s)}})).apply(this,arguments)}function TB(n,t){return PC.apply(this,arguments)}function PC(){return(PC=(0,Ie.A)(function*(n,t){const e=We(n);try{const r=yield function JX(n,t){const e=We(n),r=t.snapshotVersion;let i=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.cs.newChangeBuffer({trackRemovals:!0});i=e.os;const a=[];t.targetChanges.forEach((d,g)=>{const _=i.get(g);if(!_)return;a.push(e.Ur.removeMatchingKeys(s,d.removedDocuments,g).next(()=>e.Ur.addMatchingKeys(s,d.addedDocuments,g)));let v=_.withSequenceNumber(s.currentSequenceNumber);var A,S,B;null!==t.targetMismatches.get(g)?v=v.withResumeToken($r.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(g,v),S=v,B=d,(0===(A=_).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(s,v))});let l=Ms(),c=nn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(function Z2(n,t,e){let r=nn(),i=nn();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=Ms();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}(s,o,t.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(bt.min())){const d=e.Ur.getLastRemoteSnapshotVersion(s).next(g=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return se.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.os=i,s))}(e.localStore,t);t.targetChanges.forEach((i,s)=>{const o=e.Na.get(s);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ht(o.va):i.removedDocuments.size>0&&(ht(o.va),o.va=!1))}),yield cl(e,r,t)}catch(r){yield $l(r)}})).apply(this,arguments)}function IB(n,t,e){const r=We(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=We(o);l.onlineState=a;let c=!1;l.queries.forEach((d,g)=>{for(const _ of g.j_)_.Z_(a)&&(c=!0)}),c&&bC(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xee(n,t,e){return MC.apply(this,arguments)}function MC(){return(MC=(0,Ie.A)(function*(n,t,e){const r=We(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Na.get(t),s=i&&i.key;if(s){let o=new fr(Ze.comparator);o=o.insert(s,Er.newNoDocument(s,bt.min()));const a=nn().add(s),l=new hm(bt.min(),new Map,new fr(Ft),o,a);yield TB(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(t),BC(r)}else yield Hh(r.localStore,t,!1).then(()=>Jh(r,t,e)).catch($l)})).apply(this,arguments)}function kee(n,t){return OC.apply(this,arguments)}function OC(){return(OC=(0,Ie.A)(function*(n,t){const e=We(n),r=t.batch.batchId;try{const i=yield function YX(n,t){const e=We(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const g=c.batch,_=g.keys();let v=se.resolve();return _.forEach(I=>{v=v.next(()=>d.getEntry(l,I)).next(A=>{const S=c.docVersions.get(I);ht(null!==S),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}(e.localStore,t);VC(e,r,null),FC(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield cl(e,i)}catch(i){yield $l(i)}})).apply(this,arguments)}function Fee(n,t,e){return xC.apply(this,arguments)}function xC(){return(xC=(0,Ie.A)(function*(n,t,e){const r=We(n);try{const i=yield function(o,a){const l=We(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(g=>(ht(null!==g),d=g.keys(),l.mutationQueue.removeMutationBatch(c,g))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,t);VC(r,t,e),FC(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield cl(r,i)}catch(i){yield $l(i)}})).apply(this,arguments)}function FC(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function VC(n,t,e){const r=We(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Jh(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Ma.get(t))n.Fa.delete(r),e&&n.Ca.$a(r,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(r=>{n.La.containsKey(r)||DB(n,r)})}function DB(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(Gh(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),BC(n))}function LC(n,t,e){for(const r of e)r instanceof vB?(n.La.addReference(r.key,t),Lee(n,r)):r instanceof bB?(Se("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,t),n.La.containsKey(r.key)||DB(n,r.key)):lt()}function Lee(n,t){const e=t.key,r=e.path.canonicalString();n.Oa.get(e)||n.xa.has(r)||(Se("SyncEngine","New document in limbo: "+e),n.xa.add(r),BC(n))}function BC(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new Ze(bn.fromString(t)),r=n.qa.next();n.Na.set(r,new Aee(e)),n.Oa=n.Oa.insert(e,r),ub(n.remoteStore,new ll(ts(Rh(e.path)),r,"TargetPurposeLimboResolution",qs.oe))}}function cl(n,t,e){return UC.apply(this,arguments)}function UC(){return UC=(0,Ie.A)(function*(n,t,e){const r=We(n),i=[],s=[],o=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,t,e).then(c=>{var d;if((c||e)&&r.isPrimaryClient){const g=c?!c.fromCache:null===(d=e?.targetChanges.get(l.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(c){i.push(c);const g=UD.Wi(l.targetId,c);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield(a=(0,Ie.A)(function*(c,d){const g=We(c);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>se.forEach(d,v=>se.forEach(v.$i,I=>g.persistence.referenceDelegate.addReference(_,v.targetId,I)).next(()=>se.forEach(v.Ui,I=>g.persistence.referenceDelegate.removeReference(_,v.targetId,I)))))}catch(_){if(!Hl(_))throw _;Se("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const I=g.os.get(v),S=I.withLastLimboFreeSnapshotVersion(I.snapshotVersion);g.os=g.os.insert(v,S)}}}),function l(c,d){return a.apply(this,arguments)})(r.localStore,s))}),UC.apply(this,arguments)}function Bee(n,t){return jC.apply(this,arguments)}function jC(){return(jC=(0,Ie.A)(function*(n,t){const e=We(n);if(!e.currentUser.isEqual(t)){Se("SyncEngine","User change. New user:",t.toKey());const r=yield Y2(e.localStore,t);e.currentUser=t,(s=e).ka.forEach(a=>{a.forEach(l=>{l.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield cl(e,r.hs)}var s})).apply(this,arguments)}function Uee(n,t){const e=We(n),r=e.Na.get(t);if(r&&r.va)return nn().add(r.key);{let i=nn();const s=e.Ma.get(t);if(!s)return i;for(const o of s){const a=e.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function hb(n){const t=We(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=TB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uee.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xee.bind(null,t),t.Ca.d_=wee.bind(null,t.eventManager),t.Ca.$a=Tee.bind(null,t.eventManager),t}let Zh=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Ie.A)(function*(){r.serializer=Tm(e.databaseInfo.databaseId),r.sharedClientState=r.Wa(e),r.persistence=r.Ga(e),yield r.persistence.start(),r.localStore=r.za(e),r.gcScheduler=r.ja(e,r.localStore),r.indexBackfillerScheduler=r.Ha(e,r.localStore)})()}ja(e,r){return null}Ha(e,r){return null}za(e){return function Q2(n,t,e,r){return new QX(n,t,e,r)}(this.persistence,new K2,e.initialUser,this.serializer)}Ga(e){return new FD(nb.Zr,this.serializer)}Wa(e){return new iB}terminate(){var e=this;return(0,Ie.A)(function*(){var r,i;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),Xh=(()=>{class n{initialize(e,r){var i=this;return(0,Ie.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>IB(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=Bee.bind(null,i.syncEngine),yield fC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eee}createDatastore(e){const r=Tm(e.databaseInfo.databaseId),i=new iee(e.databaseInfo);return new aee(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return i=this.localStore,s=this.datastore,o=e.asyncQueue,a=r=>IB(this.syncEngine,r,0),l=sB.D()?new sB:new tee,new cee(i,s,o,a,l);var i,s,o,a,l}createSyncEngine(e,r){return function(s,o,a,l,c,d,g){const _=new See(s,o,a,l,c,d);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,Ie.A)(function*(){var r,i,s;yield(s=(0,Ie.A)(function*(a){const l=We(a);Se("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield zh(l),l.k_.shutdown(),l.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate(),null===(i=e.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class fb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):qr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class Xee{constructor(t,e,r,i,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=BV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,function(){var a=(0,Ie.A)(function*(l){Se("FirestoreClient","Received user=",l.uid),yield o.authCredentialListener(l),o.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(Se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Kh(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function JC(n,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,Ie.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ie.A)(function*(s){r.isEqual(s)||(yield Y2(t.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),ZC.apply(this,arguments)}function NB(n,t){return XC.apply(this,arguments)}function XC(){return(XC=(0,Ie.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function eA(n){return tA.apply(this,arguments)}(n);Se("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>fB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>fB(t.remoteStore,i)),n._onlineComponents=t})).apply(this,arguments)}function tA(){return(tA=(0,Ie.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield JC(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(i=t).name?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),yield JC(n,new Zh)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),yield JC(n,new Zh);var i;return n._offlineComponents})).apply(this,arguments)}function pb(n){return nA.apply(this,arguments)}function nA(){return(nA=(0,Ie.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),yield NB(n,n._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),yield NB(n,new Xh))),n._onlineComponents})).apply(this,arguments)}function iA(){return(iA=(0,Ie.A)(function*(n){const t=yield pb(n),e=t.eventManager;return e.onListen=Ree.bind(null,t.syncEngine),e.onUnlisten=Pee.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Nee.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Mee.bind(null,t.syncEngine),e})).apply(this,arguments)}function kB(n,t,e={}){const r=new Ii;return n.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return function(s,o,a,l,c){const d=new fb({next:_=>{d.Za(),o.enqueueAndForget(()=>function yC(n,t){return vC.apply(this,arguments)}(s,g)),_.fromCache&&"server"===l.source?c.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(_)},error:_=>c.reject(_)}),g=new wC(a,d,{includeMetadataChanges:!0,_a:!0});return function mC(n,t){return _C.apply(this,arguments)}(s,g)}(yield function tf(n){return iA.apply(this,arguments)}(n),n.asyncQueue,t,e,r)})),r.promise}function FB(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const VB=new Map;function sA(n,t,e){if(!e)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function LB(n){if(!Ze.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BB(n){if(Ze.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(r=n).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof n?"a function":lt()}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=gb(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class jB{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function dte(n,t,e,r){if(!0===t&&!0===r)throw new Re(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FB(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dm{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jB({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jB(t),void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new iZ;switch(r.type){case"firstParty":return new lZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Ie.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=VB.get(e);r&&(Se("ComponentProvider","Removing Datastore"),VB.delete(e),r.terminate())}(this),Promise.resolve()}}class Li{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Li(this.firestore,t,this._query)}}class Qr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qr(this.firestore,t,this._key)}}class Ea extends Li{constructor(t,e,r){super(t,e,Rh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qr(this.firestore,null,new Ze(t))}withConverter(t){return new Ea(this.firestore,t,this._path)}}function fte(n,t,...e){if(n=(0,Kn.Ku)(n),sA("collection","path",t),n instanceof Dm){const r=bn.fromString(t,...e);return BB(r),new Ea(n,null,r)}{if(!(n instanceof Qr||n instanceof Ea))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(t,...e));return BB(r),new Ea(n.firestore,null,r)}}function $B(n,t,...e){if(n=(0,Kn.Ku)(n),1===arguments.length&&(t=BV.newId()),sA("doc","path",t),n instanceof Dm){const r=bn.fromString(t,...e);return LB(r),new Qr(n,null,new Ze(r))}{if(!(n instanceof Qr||n instanceof Ea))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(t,...e));return LB(r),new Qr(n.firestore,n instanceof Ea?n.converter:null,new Ze(r))}}class zB{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YD(this,"async_queue_retry"),this.Vu=()=>{const r=cb();r&&Se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const e=cb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=cb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new Ii;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,Ie.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!Hl(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(r=>{throw this.Eu=r,this.du=!1,qr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=e,e}enqueueAfterDelay(t,e,r){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const i=gC.createAndSchedule(this,t,e,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&lt()}verifyOperationInProgress(){}wu(){var t=this;return(0,Ie.A)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}class sr extends Dm{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new zB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,Ie.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new zB(e),t._firestoreClient=void 0,yield e}})()}}function gte(n,t){const e="object"==typeof n?n:(0,Fr.getApp)(),r="string"==typeof n?n:t||"(default)",i=(0,Fr._getProvider)(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,Kn.yU)("firestore");s&&function hte(n,t,e,r={}){var i;const s=(n=vn(n,Dm))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Ti.MOCK_USER;else{a=(0,Kn.Fy)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ti(c)}n._authCredentials=new sZ(new VV(a,l))}}(i,...s)}return i}function Lr(n){if(n._terminated)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function GB(n){var t,e,r;const i=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new LZ(n._databaseId,l,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,FB(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;n._componentsProvider||!(null===(e=i.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Xee(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}(n),n._firestoreClient}class Cm{constructor(t="count",e){this._internalFieldPath=e,this.type="AggregateField",this.aggregateType=t}}class mte{constructor(t,e,r){this._userDataWriter=e,this._data=r,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}class wu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wu($r.fromBase64String(t))}catch(e){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new wu($r.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Tu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Iu{constructor(t){this._methodName=t}}class lA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}}class mb{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}const _te=/^__.*__$/;class yte{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new al(t,this.data,this.fieldMask,e,this.fieldTransforms):new xh(t,this.data,e,this.fieldTransforms)}}class qB{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new al(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function KB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class _b{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new _b(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return bb(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(KB(this.Cu)&&_te.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class vte{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Tm(t)}Qu(t,e,r,i=!1){return new _b({Cu:t,methodName:e,qu:r,path:Ar.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(n){const t=n._freezeSettings(),e=Tm(n._databaseId);return new vte(n._databaseId,!!t.ignoreUndefinedProperties,e)}function yb(n,t,e,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,t,e,i);gA("Data must be an object, but it was:",o,r);const a=JB(r,o);let l,c;if(s.merge)l=new Ps(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const _=Sm(t,g,e);if(!o.contains(_))throw new Re(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);XB(d,_)||d.push(_)}l=new Ps(d),c=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,c=o.fieldTransforms;return new yte(new Vi(a),l,c)}class Am extends Iu{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Am}}class cA extends Iu{_toFieldTransform(t){return new cm(t.path,new Mh)}isEqual(t){return t instanceof cA}}function fA(n,t,e,r){const i=n.Qu(1,t,e);gA("Data must be an object, but it was:",i,r);const s=[],o=Vi.empty();zl(r,(l,c)=>{const d=vb(t,l,e);c=(0,Kn.Ku)(c);const g=i.Nu(d);if(c instanceof Am)s.push(d);else{const _=Cu(c,g);null!=_&&(s.push(d),o.set(d,_))}});const a=new Ps(s);return new qB(o,a,i.fieldTransforms)}function pA(n,t,e,r,i,s){const o=n.Qu(1,t,e),a=[Sm(t,r,e)],l=[i];if(s.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(Sm(t,s[_])),l.push(s[_+1]);const c=[],d=Vi.empty();for(let _=a.length-1;_>=0;--_)if(!XB(c,a[_])){const v=a[_];let I=l[_];I=(0,Kn.Ku)(I);const A=o.Nu(v);if(I instanceof Am)c.push(v);else{const S=Cu(I,A);null!=S&&(c.push(v),d.set(v,S))}}const g=new Ps(c);return new qB(d,g,o.fieldTransforms)}function YB(n,t,e,r=!1){return Cu(e,n.Qu(r?4:3,t))}function Cu(n,t){if(ZB(n=(0,Kn.Ku)(n)))return gA("Unsupported field value:",t,n),JB(n,t);if(n instanceof Iu)return function(r,i){if(!KB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Cu(a,i.Lu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(r,i){if(null===(r=(0,Kn.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return FL(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Vr.fromDate(r);return{timestampValue:Fh(i.serializer,s)}}if(r instanceof Vr){const s=new Vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(i.serializer,s)}}if(r instanceof lA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wu)return{bytesValue:s2(i.serializer,r._byteString)};if(r instanceof Qr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ID(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mb)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return _D(a.serializer,l)})}}}}};var a;throw i.Bu(`Unsupported field value: ${gb(r)}`)}(n,t)}function JB(n,t){const e={};return nL(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zl(n,(r,i)=>{const s=Cu(i,t.Mu(r));null!=s&&(e[r]=s)}),{mapValue:{fields:e}}}function ZB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Vr||n instanceof lA||n instanceof wu||n instanceof Qr||n instanceof Iu||n instanceof mb)}function gA(n,t,e){if(!ZB(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=gb(e);throw t.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function Sm(n,t,e){if((t=(0,Kn.Ku)(t))instanceof Tu)return t._internalPath;if("string"==typeof t)return vb(n,t);throw bb("Field path arguments must be of type string or ",n,!1,void 0,e)}const bte=new RegExp("[~\\*/\\[\\]]");function vb(n,t,e){if(t.search(bte)>=0)throw bb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Tu(...t.split("."))._internalPath}catch{throw bb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bb(n,t,e,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Re(de.INVALID_ARGUMENT,a+n+l)}function XB(n,t){return n.some(e=>e.isEqual(t))}class Rm{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Ete(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Eb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Ete extends Rm{data(){return super.data()}}function Eb(n,t){return"string"==typeof t?vb(n,t):t instanceof Tu?t._internalPath:t._delegate._internalPath}class mA{}class Nm extends mA{}function wte(n,t,...e){let r=[];t instanceof mA&&r.push(t),r=r.concat(e),function(s){const o=s.filter(l=>l instanceof nf).length,a=s.filter(l=>l instanceof Pm).length;if(o>1||o>0&&a>0)throw new Re(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Pm extends Nm{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Pm(t,e,r)}_apply(t){const e=this._parse(t);return iU(t._query,e),new Li(t.firestore,t.converter,gD(t._query,e))}_parse(t){const e=Du(t.firestore);return function(s,o,a,l,c,d,g){let _;if(c.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){rU(g,d);const v=[];for(const I of g)v.push(nU(l,s,I));_={arrayValue:{values:v}}}else _=nU(l,s,g)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||rU(g,d),_=YB(a,"where",g,"in"===d||"not-in"===d);return En.create(c,d,_)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class nf extends mA{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new nf(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Qn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)iU(o,l),o=gD(o,l)}(t._query,e),new Li(t.firestore,t.converter,gD(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _A extends Nm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _A(t,e)}_apply(t){const e=function(i,s,o){if(null!==i.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rm(s,o)}(t._query,this._field,this._direction);return new Li(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new sl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function Tte(n,t="asc"){const e=t,r=Eb("orderBy",n);return _A._create(r,e)}class wb extends Nm{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new wb(t,e,r)}_apply(t){return new Li(t.firestore,t.converter,$0(t._query,this._limit,this._limitType))}}function Ite(n){return function UB(n,t){if(t<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),wb._create("limit",n,"F")}class Tb extends Nm{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new Tb(t,e,r)}_apply(t){const e=function tU(n,t,e,r){if(e[0]=(0,Kn.Ku)(e[0]),e[0]instanceof Rm)return function(s,o,a,l,c){if(!l)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const g of Nh(s))if(g.field.isKeyField())d.push(du(o,l.key));else{const _=l.data.field(g.field);if(x0(_))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const v=g.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(_)}return new Kl(d,c)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=Du(n.firestore);return function(o,a,l,c,d,g){const _=o.explicitOrderBy;if(d.length>_.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let I=0;I<d.length;I++){const A=d[I];if(_[I].field.isKeyField()){if("string"!=typeof A)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof A}`);if(!pD(o)&&-1!==A.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${A}' contains a slash.`);const S=o.path.child(bn.fromString(A));if(!Ze.isDocumentKey(S))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const B=new Ze(S);v.push(du(a,B))}else{const S=YB(l,c,A);v.push(S)}}return new Kl(v,g)}(n._query,n.firestore._databaseId,i,t,e,r)}}(t,this.type,this._docOrFields,this._inclusive);return new Li(t.firestore,t.converter,(s=e,new sl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}function Dte(...n){return Tb._create("startAfter",n,!1)}function nU(n,t,e){if("string"==typeof(e=(0,Kn.Ku)(e))){if(""===e)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pD(t)&&-1!==e.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(bn.fromString(e));if(!Ze.isDocumentKey(r))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(n,new Ze(r))}if(e instanceof Qr)return du(n,e._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gb(e)}.`)}function rU(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iU(n,t){const e=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Re(de.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class oU{convertValue(t,e="none"){switch(Wl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Sr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(il(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw lt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return zl(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){var e,r,i;const s=null===(i=null===(r=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(o=>Sr(o.doubleValue));return new mb(s)}convertGeoPoint(t){return new lA(Sr(t.latitude),Sr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=k0(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xg(t));default:return null}}convertTimestamp(t){const e=rl(t);return new Vr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=bn.fromString(t);ht(_2(r));const i=new uu(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(e)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function Db(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rf extends Rm{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Cb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Eb("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Cb extends rf{data(t={}){return super.data(t)}}class sf{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Au(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Cb(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Cb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Cb(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Ste(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ste(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}class tc extends oU{constructor(t){super(),this.firestore=t}convertBytes(t){return new wu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qr(this.firestore,null,e)}}function Rte(n){n=vn(n,Li);const t=vn(n.firestore,sr),e=Lr(t),r=new tc(t);return function eU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),kB(e,n._query).then(i=>new sf(t,r,n,i))}function Nte(n,t,e,...r){n=vn(n,Qr);const i=vn(n.firestore,sr),s=Du(i);let o;return o="string"==typeof(t=(0,Kn.Ku)(t))||t instanceof Tu?pA(s,"updateDoc",n._key,t,e,r):fA(s,"updateDoc",n._key,t),Mm(i,[o.toMutation(n._key,Rr.exists(!0))])}function Pte(n){return Mm(vn(n.firestore,sr),[new kh(n._key,Rr.none())])}function Mte(n,t){const e=vn(n.firestore,sr),r=$B(n),i=Db(n.converter,t);return Mm(e,[yb(Du(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function Mm(n,t){return function(r,i){const s=new Ii;return r.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){return function Oee(n,t,e){return NC.apply(this,arguments)}(yield function rA(n){return pb(n).then(t=>t.syncEngine)}(r),i,s)})),s.promise}(Lr(n),t)}function Ote(n){return function xte(n,t){const e=vn(n.firestore,sr),r=Lr(e),i=function tL(n,t){const e=[];for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(t(n[r],r,n));return e}(t,(s,o)=>new qL(o,s.aggregateType,s._internalFieldPath));return function ite(n,t,e){const r=new Ii;return n.asyncQueue.enqueueAndForget((0,Ie.A)(function*(){try{const i=yield function OB(n){return pb(n).then(t=>t.datastore)}(n);r.resolve((s=(0,Ie.A)(function*(a,l,c){var d;const g=We(a),{request:_,ut:v,parent:I}=function f2(n,t,e,r){const{_t:i,parent:s}=K0(n,t),o={},a=[];let l=0;return e.forEach(c=>{const d=r?c.alias:"aggregate_"+l++;o[d]=c.alias,"count"===c.aggregateType?a.push({alias:d,count:{}}):"avg"===c.aggregateType?a.push({alias:d,avg:{field:Ql(c.fieldPath)}}):"sum"===c.aggregateType&&a.push({alias:d,sum:{field:Ql(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}(g.serializer,function AL(n){const t=We(n);return t.he||(t.he=SL(t,n.explicitOrderBy)),t.he}(l),c);g.connection.Fo||delete _.parent;const A=(yield g.Lo("RunAggregationQuery",g.serializer.databaseId,I,_,1)).filter(B=>!!B.result);ht(1===A.length);const S=null===(d=A[0].result)||void 0===d?void 0:d.aggregateFields;return Object.keys(S).reduce((B,x)=>(B[v[x]]=S[x],B),{})}),function o(a,l,c){return s.apply(this,arguments)})(i,t,e))}catch(i){r.reject(i)}var s})),r.promise}(r,n._query,i).then(s=>function(a,l,c){const d=new tc(a);return new mte(l,d,c)}(e,n,s))}(n,{count:new Cm("count")})}class Hte{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Du(t)}set(t,e,r){this._verifyNotCommitted();const i=nc(t,this._firestore),s=Db(i.converter,e,r),o=yb(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Rr.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const s=nc(t,this._firestore);let o;return o="string"==typeof(e=(0,Kn.Ku)(e))||e instanceof Tu?pA(this._dataReader,"WriteBatch.update",s._key,e,r,i):fA(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=nc(t,this._firestore);return this._mutations=this._mutations.concat(new kh(e._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nc(n,t){if((n=(0,Kn.Ku)(n)).firestore!==t)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Gte(){return new cA("serverTimestamp")}function Wte(n){return Lr(n=vn(n,sr)),new Hte(n,t=>Mm(n,t))}!function(t,e=!0){Eh=Fr.SDK_VERSION,(0,Fr._registerComponent)(new CV.uA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sr(new oZ(r.getProvider("auth-internal")),new cZ(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Fr.registerVersion)(FV,"4.7.3",t),(0,Fr.registerVersion)(FV,"4.7.3","esm2017")}();class Om{constructor(t){return t}}const uU="firestore",bA=new Ke("angularfire2.firestore-instances");function Yte(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new Om(r)}}const Jte={provide:class Kte{constructor(){return D0(uU)}},deps:[[new Ei,bA]]},Zte={provide:Om,useFactory:function Qte(n,t){const e=Y1(uU,n,t);return e&&new Om(e)},deps:[[new Ei,bA],bh]};let Xte=(()=>{class n{constructor(){(0,Fr.registerVersion)("angularfire",iu.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=rn({providers:[Zte,Jte]})}return n})();function ene(n,...t){return{ngModule:Xte,providers:[{provide:bA,useFactory:Yte(n),multi:!0,deps:[jt,Cr,qg,A0,[new Ei,Z1],[new Ei,C0],...t]}]}}const dU=ki(Mte,!0),vo=ki(fte,!0),hU=ki(Pte,!0),xm=ki($B,!0),tne=ki(Ote,!0),wa=ki(Rte,!0),nne=ki(gte,!0),EA=ki(Ite,!0),rne=ki(Tte,!0),Sb=ki(wte,!0),ine=ki(Gte,!0),fU=ki(Dte,!0),wA=ki(Nte,!0),TA=ki(Wte,!0),sne=["addListener","removeListener"],one=["addEventListener","removeEventListener"],ane=["on","off"];function Bi(n,t,e,r){if(N(e)&&(r=e,e=void 0),r)return Bi(n,t,e).pipe(w1(r));const[i,s]=function une(n){return N(n.addEventListener)&&N(n.removeEventListener)}(n)?one.map(o=>a=>n[o](t,a,e)):function lne(n){return N(n.addListener)&&N(n.removeListener)}(n)?sne.map(pU(n,t)):function cne(n){return N(n.on)&&N(n.off)}(n)?ane.map(pU(n,t)):[];if(!i&&Ce(n))return Jt(o=>Bi(o,t,e))(we(n));if(!i)throw new TypeError("Invalid event target");return new tt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function pU(n,t){return e=>r=>n[e](t,r)}const{isArray:hne}=Array;function mU(n){return 1===n.length&&hne(n[0])?n[0]:n}function IA(...n){const t=Ri(n),e=mU(n);return e.length?new tt(r=>{let i=e.map(()=>[]),s=e.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<e.length;o++)we(e[o]).subscribe(ae(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(t?t(...l):l),i.some((c,d)=>!c.length&&s[d])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Xt}function DA(...n){const t=Ri(n);return oe((e,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)we(n[l]).subscribe(ae(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(nt))&&(o=null))},it));e.subscribe(ae(r,l=>{if(a){const c=[l,...s];r.next(t?t(...c):c)}}))})}Error;let RU=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||n)(z(Hs),z(Vn))}}static{this.\u0275dir=Le({type:n})}}return n})(),Su=(()=>{class n extends RU{static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Dr(n)))(i||n)}}()}static{this.\u0275dir=Le({type:n,features:[zn]})}}return n})();const bo=new Ke("NgValueAccessor"),Fne={provide:bo,useExisting:Qt(()=>lf),multi:!0},Lne=new Ke("CompositionEventMode");let lf=(()=>{class n extends RU{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vne(){const n=Fl()?Fl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||n)(z(Hs),z(Vn),z(Lne,8))}}static{this.\u0275dir=Le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ut("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ir([Fne]),zn]})}}return n})();function ic(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ji=new Ke("NgValidators"),sc=new Ke("NgAsyncValidators");function xU(n){return ic(n.value)?{required:!0}:null}function Mb(n){return null}function UU(n){return null!=n}function jU(n){return lg(n)?D(n):n}function $U(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function HU(n,t){return t.map(e=>e(n))}function zU(n){return n.map(t=>function Une(n){return!n.validate}(t)?t:e=>t.validate(e))}function NA(n){return null!=n?function GU(n){if(!n)return null;const t=n.filter(UU);return 0==t.length?null:function(e){return $U(HU(e,t))}}(zU(n)):null}function PA(n){return null!=n?function WU(n){if(!n)return null;const t=n.filter(UU);return 0==t.length?null:function(e){return function xne(...n){const t=Ri(n),{args:e,keys:r}=hF(n),i=new tt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let g=!1;we(e[d]).subscribe(ae(s,_=>{g||(g=!0,c--),a[d]=_},()=>l--,void 0,()=>{(!l||!g)&&(c||s.next(r?fF(r,a):a),s.complete())}))}});return t?i.pipe(w1(t)):i}(HU(e,t).map(jU)).pipe(xe($U))}}(zU(n)):null}function qU(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function MA(n){return n?Array.isArray(n)?n:[n]:[]}function Ob(n,t){return Array.isArray(n)?n.includes(t):n===t}function YU(n,t){const e=MA(t);return MA(n).forEach(i=>{Ob(e,i)||e.push(i)}),e}function JU(n,t){return MA(t).filter(e=>!Ob(n,e))}class ZU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=NA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=PA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ys extends ZU{get formDirective(){return null}get path(){return null}}class oc extends ZU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XU{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xb=(()=>{class n extends XU{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(z(oc,2))}}static{this.\u0275dir=Le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[zn]})}}return n})(),kb=(()=>{class n extends XU{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||n)(z(ys,10))}}static{this.\u0275dir=Le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[zn]})}}return n})();const Fm="VALID",Vb="INVALID",cf="PENDING",Vm="DISABLED";function kA(n){return(Lb(n)?n.validators:n)||null}function FA(n,t){return(Lb(t)?t.asyncValidators:n)||null}function Lb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class VA{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Fm}get invalid(){return this.status===Vb}get pending(){return this.status==cf}get disabled(){return this.status===Vm}get enabled(){return this.status!==Vm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(YU(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YU(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(JU(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(JU(t,this._rawAsyncValidators))}hasValidator(t){return Ob(this._rawValidators,t)}hasAsyncValidator(t){return Ob(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=cf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vm,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fm,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fm||this.status===cf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vm:Fm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=cf,this._hasOwnPendingAsyncValidator=!0;const e=jU(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?Vm:this.errors?Vb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cf)?cf:this._anyControlsHaveStatus(Vb)?Vb:Fm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function zne(n){return Array.isArray(n)?NA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Gne(n){return Array.isArray(n)?PA(n):n||null}(this._rawAsyncValidators)}}class LA extends VA{constructor(t,e,r){super(kA(e),FA(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function nj(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new he(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function tj(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new he(1e3,"");if(!r[e])throw new he(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const uf=new Ke("CallSetDisabledState",{providedIn:"root",factory:()=>Bb}),Bb="always";function Lm(n,t,e=Bb){BA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Kne(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rj(n,t)})}(n,t),function Yne(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Qne(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rj(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function qne(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function $b(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function BA(n,t){const e=function KU(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(qU(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function QU(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(qU(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$b(t._rawValidators,i),$b(t._rawAsyncValidators,i)}function rj(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const tre={provide:ys,useExisting:Qt(()=>df)},Bm=(()=>Promise.resolve())();let df=(()=>{class n extends ys{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new It,this.form=new LA({},NA(e),PA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Bm.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Lm(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Bm.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Bm.then(()=>{const r=this._findContainer(e.path),i=new LA({});(function ij(n,t){BA(n,t)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Bm.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Bm.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function sj(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(r){return new(r||n)(z(ji,10),z(sc,10),z(uf,8))}}static{this.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ut("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ir([tre]),zn]})}}return n})();function oj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function aj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lj=class extends VA{constructor(t=null,e,r){super(kA(e),FA(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=aj(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){aj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},ire={provide:oc,useExisting:Qt(()=>Um)},dj=(()=>Promise.resolve())();let Um=(()=>{class n extends oc{constructor(e,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new lj,this._registered=!1,this.name="",this.update=new It,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $A(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===lf?e=s:function Xne(n){return Object.getPrototypeOf(n.constructor)===Su}(s)?r=s:i=s}),i||r||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function jA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){dj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&oh(r);dj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Ub(n,t){return[...t.path,n]}(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||n)(z(ys,9),z(ji,10),z(sc,10),z(bo,10),z(po,8),z(uf,8))}}static{this.\u0275dir=Le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ir([ire]),zn,zr]})}}return n})(),zb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),fj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();let Ru=(()=>{class n{constructor(){this._validator=Mb}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mb,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Le({type:n,features:[zr]})}}return n})();const wre={provide:ji,useExisting:Qt(()=>hf),multi:!0};let hf=(()=>{class n extends Ru{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=oh,this.createValidator=e=>xU}enabled(e){return e}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Dr(n)))(i||n)}}()}static{this.\u0275dir=Le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&In("required",i._enabled?"":null)},inputs:{required:"required"},features:[ir([wre]),zn]})}}return n})();const Dre={provide:ji,useExisting:Qt(()=>KA),multi:!0};let KA=(()=>{class n extends Ru{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function wj(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function VU(n){return t=>ic(t.value)||!function PU(n){return null!=n&&"number"==typeof n.length}(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=Dr(n)))(i||n)}}()}static{this.\u0275dir=Le({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&In("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ir([Dre]),zn]})}}return n})(),Sre=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({imports:[fj]})}}return n})(),Nre=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uf,useValue:e.callSetDisabledState??Bb}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({imports:[Sre]})}}return n})();Math,Math,Math;const jie=["*"],_se=["dialog"];function Mu(n){return"string"==typeof n}function Ou(n){return null!=n}function _f(n){return(n||document.body).getBoundingClientRect()}const Yj={animation:!0,transitionTimerDelayMs:5},coe=()=>{},{transitionTimerDelayMs:uoe}=Yj,qm=new Map,ks=(n,t,e,r)=>{let i=r.context||{};const s=qm.get(t);if(s)switch(r.runningTransition){case"continue":return Xt;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),qm.delete(t)}const o=e(t,r.animation,i)||coe;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),M(void 0).pipe(function aoe(n){return t=>new tt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new K,l=new K,c=a.pipe(function pne(...n){return t=>Ag(t,M(...n))}(!0));qm.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const d=function loe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const g=Bi(t,"transitionend").pipe(kr(c),ei(({target:v})=>v===t));(function _U(...n){return 1===(n=mU(n)).length?we(n[0]):new tt(function fne(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push(we(n[r]).subscribe(ae(t,i=>{if(e){for(let s=0;s<e.length;s++)s!==r&&e[s].unsubscribe();e=null}t.next(i)})))}}(n))})(function gU(n=0,t,e=FJ){let r=-1;return null!=t&&(Ut(t)?e=t:r=t),new tt(i=>{let s=function dne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(d+uoe).pipe(kr(c)),g,l).pipe(kr(c)).subscribe(()=>{qm.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Qb=(()=>{class n{constructor(){this.animation=Yj.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),s$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),o$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),c$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),u$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();var or=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(or||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _$=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function y$(n){const t=Array.from(n.querySelectorAll(_$)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let P$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),x$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();class Lu{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let cae=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(xi(1)).subscribe(()=>{ks(this._zone,this._el.nativeElement,(e,r)=>{r&&_f(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ks(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)(z(Vn),z(jt))}}static{this.\u0275cmp=Ir({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(Zi("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Mn("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ms],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class k${update(t){}close(t){}dismiss(t){}}const uae=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],dae=["animation","backdropClass"];class hae{_applyWindowOptions(t,e){uae.forEach(r=>{Ou(e[r])&&(t[r]=e[r])})}_applyBackdropOptions(t,e){dae.forEach(r=>{Ou(e[r])&&(t[r]=e[r])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(kr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(kr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,r,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new K,this._dismissed=new K,this._hidden=new K,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function qj(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():M(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),IA(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yS=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(yS||{});let fae=(()=>{class n{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new K,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new It,this.shown=new K,this.hidden=new K}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Mu(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(xi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=IA(ks(this._zone,e,()=>e.classList.remove("show"),r),ks(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};IA(ks(this._zone,this._elRef.nativeElement,(s,o)=>{o&&_f(s),s.classList.add("show")},e),ks(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Bi(e,"keydown").pipe(kr(this._closed$),ei(i=>i.which===or.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(yS.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Bi(this._dialogEl.nativeElement,"mousedown").pipe(kr(this._closed$),di(()=>r=!1),ke(()=>Bi(e,"mouseup").pipe(kr(this._closed$),xi(1))),ei(({target:i})=>e===i)).subscribe(()=>{r=!0}),Bi(e,"click").pipe(kr(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(yS.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=y$(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ks(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)(z(br),z(Vn),z(jt))}}static{this.\u0275cmp=Ir({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&ko(_se,7),2&r){let s;An(s=Sn())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(In("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Zi("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Mn("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ms],ngContentSelectors:jie,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(YT(),pe(0,"div",0,1)(2,"div",2),JT(3),me()()),2&r&&Zi("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),pae=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(e>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+e}px`}return i.overflow="hidden",()=>{e>0&&(i.paddingRight=o),i.overflow=s}}static{this.\u0275fac=function(r){return new(r||n)(Ae(br))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gae=(()=>{class n{constructor(e,r,i,s,o,a,l){this._applicationRef=e,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new K,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new It,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{n.runOutsideAngular(()=>{const i=Bi(t,"focusin").pipe(kr(e),xe(s=>s.target));Bi(t,"keydown").pipe(kr(e),ei(s=>s.which===or.Tab),DA(i)).subscribe(([s,o])=>{const[a,l]=y$(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&Bi(t,"click").pipe(kr(e),DA(i),xe(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i){const s=i.container instanceof HTMLElement?i.container:Ou(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new k$,l=(e=i.injector||e).get(As,null)||this._environmentInjector,c=this._getContentRef(e,l,r,a,i);let d=!1!==i.backdrop?this._attachBackdrop(s):void 0,g=this._attachWindowComponent(s,c.nodes),_=new hae(g,c,d,i.beforeDismiss);return this._registerModalRef(_),this._registerWindowCmpt(g),_.hidden.pipe(xi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=v=>{_.close(v)},a.dismiss=v=>{_.dismiss(v)},a.update=v=>{_.update(v)},_.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),g.changeDetectorRef.detectChanges(),_}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let r=$I(cae,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,r){let i=$I(fae,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_getContentRef(e,r,i,s,o){return i?i instanceof Or?this._createFromTemplateRef(i,s):Mu(i)?this._createFromString(i):this._createFromComponent(e,r,i,s,o):new Lu([])}_createFromTemplateRef(e,r){const s=e.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new Lu([s.rootNodes],s)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new Lu([[r]])}_createFromComponent(e,r,i,s,o){const l=$I(i,{environmentInjector:r,elementInjector:Cr.create({providers:[{provide:k$,useValue:s}],parent:e})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Lu([[c]],l.hostView,l)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)(Ae(Vo),Ae(Cr),Ae(As),Ae(br),Ae(pae),Ae(Ud),Ae(jt))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mae=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static{this.\u0275fac=function(r){return new(r||n)(Ae(Qb))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F$=(()=>{class n{constructor(e,r,i){this._injector=e,this._modalStack=r,this._config=i}open(e,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)(Ae(Cr),Ae(gae),Ae(mae))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),V$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({providers:[F$]})}}return n})(),U$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),K$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),Q$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),Y$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),J$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),Z$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),X$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),eH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),tH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();new Ke("live announcer delay",{providedIn:"root",factory:function Pae(){return 100}});let nH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})(),rH=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({})}}return n})();const Oae=[s$,o$,c$,u$,P$,x$,V$,U$,rH,K$,Q$,Y$,J$,Z$,X$,eH,tH,nH];let xae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({imports:[Oae,s$,o$,c$,u$,P$,x$,V$,U$,rH,K$,Q$,Y$,J$,Z$,X$,eH,tH,nH]})}}return n})();class iH{}class kae{}const dl="*";function sH(n,t){return{type:7,name:n,definitions:t,options:{}}}function lE(n,t=null){return{type:4,styles:t,timings:n}}function oH(n,t=null){return{type:2,steps:n,options:t}}function lc(n){return{type:6,styles:n,offset:null}}function cE(n,t,e){return{type:0,name:n,styles:t,options:e}}function uE(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class Zm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class aH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const lH=["toast-component",""];function Fae(n,t){if(1&n){const e=Zr();pe(0,"button",5),ut("click",function(){return dn(e),hn(Ge().remove())}),pe(1,"span",6),Qe(2,"\xd7"),me()()}}function Vae(n,t){if(1&n&&(og(0),Qe(1),ag()),2&n){const e=Ge(2);be(1),Oi("[",e.duplicatesCount+1,"]")}}function Lae(n,t){if(1&n&&(pe(0,"div"),Qe(1),He(2,Vae,2,1,"ng-container",4),me()),2&n){const e=Ge();Zi(e.options.titleClass),In("aria-label",e.title),be(1),Oi(" ",e.title," "),be(1),Pe("ngIf",e.duplicatesCount)}}function Bae(n,t){if(1&n&&rr(0,"div",7),2&n){const e=Ge();Zi(e.options.messageClass),Pe("innerHTML",e.message,sv)}}function Uae(n,t){if(1&n&&(pe(0,"div",8),Qe(1),me()),2&n){const e=Ge();Zi(e.options.messageClass),In("aria-label",e.message),be(1),Oi(" ",e.message," ")}}function jae(n,t){if(1&n&&(pe(0,"div"),rr(1,"div",9),me()),2&n){const e=Ge();be(1),Ya("width",e.width()+"%")}}class Kae{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Qae{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class Yae{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new K;_activate=new K;_manualClose=new K;_resetTimeout=new K;_countDuplicate=new K;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class dE{toastId;config;message;title;toastType;toastRef;_onTap=new K;_onAction=new K;constructor(t,e,r,i,s,o){this.toastId=t,this.config=e,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const uH=new Ke("ToastConfig");class Jae extends Qae{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=r.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Zae=(()=>{class n{_document=je(br);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Xae{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let ele=(()=>{class n{_overlayContainer=je(Zae);_componentFactoryResolver=je(Qp);_appRef=je(Vo);_document=je(br);_paneElements=new Map;create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(e),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(e){return new Jae(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Xae(this._createPortalHost(e))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xm=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,i={},s=""){return this._preBuildNotification(s,e,r,this.applyConfig(i))}success(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(i))}error(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(i))}info(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(i))}warning(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(i))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(e="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===e)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,i,s)):this._buildNotification(e,r,i,s)}_buildNotification(e,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize($s.HTML,r));const d=new Yae(l),g=new dE(this.index,s,c,i,e,d),v=Cr.create({providers:[{provide:dE,useValue:g}],parent:this._injector}),I=new Kae(s.toastComponent,v),A=l.attach(I,s.newestOnTop);d.componentInstance=A.instance;const S={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:g.onTap(),onAction:g.onAction(),portal:A};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{S.toastRef.activate()})),this.toasts.push(S),S}static \u0275fac=function(r){return new(r||n)(Ae(uH),Ae(ele),Ae(Cr),Ae(E1),Ae(jt))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tle={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=cd(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,r,i){this.toastrService=e,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=cd({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>({...e,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const e=(new Date).getTime();this.width.set((this.hideTime-e)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>({...e,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(e=>({...e,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(r){return new(r||n)(z(Xm),z(dE),z(jt))};static \u0275cmp=Ir({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&ut("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(rI("@flyInOut",i._state),Zi(i.toastClasses),Ya("display",i.displayStyle))},standalone:!0,features:[ms],attrs:lH,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(He(0,Fae,3,0,"button",0),He(1,Lae,3,5,"div",1),He(2,Bae,1,3,"div",2),He(3,Uae,2,4,"div",3),He(4,jae,2,2,"div",4)),2&r&&(Pe("ngIf",i.options.closeButton),be(1),Pe("ngIf",i.title),be(1),Pe("ngIf",i.message&&i.options.enableHtml),be(1),Pe("ngIf",i.message&&!i.options.enableHtml),be(1),Pe("ngIf",i.options.progressBar))},dependencies:[_o],encapsulation:2,data:{animation:[sH("flyInOut",[cE("inactive",lc({opacity:0})),cE("active",lc({opacity:1})),cE("removed",lc({opacity:0})),uE("inactive => active",lE("{{ easeTime }}ms {{ easing }}")),uE("active => removed",lE("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})()},nle=(n={})=>function lT(n){return{\u0275providers:n}}([{provide:uH,useValue:{default:tle,config:n}}]);let rle=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[nle(e)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=rn({})}return n})();const ile=["overlay"];function sle(n,t){1&n&&rr(0,"div")}function ole(n,t){if(1&n&&(pe(0,"div"),He(1,sle,1,0,"div",6),me()),2&n){const e=Ge(2);Zi(e.spinner.class),Ya("color",e.spinner.color),be(1),Pe("ngForOf",e.spinner.divArray)}}function ale(n,t){1&n&&(rr(0,"div",7),kv(1,"safeHtml")),2&n&&Pe("innerHTML",ix(1,1,Ge(2).template),sv)}function lle(n,t){if(1&n&&(pe(0,"div",1,2),He(2,ole,2,5,"div",3),He(3,ale,2,3,"div",4),pe(4,"div",5),JT(5),me()()),2&n){const e=Ge();Ya("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),Pe("@.disabled",e.disableAnimation)("@fadeIn","in"),be(2),Pe("ngIf",!e.template),be(1),Pe("ngIf",e.template),be(1),Ya("z-index",e.spinner.zIndex)}}const cle=["*"],ule={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},wS="primary";class Bu{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Bu(t)}}let TS=(()=>{class n{constructor(){this.spinnerObservable=new T(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(ei(r=>r&&r.name===e))}show(e=wS,r){return new Promise((i,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=e,this.spinnerObservable.next(new Bu({...r,show:!0})),i(!0)):(this.spinnerObservable.next(new Bu({name:e,show:!0})),i(!0))},10)})}hide(e=wS,r=10){return new Promise((i,s)=>{setTimeout(()=>{this.spinnerObservable.next(new Bu({name:e,show:!1})),i(!0)},r)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const IS=new Ke("NGX_SPINNER_CONFIG");let dle=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(r){return new(r||n)(z(E1,16))}}static{this.\u0275pipe=Jr({name:"safeHtml",type:n,pure:!0,standalone:!0})}}return n})(),dH=(()=>{class n{constructor(e,r,i,s){this.spinnerService=e,this.changeDetector=r,this.elementRef=i,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new Bu,this.ngUnsubscribe=new K,this.setDefaultOptions=()=>{const{type:o}=this.globalConfig??{};this.spinner=Bu.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??o,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=wS,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(kr(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const r in e)if(r){const i=e[r];if(i.isFirstChange())return;typeof i.currentValue<"u"&&i.currentValue!==i.previousValue&&""!==i.currentValue&&(this.spinner[r]=i.currentValue,"showSpinner"===r&&(i.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(e,r){this.spinner.divCount=ule[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,o)=>o);let i="";switch(r.toLowerCase()){case"small":i="la-sm";break;case"medium":i="la-2x";break;case"large":i="la-3x"}return"la-"+e+" "+i}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(r){return new(r||n)(z(TS),z(po),z(Vn),z(IS,8))}}static{this.\u0275cmp=Ir({type:n,selectors:[["ngx-spinner"]],viewQuery:function(r,i){if(1&r&&ko(ile,5),2&r){let s;An(s=Sn())&&(i.spinnerDOM=s.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},standalone:!0,features:[zr,ms],ngContentSelectors:cle,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(r,i){1&r&&(YT(),He(0,lle,6,12,"div",0)),2&r&&Pe("ngIf",i.spinner.show)},dependencies:[dle,_o,Bo],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[sH("fadeIn",[cE("in",lc({opacity:1})),uE(":enter",[lc({opacity:0}),lE(300)]),uE(":leave",lE(200,lc({opacity:0})))])]},changeDetection:0})}}return n})(),hle=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:IS,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({imports:[l1]})}}return n})();var fle=ft(262),ple=ft.t(fle,2);let hH=(()=>{class n{constructor(){this._papa=ple}parse(e,r){return this._papa.parse(e,r)}unparse(e,r){return this._papa.unparse(e,r)}setLocalChunkSize(e){this._papa.LocalChunkSize=e}setRemoteChunkSize(e){this._papa.RemoteChunkSize=e}setDefaultDelimiter(e){this._papa.DefaultDelimiter=e}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gle=(()=>{class n{transform(e,r,i="asc"){return e&&r?e.slice().sort((s,o)=>{const a=s[r]?.seconds??0,l=o[r]?.seconds??0;return"asc"===i?a-l:l-a}):e}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=Jr({name:"sortBy",type:n,pure:!1})}}return n})();const mle=["passwordModal"],_le=["collectionModal"],yle=["editCollectionModal"];function vle(n,t){if(1&n){const e=Zr();pe(0,"li",13),ut("click",function(){const s=dn(e).$implicit;return hn(Ge().selectCollection(s))}),Qe(1),pe(2,"div",14)(3,"a",15),ut("click",function(i){const o=dn(e).$implicit;return hn(Ge().openEditModal(o,i))}),function Ry(){Rt.lFrame.currentNamespace=hd}(),pe(4,"svg",16),rr(5,"path",17)(6,"path",18),me()(),function Ny(){!function Pw(){Rt.lFrame.currentNamespace=null}()}(),pe(7,"div",19)(8,"input",20),ut("click",function(i){const o=dn(e).$implicit;return hn(Ge().toggleCollection(o,i))}),me()()()()}if(2&n){const e=t.$implicit;be(1),Oi(" ",e.name," "),be(7),Pe("checked",e.active)}}function ble(n,t){1&n&&(pe(0,"div")(1,"h3",21),Qe(2,"Dashboard"),me(),pe(3,"p",22),Qe(4,"Select a collection from the left to see details."),me()())}function Ele(n,t){if(1&n&&(pe(0,"li"),Qe(1),kv(2,"date"),me()),2&n){const e=t.$implicit;be(1),Oi(" ",sx(2,1,e.toDate(),"short")," ")}}function wle(n,t){if(1&n&&(pe(0,"tr")(1,"td"),Qe(2),me(),pe(3,"td"),Qe(4),me(),pe(5,"td"),Qe(6),me(),pe(7,"td")(8,"ul"),He(9,Ele,3,4,"li",32),me()(),pe(10,"td"),Qe(11),me()()),2&n){const e=t.$implicit;be(2),ui(e.fullName),be(2),ui(e.organisation),be(2),ui(e.phone),be(3),Pe("ngForOf",e.timestamp),be(2),ui(e.type)}}function Tle(n,t){1&n&&(pe(0,"p"),Qe(1,"No users found in this collection."),me())}function Ile(n,t){if(1&n){const e=Zr();pe(0,"div")(1,"div",3)(2,"div",23)(3,"h4",24),Qe(4),me()(),pe(5,"div",25)(6,"button",26),ut("click",function(){return dn(e),hn(Ge().openPasswordModal("export"))}),Qe(7,"Export"),me(),pe(8,"button",27),ut("click",function(){return dn(e),hn(Ge().openPasswordModal("clear"))}),Qe(9,"Clear Data"),me(),pe(10,"button",28),ut("click",function(){return dn(e),hn(Ge().openPasswordModal("delete"))}),Qe(11,"Delete"),me()(),pe(12,"div",29),Qe(13),me(),pe(14,"div",29),Qe(15),me()(),pe(16,"table",30)(17,"thead",31)(18,"tr")(19,"th"),Qe(20,"Name"),me(),pe(21,"th"),Qe(22,"Organisation"),me(),pe(23,"th"),Qe(24,"Phone"),me(),pe(25,"th"),Qe(26,"Check-in (Timestamps)"),me(),pe(27,"th"),Qe(28,"Type"),me()()(),pe(29,"tbody"),He(30,wle,12,5,"tr",32),me()(),pe(31,"div",33)(32,"button",34),ut("click",function(){return dn(e),hn(Ge().previousPage())}),Qe(33," Previous Page "),me(),pe(34,"button",34),ut("click",function(){return dn(e),hn(Ge().nextPage())}),Qe(35," Next Page "),me()(),He(36,Tle,2,0,"p",9),me()}if(2&n){const e=Ge();be(4),Oi("Entries in ",e.selectedCollectionName,""),be(9),Oi(" Total Entries ",e.totalUserEntries-1," "),be(2),Oi(" Double Entries ",e.multiTimestampUserCount," "),be(15),Pe("ngForOf",e.users),be(2),Pe("disabled",!e.previousPageExists),be(2),Pe("disabled",!e.nextPageExists),be(2),Pe("ngIf",0===e.users.length)}}function Dle(n,t){if(1&n){const e=Zr();pe(0,"div",35)(1,"h4",36),Qe(2,"Add New Collection"),me(),pe(3,"button",37),ut("click",function(){return hn(dn(e).$implicit.dismiss())}),me()(),pe(4,"div",38)(5,"form")(6,"div",39)(7,"label",40),Qe(8,"Collection Name"),me(),pe(9,"input",41),ut("ngModelChange",function(i){return dn(e),hn(Ge().newCollectionName=i)}),me()()()(),pe(10,"div",42)(11,"button",43),ut("click",function(){return hn(dn(e).$implicit.dismiss())}),Qe(12,"Cancel"),me(),pe(13,"button",44),ut("click",function(){const s=dn(e).$implicit;return hn(Ge().addCollection(s))}),Qe(14,"Add"),me()()}if(2&n){const e=Ge();be(9),Pe("ngModel",e.newCollectionName)}}function Cle(n,t){if(1&n&&(pe(0,"p",48),Qe(1),me()),2&n){const e=Ge(2);be(1),ui(e.passwordError)}}function Ale(n,t){if(1&n){const e=Zr();pe(0,"div",35)(1,"h5",36),Qe(2,"Enter Pass Key To Confirm"),me(),pe(3,"button",37),ut("click",function(){return hn(dn(e).$implicit.dismiss())}),me()(),pe(4,"div",38)(5,"input",45),ut("ngModelChange",function(i){return dn(e),hn(Ge().passwordInput=i)})("input",function(){return dn(e),hn(Ge().checkPassword())}),me(),He(6,Cle,2,1,"p",46),me(),pe(7,"div",42)(8,"button",43),ut("click",function(){return hn(dn(e).$implicit.dismiss())}),Qe(9,"Cancel"),me(),pe(10,"button",47),ut("click",function(){const s=dn(e).$implicit;return hn(Ge().performAction(s))}),Qe(11," Submit "),me()()}if(2&n){const e=Ge();be(5),Pe("ngModel",e.passwordInput),be(1),Pe("ngIf",e.passwordError),be(4),Pe("disabled",!e.isPasswordCorrect)}}function Sle(n,t){if(1&n){const e=Zr();pe(0,"div",35)(1,"h5",36),Qe(2,"Edit Collection Name"),me(),pe(3,"button",37),ut("click",function(){return hn(dn(e).$implicit.dismiss())}),me()(),pe(4,"div",38)(5,"input",49),ut("ngModelChange",function(i){return dn(e),hn(Ge().editedCollectionName=i)}),me()(),pe(6,"div",42)(7,"button",44),ut("click",function(){const s=dn(e).$implicit;return hn(Ge().updateCollectionName(s))}),Qe(8,"Save"),me(),pe(9,"button",43),ut("click",function(){return hn(dn(e).$implicit.dismiss())}),Qe(10,"Cancel"),me()()}if(2&n){const e=Ge();be(5),Pe("ngModel",e.editedCollectionName)}}let Rle=(()=>{class n{constructor(e,r,i,s,o){this.modalService=e,this.firestore=r,this.toastr=i,this.spinner=s,this.papa=o,this.collections=[],this.showPrompt=!1,this.newCollectionName="",this.users=[],this.totalUserEntries=0,this.multiTimestampUserCount=0,this.selectedCollectionId=null,this.selectedCollectionName=null,this.lastVisible=null,this.previousPageExists=!1,this.nextPageExists=!1,this.editedCollectionName="",this.editingCollectionId=null,this.passwordInput="",this.isPasswordCorrect=!1,this.passwordError="",this.actionType=null,this.correctPassword="lokmanthan",this.previousUsers=[],this.currentIndex=-1}ngOnInit(){this.fetchCollections()}openPrompt(){this.showPrompt=!0}closePrompt(){this.showPrompt=!1,this.newCollectionName=""}openModal(){this.modalService.open(this.collectionModal,{ariaLabelledBy:"modal-basic-title"})}addCollection(e){var r=this;return(0,Ie.A)(function*(){if(r.newCollectionName)try{const i=vo(r.firestore,"collections"),s=yield dU(i,{name:r.newCollectionName,active:!1,createdAt:ine()}),o=vo(s,"users");yield dU(o,{defaultUser:!0}),r.toastr.success("Collection added successfully!","Success"),e.close(),r.fetchCollections(),r.closePrompt()}catch(i){console.error("Error adding collection:",i),r.toastr.error("Error adding collection","Error")}else r.toastr.error("Collection name is required","Error")})()}fetchCollections(){var e=this;return(0,Ie.A)(function*(){try{const r=vo(e.firestore,"collections"),i=yield wa(r);console.log("Snapshot:",i.docs),i.docs.length>0?(e.collections=i.docs.map(s=>{const o=s.data();return console.log("Doc data:",o),{id:s.id,...o}}),console.log("Filtered Collections:",e.collections)):console.log("No documents found in the collections")}catch(r){console.error("Error fetching collections:",r)}})()}selectCollection(e){var r=this;return(0,Ie.A)(function*(){r.selectedCollectionId=e.id,r.selectedCollectionName=e.name,r.users=[],r.spinner.show(),r.lastVisible=null,yield r.fetchUsers(),r.fetchUserCounts(),r.spinner.hide()})()}fetchUsers(){var e=this;return(0,Ie.A)(function*(){try{const r=vo(e.firestore,`collections/${e.selectedCollectionId}/users`),i=Sb(r,rne("fullName"),EA(500),...e.lastVisible?[fU(e.lastVisible)]:[]),s=yield wa(i);s.empty?e.nextPageExists=!1:(e.lastVisible=s.docs[s.docs.length-1],e.users=s.docs.map(o=>{const a=o.data();return{id:o.id,...a}}).filter(o=>!o.defaultUser),e.nextPageExists=500===s.docs.length,e.previousPageExists=!!e.lastVisible)}catch(r){console.error("Error fetching users:",r)}})()}nextPage(){var e=this;return(0,Ie.A)(function*(){e.nextPageExists&&(e.spinner.show(),e.lastVisible&&(e.previousUsers.push(e.lastVisible),e.currentIndex++),yield e.fetchUsers(),e.spinner.hide())})()}previousPage(){var e=this;return(0,Ie.A)(function*(){e.currentIndex>=0&&(e.spinner.show(),e.currentIndex--,e.lastVisible=e.previousUsers[e.currentIndex]||null,yield e.fetchUsers(),e.spinner.hide())})()}fetchUserCounts(){var e=this;return(0,Ie.A)(function*(){try{const r=vo(e.firestore,`collections/${e.selectedCollectionId}/users`),i=Sb(r),s=yield tne(i);e.totalUserEntries=s.data().count;const o=yield wa(r);e.multiTimestampUserCount=o.docs.filter(a=>{const l=a.data().timestamp;return Array.isArray(l)&&l.length>1}).length}catch(r){console.error("Error fetching user counts:",r)}})()}toggleCollection(e,r){var i=this;return(0,Ie.A)(function*(){r.stopPropagation();const s=!e.active;i.spinner.show(),s&&(yield i.deactivateAllCollections());const o=xm(i.firestore,`collections/${e.id}`);yield wA(o,{active:s}),yield i.fetchCollections(),i.spinner.hide()})()}deactivateAllCollections(){var e=this;return(0,Ie.A)(function*(){const r=vo(e.firestore,"collections"),s=(yield wa(r)).docs.map(function(){var o=(0,Ie.A)(function*(a){const l=a.ref;yield wA(l,{active:!1})});return function(a){return o.apply(this,arguments)}}());yield Promise.all(s)})()}openPasswordModal(e){this.actionType=e,this.passwordInput="",this.isPasswordCorrect=!1,this.passwordError="",this.modalService.open(this.passwordModal)}checkPassword(){this.isPasswordCorrect=this.passwordInput===this.correctPassword,this.passwordError=this.isPasswordCorrect?"":"Incorrect password"}performAction(e){var r=this;return(0,Ie.A)(function*(){switch(e.close(),r.actionType){case"export":yield r.exportUsersToCSV();break;case"clear":yield r.clearUserData();break;case"delete":yield r.deleteCollection()}r.actionType=null})()}exportUsersToCSV(){var e=this;return(0,Ie.A)(function*(){if(!e.selectedCollectionId)return void e.toastr.error("No active collection selected","Error");const r=vo(e.firestore,`collections/${e.selectedCollectionId}/users`),a=(yield wa(r)).docs.map(_=>_.data()).map(_=>{const v=_.timestamp?.map(I=>{const A=new Date(1e3*I.seconds+I.nanoseconds/1e6);return`${A.toDateString()} at ${A.toLocaleTimeString()}`});return[_.cid,_.phone,_.organisation,v?.join(", "),_.type,_.fullName]}),l=e.papa.unparse({fields:["cid","phone","organisation","timestamps","type","name"],data:a}),c=new Blob([l],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(c),g=document.createElement("a");g.href=d,g.download="users_export.csv",g.click(),URL.revokeObjectURL(d),e.toastr.success("Users exported to CSV successfully","Export Successful")})()}clearUserData(){var e=this;return(0,Ie.A)(function*(){if(!e.selectedCollectionId)return void e.toastr.error("No active collection selected","Error");const r=vo(e.firestore,`collections/${e.selectedCollectionId}/users`),i=yield wa(r),s=TA(e.firestore);i.docs.forEach(o=>{const a=xm(e.firestore,`collections/${e.selectedCollectionId}/users/${o.id}`);o.data().defaultUser||s.delete(a)});try{yield s.commit(),e.toastr.success("User data cleared successfully","Success")}catch(o){console.error("Error clearing user data:",o),e.toastr.error("Error clearing user data","Error")}})()}deleteCollection(){var e=this;return(0,Ie.A)(function*(){if(!e.selectedCollectionId)return void e.toastr.error("No active collection selected","Error");e.spinner.show();const r=vo(e.firestore,`collections/${e.selectedCollectionId}/users`),i=yield wa(r),s=TA(e.firestore);i.docs.forEach(o=>s.delete(o.ref));try{yield s.commit();const o=xm(e.firestore,`collections/${e.selectedCollectionId}`);yield hU(o);const a=e.collections.findIndex(l=>l.id===e.selectedCollectionId);-1!==a&&e.collections.splice(a,1),e.selectedCollectionId=null,e.toastr.success("Collection and all associated users deleted successfully","Delete Successful"),e.selectedCollectionId=null,e.spinner.hide()}catch(o){console.error("Error deleting collection:",o),e.toastr.error("Error deleting collection","Error"),e.spinner.hide()}})()}openEditModal(e,r){r.stopPropagation(),r.preventDefault(),this.editingCollectionId=e.id,this.editedCollectionName=e.name,this.modalService.open(this.editCollectionModal)}updateCollectionName(e){var r=this;return(0,Ie.A)(function*(){if(r.editedCollectionName)try{const i=xm(r.firestore,`collections/${r.editingCollectionId}`);yield wA(i,{name:r.editedCollectionName}),r.editingCollectionId===r.selectedCollectionId&&(r.selectedCollectionName=r.editedCollectionName),r.toastr.success("Collection name updated successfully!","Success"),e.close(),yield r.fetchCollections()}catch(i){console.error("Error updating collection name:",i),r.toastr.error("Error updating collection name","Error")}else r.toastr.error("Collection name is required","Error")})()}static{this.\u0275fac=function(r){return new(r||n)(z(F$),z(Om),z(Xm),z(TS),z(hH))}}static{this.\u0275cmp=Ir({type:n,selectors:[["app-dashboard"]],viewQuery:function(r,i){if(1&r&&(ko(mle,7),ko(_le,7),ko(yle,5)),2&r){let s;An(s=Sn())&&(i.passwordModal=s.first),An(s=Sn())&&(i.collectionModal=s.first),An(s=Sn())&&(i.editCollectionModal=s.first)}},decls:19,vars:8,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate",3,"fullScreen"],[2,"color","white"],[1,"container","dashboard-container","mt-5"],[1,"row"],[1,"col-3","bg-light"],[1,"list-group","pt-4"],["class","list-group-item d-flex justify-content-between align-items-center cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-success","w-100",3,"click"],[1,"col-8","bg-light","mx-3"],[4,"ngIf"],["collectionModal",""],["passwordModal",""],["editCollectionModal",""],[1,"list-group-item","d-flex","justify-content-between","align-items-center","cursor-pointer",3,"click"],[1,"d-flex","gap-2","align-items-center"],[1,"d-flex","align-items-center","edit-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"checked","click"],[1,"pt-4"],[1,""],[1,"col-6"],[1,"pt-4","pb-2"],[1,"col-6","pt-4","pb-2","d-flex","justify-content-around"],[1,"btn","btn-success","rounded-pill","button-w",3,"click"],[1,"btn","btn-primary","rounded-pill","button-w",3,"click"],[1,"btn","btn-danger","rounded-pill","button-w",3,"click"],[1,"col-3"],[1,"table","table-hover"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","collectionName",1,"form-label"],["type","text","id","collectionName","name","collectionName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","password","placeholder","Enter master key",1,"form-control",3,"ngModel","ngModelChange","input"],["class","text-danger pt-2",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"text-danger","pt-2"],["type","text","placeholder","New Collection Name",1,"form-control",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(pe(0,"ngx-spinner",0),rr(1,"p",1),me(),pe(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5),He(6,vle,9,2,"li",6),kv(7,"sortBy"),pe(8,"button",7),ut("click",function(){return i.openModal()}),Qe(9,"+ Add "),me()()(),pe(10,"div",8),He(11,ble,5,0,"div",9),He(12,Ile,37,7,"div",9),me()(),He(13,Dle,15,1,"ng-template",null,10,Rs),He(15,Ale,12,3,"ng-template",null,11,Rs),He(17,Sle,11,1,"ng-template",null,12,Rs),me()),2&r&&(Pe("fullScreen",!0),be(6),Pe("ngForOf",function ox(n,t,e,r,i){const s=n+un,o=De(),a=Nl(o,s);return vg(o,s)?tx(o,ai(),t,a.transform,e,r,i,a):a.transform(e,r,i)}(7,4,i.collections,"createdAt","asc")),be(5),Pe("ngIf",!i.selectedCollectionId),be(1),Pe("ngIf",i.selectedCollectionId))},dependencies:[Bo,_o,zb,lf,xb,kb,hf,Um,df,dH,jk,gle],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.edit-btn[_ngcontent-%COMP%]{color:#a9a9a9}.edit-btn[_ngcontent-%COMP%]:hover{color:#1e2023}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#198754;border-color:#198754}li[_ngcontent-%COMP%]{border:none;list-style-type:none}.button-w[_ngcontent-%COMP%]{width:30%}"]})}}return n})();function Nle(n,t){1&n&&(pe(0,"div",17)(1,"div",18),rr(2,"span",19),me()())}function Ple(n,t){if(1&n&&(pe(0,"tr")(1,"td"),Qe(2),me(),pe(3,"td"),Qe(4),me(),pe(5,"td"),Qe(6),me(),pe(7,"td"),Qe(8),me(),pe(9,"td"),Qe(10),me()()),2&n){const e=t.$implicit;be(2),ui(e.cid),be(2),ui(e.fullName),be(2),ui(e.phone),be(2),ui(e.organisation),be(2),ui(e.type)}}function Mle(n,t){if(1&n&&(pe(0,"table",22)(1,"thead")(2,"tr")(3,"th"),Qe(4,"CID"),me(),pe(5,"th"),Qe(6,"Full Name"),me(),pe(7,"th"),Qe(8,"Phone"),me(),pe(9,"th"),Qe(10,"Organisation"),me(),pe(11,"th"),Qe(12,"Type"),me()()(),pe(13,"tbody"),He(14,Ple,11,5,"tr",23),me()()),2&n){const e=Ge(2);be(14),Pe("ngForOf",e.users)}}function Ole(n,t){1&n&&(pe(0,"div",24)(1,"p",25),Qe(2,"No users available in the table."),me()())}function xle(n,t){if(1&n&&(pe(0,"div"),He(1,Mle,15,1,"table",20),He(2,Ole,3,0,"div",21),me()),2&n){const e=Ge();be(1),Pe("ngIf",e.users.length>0),be(1),Pe("ngIf",0===e.users.length)}}let kle=(()=>{class n{constructor(e,r,i,s){this.firestore=e,this.toastr=r,this.papa=i,this.spinner=s,this.users=[],this.isLoading=!1,this.isFetching=!1,this.lastVisible=null,this.limit=500,this.allUsersFetched=!1}ngOnInit(){this.fetchUsers()}fetchUsers(){var e=this;return(0,Ie.A)(function*(){if(e.allUsersFetched)return void console.log("not called");console.log("called fetchUsers"),e.isFetching=!0,e.spinner.show();const r=vo(e.firestore,"master-collection");let i=Sb(r,EA(e.limit));e.lastVisible&&(i=Sb(r,EA(e.limit),fU(e.lastVisible)));const s=yield wa(i);s.empty?e.allUsersFetched=!0:(e.lastVisible=s.docs[s.docs.length-1],e.users=e.users.concat(s.docs.map(o=>{const a=o.data();return{id:o.id,cid:a.cid,fullName:a.fullName,phone:a.phone,organisation:a.organisation,type:a.type}}))),e.isFetching=!1,e.spinner.hide()})()}onScroll(){var e=this;return(0,Ie.A)(function*(){const i="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,s=document.body,o=document.documentElement,a=Math.max(s.scrollHeight,s.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);i+window.scrollY>=a-100&&!e.isFetching&&!e.allUsersFetched&&(yield e.fetchUsers())})()}triggerFileInput(e){console.log("Button clicked, triggering file input..."),e.click()}importCSV(e){var r=this;const i=e.target.files[0];var s;i&&(this.isLoading=!0,this.papa.parse(i,{header:!0,skipEmptyLines:!0,complete:(s=(0,Ie.A)(function*(o){yield r.processCSVData(o.data),r.isLoading=!1}),function(a){return s.apply(this,arguments)}),error:s=>{this.toastr.error("Error parsing CSV file","Import Failed"),console.error("Error parsing CSV file:",s),this.isLoading=!1}}))}processCSVData(e){var r=this;return(0,Ie.A)(function*(){const s=Object.keys(e[0]);if(!["cid","fullName","phone","organisation","type"].every(d=>s.includes(d)))return void r.toastr.error("CSV headers do not match the required format.","Import Failed");const o=vo(r.firestore,"master-collection"),l=(yield wa(o)).docs.map(d=>hU(d.ref));yield Promise.all(l);const c=TA(r.firestore);e.forEach(d=>{const g=xm(o);c.set(g,{cid:d.cid,fullName:d.fullName,phone:d.phone,organisation:d.organisation,type:d.type})}),yield c.commit(),r.toastr.success("Data imported successfully","Import Successful"),window.location.reload(),r.allUsersFetched=!1,yield r.fetchUsers()})()}exportCSV(){const e=vo(this.firestore,"master-collection");wa(e).then(r=>{const i=r.docs.map(c=>({cid:c.data().cid,fullName:c.data().fullName,phone:c.data().phone,organisation:c.data().organisation,type:c.data().type})),o=i.length?i:[],a=this.papa.unparse(o.length>0?o:[{}],{header:!0,quotes:!1,delimiter:",",newline:"\r\n",escapeFormulae:!0}),l=0===o.length?["cid","fullName","phone","organisation","type"].join(",")+"\r\n":a;this.downloadCSV(l)})}downloadCSV(e){const r=new Blob([e],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.setAttribute("download","exported_data.csv"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}static{this.\u0275fac=function(r){return new(r||n)(z(Om),z(Xm),z(hH),z(TS))}}static{this.\u0275cmp=Ir({type:n,selectors:[["app-settings"]],hostBindings:function(r,i){1&r&&ut("scroll",function(){return i.onScroll()},0,wP)},decls:23,vars:6,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-clip-rotate",3,"fullScreen"],[2,"color","white"],[1,"container","mt-5","px-4","bg-light"],[1,"row","mb-4"],[1,"col","text-center"],[1,"row","mb-3"],[1,"col-12","text-center"],[1,"col-3"],[1,"col-5"],[1,"col-2","text-center"],["class","text-center mb-3",4,"ngIf"],["type","file",1,"d-none",3,"disabled","change"],["fileInput",""],[1,"btn","btn-sm","btn-primary","form-control","rounded-pill",3,"disabled","click"],[1,"col-2"],[1,"btn","btn-sm","btn-success","form-control","rounded-pill",3,"disabled","click"],[4,"ngIf"],[1,"text-center","mb-3"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","table",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-muted"]],template:function(r,i){if(1&r){const s=Zr();pe(0,"ngx-spinner",0),rr(1,"p",1),me(),pe(2,"div",2)(3,"div",3),rr(4,"div",4),me(),pe(5,"div",5)(6,"div",6)(7,"div",5)(8,"div",7)(9,"h3"),Qe(10,"Master Data"),me()(),rr(11,"div",8),pe(12,"div",9),He(13,Nle,3,0,"div",10),pe(14,"div")(15,"input",11,12),ut("change",function(a){return i.importCSV(a)}),me(),pe(17,"button",13),ut("click",function(){dn(s);const a=ps(16);return hn(i.triggerFileInput(a))}),Qe(18," Import CSV "),me()()(),pe(19,"div",14)(20,"button",15),ut("click",function(){return i.exportCSV()}),Qe(21," Export CSV "),me()()(),He(22,xle,3,2,"div",16),me()()()}2&r&&(Pe("fullScreen",!0),be(13),Pe("ngIf",i.isLoading),be(2),Pe("disabled",i.isLoading),be(2),Pe("disabled",i.isLoading),be(3),Pe("disabled",i.isLoading),be(2),Pe("ngIf",!i.isFetching||i.users.length>0))},dependencies:[Bo,_o,dH]})}}return n})();ft(438);var Ef=ft(345);Ef.A.registerVersion("firebase","10.14.1","app-compat");const Lle=["ngOnDestroy"];class fH{constructor(t){return t}}const DS=new Ke("angularfire2.app.options"),CS=new Ke("angularfire2.app.name");function pH(n,t,e){const i="object"==typeof e&&e||{};i.name=i.name||"string"==typeof e&&e||"[DEFAULT]";const o=Ef.A.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>Ef.A.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;jle("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new fH(o)}const jle=(n,...t)=>{},$le={provide:fH,useFactory:pH,deps:[DS,jt,[new Ei,CS]]};let Hle=(()=>{class n{static initializeApp(e,r){return{ngModule:n,providers:[{provide:DS,useValue:e},{provide:CS,useValue:r}]}}constructor(e){Ef.A.registerVersion("angularfire",iu.full,"core"),Ef.A.registerVersion("angularfire",iu.full,"app-compat"),Ef.A.registerVersion("angular",DT.full,e.toString())}static \u0275fac=function(r){return new(r||n)(Ae(Wa))};static \u0275mod=en({type:n});static \u0275inj=rn({providers:[$le]})}return n})();typeof module<"u"&&module;globalThis.\u0275AngularfireInstanceCache||=[];class qle extends K{constructor(t=1/0,e=1/0,r=K1){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;e||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!t.closed;o+=r?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function mH(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,L({connector:()=>new qle(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _H(n,t){return N(t)?ke(()=>n,t):ke(()=>n)}const Qle=new Ke("angularfire2.auth.use-emulator"),Yle=new Ke("angularfire2.auth.settings"),Jle=new Ke("angularfire2.auth.tenant-id"),Zle=new Ke("angularfire2.auth.langugage-code"),Xle=new Ke("angularfire2.auth.use-device-language"),ece=new Ke("angularfire.auth.persistence");let hE=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,r,i,s,o,a,l,c,d,g,_,v){const I=new K,A=M(void 0).pipe(Tr(o.outsideAngular),ke(()=>s.runOutsideAngular(()=>Promise.resolve().then(ft.bind(ft,438)))),xe(()=>pH(e,s,r)),xe(S=>((n,t,e,r,i,s,o,a)=>function zle(n,t,e,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function Gle(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(i,o),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}(`${n.name}.auth`,0,0,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[c,d]of Object.entries(o))l.settings[c]=d;return a&&l.setPersistence(a),l},[e,r,i,s,o,a]))(S,s,a,c,d,g,l,_)),mH({bufferSize:1,refCount:!1}));if(c1(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{A.pipe(Ll()).subscribe();const S=A.pipe(ke(Q=>Q.getRedirectResult().then(X=>X,()=>null)),DV,mH({bufferSize:1,refCount:!1})),B=A.pipe(ke(Q=>new tt(X=>({unsubscribe:s.runOutsideAngular(()=>Q.onAuthStateChanged(ye=>X.next(ye),ye=>X.error(ye),()=>X.complete()))})))),x=A.pipe(ke(Q=>new tt(X=>({unsubscribe:s.runOutsideAngular(()=>Q.onIdTokenChanged(ye=>X.next(ye),ye=>X.error(ye),()=>X.complete()))}))));this.authState=S.pipe(_H(B),mi(o.outsideAngular),Tr(o.insideAngular)),this.user=S.pipe(_H(x),mi(o.outsideAngular),Tr(o.insideAngular)),this.idToken=this.user.pipe(ke(Q=>Q?D(Q.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(ke(Q=>Q?D(Q.getIdTokenResult()):M(null))),this.credential=w(S,I,this.authState.pipe(ei(Q=>!Q))).pipe(xe(Q=>Q?.user?Q:null),mi(o.outsideAngular),Tr(o.insideAngular))}return((n,t,e,r={})=>new Proxy(n,{get:(i,s)=>e.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(Lle.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(d=>{const g=d?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,g),g})})})}))(this,A,s,{spy:{apply:(S,B,x)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&x.then(Q=>I.next(Q))}}})}static \u0275fac=function(r){return new(r||n)(Ae(DS),Ae(CS,8),Ae(Wa),Ae(jt),Ae(qg),Ae(Qle,8),Ae(Yle,8),Ae(Jle,8),Ae(Zle,8),Ae(Xle,8),Ae(ece,8),Ae(C0,8))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),nce=(()=>{class n{constructor(e,r,i){this.afAuth=e,this.toastr=r,this.router=i,this.isLoading=!1}onSignIn(e){const{email:r,password:i}=e.value;e.valid&&(this.isLoading=!0,this.afAuth.signInWithEmailAndPassword(r,i).then(()=>{this.router.navigate(["/dashboard"])}).catch(s=>{console.error("Error during Sign In:",s),this.toastr.error(s,"Login Failed"),this.toastr.error("auth/wrong-password"===s.code?"Incorrect password. Please try again.":"An error occurred. Please try again.","Login Failed")}).finally(()=>{this.isLoading=!1}))}static{this.\u0275fac=function(r){return new(r||n)(z(hE),z(Xm),z(Xi))}}static{this.\u0275cmp=Ir({type:n,selectors:[["app-login"]],decls:21,vars:1,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[3,"ngSubmit"],["signInForm","ngForm"],[1,"form-group","mb-3"],["for","email",1,"d-none"],["type","email","id","email","placeholder","Email","name","email","ngModel","","required","",1,"form-control"],["for","password",1,"d-none"],["type","password","id","password","name","password","placeholder","Password","ngModel","","required","",1,"form-control"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"]],template:function(r,i){if(1&r){const s=Zr();pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),Qe(6,"Check Point"),me()(),pe(7,"div",5)(8,"form",6,7),ut("ngSubmit",function(){dn(s);const a=ps(9);return hn(i.onSignIn(a))}),pe(10,"div",8)(11,"label",9),Qe(12,"Email"),me(),rr(13,"input",10),me(),pe(14,"div",8)(15,"label",11),Qe(16,"Password"),me(),rr(17,"input",12),me(),pe(18,"div",13)(19,"button",14),Qe(20,"Log In"),me()()()()()()()()}if(2&r){const s=ps(9);be(19),Pe("disabled",s.invalid||i.isLoading)}},dependencies:[zb,lf,xb,kb,hf,Um,df],styles:["input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid;border-radius:inherit}"]})}}return n})(),rce=(()=>{class n{constructor(e,r){this.afAuth=e,this.router=r}onSignUp(e){const{email:r,password:i}=e.value;e.valid&&this.afAuth.createUserWithEmailAndPassword(r,i).then(()=>{this.router.navigate(["/dashboard"])}).catch(s=>{console.error("Error during Sign Up:",s)})}static{this.\u0275fac=function(r){return new(r||n)(z(hE),z(Xi))}}static{this.\u0275cmp=Ir({type:n,selectors:[["app-signup"]],decls:26,vars:1,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[3,"ngSubmit"],["signUpForm","ngForm"],[1,"form-group","mb-3"],["for","email"],["type","email","id","email","name","email","ngModel","","required","",1,"form-control"],["for","password"],["type","password","id","password","name","password","ngModel","","required","","minlength","6",1,"form-control"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"card-footer","text-center"],["routerLink","/signin"]],template:function(r,i){if(1&r){const s=Zr();pe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),Qe(6,"Sign Up"),me()(),pe(7,"div",5)(8,"form",6,7),ut("ngSubmit",function(){dn(s);const a=ps(9);return hn(i.onSignUp(a))}),pe(10,"div",8)(11,"label",9),Qe(12,"Email"),me(),rr(13,"input",10),me(),pe(14,"div",8)(15,"label",11),Qe(16,"Password"),me(),rr(17,"input",12),me(),pe(18,"div",13)(19,"button",14),Qe(20,"Sign Up"),me()()()(),pe(21,"div",15)(22,"p"),Qe(23,"Already have an account? "),pe(24,"a",16),Qe(25,"Sign In"),me()()()()()()()}if(2&r){const s=ps(9);be(19),Pe("disabled",s.invalid)}},dependencies:[Gg,zb,lf,xb,kb,hf,KA,Um,df],encapsulation:2})}}return n})(),fE=(()=>{class n{constructor(e,r){this.router=e,this.auth=r}canActivate(e,r){return new tt(i=>{const s=this.auth.onAuthStateChanged(o=>{o?"login"===e.routeConfig?.path||"signup"===e.routeConfig?.path?(this.router.navigate(["/dashboard"]),i.next(!1)):i.next(!0):"dashboard"===e.routeConfig?.path||"settings"===e.routeConfig?.path?(this.router.navigate(["/login"]),i.next(!1)):i.next(!0),s()})})}static{this.\u0275fac=function(r){return new(r||n)(Ae(Xi),Ae(S0))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ice=[{path:"dashboard",component:Rle,canActivate:[fE]},{path:"settings",component:kle,canActivate:[fE]},{path:"login",component:nce,canActivate:[fE]},{path:"signup",component:rce,canActivate:[fE]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}];let sce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({imports:[bV.forRoot(ice),bV]})}}return n})(),oce=(()=>{class n{constructor(e,r){this.afAuth=e,this.router=r}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}static{this.\u0275fac=function(r){return new(r||n)(z(hE),z(Xi))}}static{this.\u0275cmp=Ir({type:n,selectors:[["app-root"]],decls:16,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["href","#",1,"navbar-brand"],["src","../assets/lokmanthan-logo.png","width","100%","height","40","alt",""],[1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["routerLink","/dashboard",1,"nav-link"],["routerLink","/settings",1,"nav-link"],[1,"btn","btn-link","text-danger","text-decoration-none",3,"click"]],template:function(r,i){1&r&&(pe(0,"nav",0)(1,"div",1)(2,"a",2),rr(3,"img",3),me(),pe(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),Qe(8,"Dashboard"),me()(),pe(9,"li",6)(10,"a",8),Qe(11,"Settings"),me()(),pe(12,"li",6)(13,"button",9),ut("click",function(){return i.logout()}),Qe(14,"Logout"),me()()()()()(),rr(15,"router-outlet"))},dependencies:[B1,Gg]})}}return n})();const yH="firebasestorage.googleapis.com";class Br extends Kn.g{constructor(t,e,r=0){super(AS(t),`Firebase Storage: ${e} (${AS(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Br.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return AS(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Pr||{});function AS(n){return"storage/"+n}function RS(n){return new Br(Pr.INVALID_ARGUMENT,n)}function TH(){return new Br(Pr.APP_DELETED,"The Firebase app was deleted.")}class vs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=vs.makeFromUrl(t,e)}catch{return new vs(t,"")}if(""===r.path)return r;throw function mce(n){return new Br(Pr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(X){X.path_=decodeURIComponent(X.path)}const g=e.replace(/[.]/g,"\\."),Q=[{regex:a,indices:{bucket:1,path:3},postModify:function s(X){"/"===X.path.charAt(X.path.length-1)&&(X.path_=X.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${e===yH?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let X=0;X<Q.length;X++){const ye=Q[X],Ne=ye.regex.exec(t);if(Ne){let P=Ne[ye.indices.path];P||(P=""),r=new vs(Ne[ye.indices.bucket],P),ye.postModify(r);break}}if(null==r)throw function gce(n){return new Br(Pr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return r}}class wce{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function PS(n,t,e,r){if(r<t)throw RS(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw RS(`Invalid value for '${n}'. Expected ${e} or less.`)}var wf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(wf||{});class Sce{constructor(t,e,r,i,s,o,a,l,c,d,g,_=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,I)=>{this.resolve_=v,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Dce(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=function SS(){return new Br(Pr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?TH():function EH(){return new Br(Pr.CANCELED,"User canceled the upload/download.")}():function bH(){return new Br(Pr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new gE(!1,null,!0)):this.backoffId_=function Tce(n,t,e){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function d(...S){c||(c=!0,t.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,n(v,l())},S)}function _(){s&&clearTimeout(s)}function v(S,...B){if(c)return void _();if(S)return _(),void d.call(null,S,...B);if(l()||o)return _(),void d.call(null,S,...B);let Q;r<64&&(r*=2),1===a?(a=2,Q=0):Q=1e3*(r+Math.random()),g(Q)}let I=!1;function A(S){I||(I=!0,_(),!c&&(null!==i?(S||(a=2),clearTimeout(i),g(0)):S||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,A(!0)},e),A}((r,i)=>{if(i)return void r(!1,new gE(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===wf.NO_ERROR,l=s.getStatus();if(!a||function CH(n,t){const e=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||i||s}(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===wf.ABORT;return void r(!1,new gE(!1,null,d))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new gE(c,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Ice(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class gE{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}class Uu{constructor(t,e){this._service=t,this._location=e instanceof vs?e:vs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Uu(t,e)}get root(){const t=new vs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function PH(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}(this._location.path)}get storage(){return this._service}get parent(){const t=function $ce(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new vs(this._location.bucket,t);return new Uu(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function Ece(n){return new Br(Pr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function WH(n,t){const e=t?.storageBucket;return null==e?null:vs.makeFromBucketSpec(e,n)}class LS{constructor(t,e,r,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?vs.makeFromBucketSpec(i,this._host):WH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?vs.makeFromBucketSpec(this._url,t):WH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){PS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){PS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ie.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ie.A)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Uu(this,t)}_makeRequest(t,e,r,i,s=!0){if(this._deleted)return new wce(TH());{const o=function Oce(n,t,e,r,i,s,o=!0){const a=function DH(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function Pce(n,t){t&&(n["X-Firebase-GMPID"]=t)}(c,t),function Rce(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(c,e),function Nce(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(c,s),function Mce(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(c,r),new Sce(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(t,this._appId,r,i,e,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var r=this;return(0,Ie.A)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,i,s).getPromise()})()}}const qH="@firebase/storage",QH="storage";function Aue(n=(0,Fr.getApp)(),t){n=(0,Kn.Ku)(n);const r=(0,Fr._getProvider)(n,QH).getImmediate({identifier:t}),i=(0,Kn.yU)("storage");return i&&function Sue(n,t,e,r={}){!function Cue(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Kn.Fy)(i,n.app.options.projectId))}(n,t,e,r)}(r,...i),r}function Rue(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new LS(e,r,i,t,Fr.SDK_VERSION)}!function Nue(){(0,Fr._registerComponent)(new CV.uA(QH,Rue,"PUBLIC").setMultipleInstances(!0)),(0,Fr.registerVersion)(qH,"0.13.2",""),(0,Fr.registerVersion)(qH,"0.13.2","esm2017")}();class BS{constructor(t){return t}}const YH="storage",US=new Ke("angularfire2.storage-instances");function Oue(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new BS(r)}}const xue={provide:class Pue{constructor(){return D0(YH)}},deps:[[new Ei,US]]},kue={provide:BS,useFactory:function Mue(n,t){const e=Y1(YH,n,t);return e&&new BS(e)},deps:[[new Ei,US],bh]};let Fue=(()=>{class n{constructor(){(0,Fr.registerVersion)("angularfire",iu.full,"gcs")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=en({type:n});static \u0275inj=rn({providers:[kue,xue]})}return n})();function Vue(n,...t){return{ngModule:Fue,providers:[{provide:US,useFactory:Oue(n),multi:!0,deps:[jt,Cr,qg,A0,[new Ei,Z1],[new Ei,C0],...t]}]}}const Lue=ki(Aue,!0),JH_firebaseConfig={apiKey:"AIzaSyCA-AEZDixfUWSL1vJ3ElQ8XjnBCP9o1ms",authDomain:"lokmanthan-e11e4.firebaseapp.com",projectId:"lokmanthan-e11e4",storageBucket:"lokmanthan-e11e4.firebasestorage.app",messagingSenderId:"46181076003",appId:"1:46181076003:web:9141f4d21bf66327c33596",measurementId:"G-5YYREBZFG5"};function ZH(n){return new he(3e3,!1)}function cc(n){switch(n.length){case 0:return new Zm;case 1:return n[0];default:return new aH(n)}}function XH(n,t,e=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==o,g=d&&a||new Map;l.forEach((_,v)=>{let I=v,A=_;if("offset"!==v)switch(I=n.normalizePropertyName(I,i),A){case"!":A=e.get(v);break;case dl:A=r.get(v);break;default:A=n.normalizeStyleValue(v,I,A,i)}g.set(I,A)}),d||s.push(g),a=g,o=c}),i.length)throw function ade(n){return new he(3502,!1)}();return s}function jS(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&$S(e,"start",n)));break;case"done":n.onDone(()=>r(e&&$S(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&$S(e,"destroy",n)))}}function $S(n,t,e){const s=HS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function HS(n,t,e,r,i="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Js(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function e3(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const vde=(()=>typeof document>"u"?null:document.documentElement)();function zS(n){const t=n.parentNode||n.host||null;return t===vde?null:t}let ju=null,t3=!1;function n3(n,t){for(;t;){if(t===n)return!0;t=zS(t)}return!1}function r3(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]}let i3=(()=>{class n{validateStyleProperty(e){return function Ede(n){ju||(ju=function wde(){return typeof document<"u"?document.body:null}()||{},t3=!!ju.style&&"WebkitAppearance"in ju.style);let t=!0;return ju.style&&!function bde(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ju.style,!t&&t3&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ju.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return n3(e,r)}getParentElement(e){return zS(e)}query(e,r,i){return r3(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,o,a=[],l){return new Zm(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})(),GS=(()=>{class n{static{this.NOOP=new i3}}return n})();const Tde=1e3,WS="ng-enter",vE="ng-leave",bE="ng-trigger",EE=".ng-trigger",o3="ng-animating",qS=".ng-animating";function pl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:KS(parseFloat(t[1]),t[2])}function KS(n,t){return"s"===t?n*Tde:n}function wE(n,t,e){return n.hasOwnProperty("duration")?n:function Dde(n,t,e){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(ZH()),{duration:0,delay:0,easing:""};i=KS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=KS(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function Bue(){return new he(3100,!1)}()),a=!0),s<0&&(t.push(function Uue(){return new he(3101,!1)}()),a=!0),a&&t.splice(l,0,ZH())}return{duration:i,delay:s,easing:o}}(n,t,e)}function i_(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function a3(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function uc(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function Aa(n,t,e){t.forEach((r,i)=>{const s=YS(i);e&&!e.has(i)&&e.set(i,n.style[s]),n.style[s]=r})}function $u(n,t){t.forEach((e,r)=>{const i=YS(r);n.style[i]=""})}function s_(n){return Array.isArray(n)?1==n.length?n[0]:oH(n):n}const QS=new RegExp("{{\\s*(.+?)\\s*}}","g");function c3(n){let t=[];if("string"==typeof n){let e;for(;e=QS.exec(n);)t.push(e[1]);QS.lastIndex=0}return t}function o_(n,t,e){const r=n.toString(),i=r.replace(QS,(s,o)=>{let a=t[o];return null==a&&(e.push(function $ue(n){return new he(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function TE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Sde=/-+([a-z0-9])/g;function YS(n){return n.replace(Sde,(...t)=>t[1].toUpperCase())}function Zs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Hue(n){return new he(3004,!1)}()}}function u3(n,t){return window.getComputedStyle(n)[t]}const IE="*";function Pde(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Mde(n,t,e){if(":"==n[0]){const l=function Ode(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function rde(n){return new he(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function nde(n){return new he(3015,!1)}()),t;const i=r[1],s=r[2],o=r[3];t.push(d3(i,o));"<"==s[0]&&!(i==IE&&o==IE)&&t.push(d3(o,i))}(r,e,t)):e.push(n),e}const DE=new Set(["true","1"]),CE=new Set(["false","0"]);function d3(n,t){const e=DE.has(n)||CE.has(n),r=DE.has(t)||CE.has(t);return(i,s)=>{let o=n==IE||n==i,a=t==IE||t==s;return!o&&e&&"boolean"==typeof i&&(o=i?DE.has(n):CE.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?DE.has(t):CE.has(t)),o&&a}}const xde=new RegExp("s*:selfs*,?","g");function JS(n,t,e,r){return new kde(n).build(t,e,r)}class kde{constructor(t){this._driver=t}build(t,e,r){const i=new Lde(e);return this._resetContextStyleTimingState(i),Zs(this,s_(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Gue(){return new he(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,o.push(l)}else e.errors.push(function Wue(){return new he(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{c3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(TE(s.values()),e.errors.push(function que(n,t){return new he(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Zs(this,s_(t.animation),e);return{type:1,matchers:Pde(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Hu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Zs(this,r,e)),options:Hu(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(o=>{e.currentTime=r;const a=Zs(this,o,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:s,options:Hu(t.options)}}visitAnimate(t,e){const r=function Ude(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ZS(wE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ZS(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=wE(e,t);return ZS(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:lc({});if(5==s.type)i=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=lc(c)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===dl?r.push(a):e.errors.push(new he(3002,!1)):r.push(a3(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l);let g=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(e.errors.push(function Que(n,t,e,r,i){return new he(3010,!1)}()),g=!1),s=d.startTime),g&&c.set(l,{startTime:s,endTime:i}),e.options&&function Ade(n,t,e){const r=t.params||{},i=c3(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function jue(n){return new he(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Yue(){return new he(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const d=t.steps.map(B=>{const x=this._makeStyleAst(B,e);let Q=null!=x.offset?x.offset:function Bde(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(x.styles),X=0;return null!=Q&&(s++,X=x.offset=Q),l=l||X<0||X>1,a=a||X<c,c=X,o.push(X),x});l&&e.errors.push(function Jue(){return new he(3012,!1)}()),a&&e.errors.push(function Zue(){return new he(3200,!1)}());const g=t.steps.length;let _=0;s>0&&s<g?e.errors.push(function Xue(){return new he(3202,!1)}()):0==s&&(_=1/(g-1));const v=g-1,I=e.currentTime,A=e.currentAnimateTimings,S=A.duration;return d.forEach((B,x)=>{const Q=_>0?x==v?1:_*x:o[x],X=Q*S;e.currentTime=I+A.delay+X,A.duration=X,this._validateStyleAst(B,e),B.offset=Q,r.styles.push(B)}),r}visitReference(t,e){return{type:8,animation:Zs(this,s_(t.animation),e),options:Hu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Hu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Hu(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function Fde(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(xde,"")),n=n.replace(/@\*/g,EE).replace(/@\w+/g,e=>EE+"-"+e.slice(1)).replace(/:animating/g,qS),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,Js(e.collectedStyles,e.currentQuerySelector,new Map);const a=Zs(this,s_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Hu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ede(){return new he(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:wE(t.timings,e.errors,!0);return{type:12,animation:Zs(this,s_(t.animation),e),timings:r,options:null}}}class Lde{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hu(n){return n?(n=i_(n)).params&&(n.params=function Vde(n){return n?i_(n):null}(n.params)):n={},n}function ZS(n,t,e){return{duration:n,delay:t,easing:e}}function XS(n,t,e,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class AE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Hde=new RegExp(":enter","g"),Gde=new RegExp(":leave","g");function eR(n,t,e,r,i,s=new Map,o=new Map,a,l,c=[]){return(new Wde).buildKeyframes(n,t,e,r,i,s,o,a,l,c)}class Wde{buildKeyframes(t,e,r,i,s,o,a,l,c,d=[]){c=c||new AE;const g=new tR(t,e,c,i,s,d,[]);g.options=l;const _=l.delay?pl(l.delay):0;g.currentTimeline.delayNextStep(_),g.currentTimeline.setStyles([o],null,g.errors,l),Zs(this,r,g);const v=g.timelines.filter(I=>I.containsAnimation());if(v.length&&a.size){let I;for(let A=v.length-1;A>=0;A--){const S=v[A];if(S.element===e){I=S;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([a],null,g.errors,l)}return v.length?v.map(I=>I.buildKeyframes()):[XS(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const s=i?.delay;if(s){const o="number"==typeof s?s:pl(o_(s,i?.params??{},e.errors));r.delayNextStep(o)}}}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const o=null!=r.duration?pl(r.duration):null,a=null!=r.delay?pl(r.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Zs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=SE);const o=pl(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Zs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?pl(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Zs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return wE(e.params?o_(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?pl(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=SE);let o=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const g=e.createSubContext(t.options,c);s&&g.delayNextStep(s),c===e.element&&(l=g.currentTimeline),Zs(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const g=d.currentTime;Zs(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const SE={};class tR{constructor(t,e,r,i,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=SE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new RE(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=pl(r.duration)),null!=r.delay&&(i.delay=pl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=o_(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new tR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=SE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new qde(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(Hde,"."+this._enterClassName)).replace(Gde,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function tde(n){return new he(3014,!1)}()),a}}class RE{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new RE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||dl),this._currentKeyframe.set(e,dl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},o=function Kde(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)e.set(s,dl)}else uc(i,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=o_(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??dl),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=uc(a,new Map,this._backFill);c.forEach((d,g)=>{"!"===d?t.add(g):d===dl&&e.add(g)}),r||c.set("offset",l/this.duration),i.push(c)});const s=t.size?TE(t.values()):[],o=e.size?TE(e.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return XS(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class qde extends RE{constructor(t,e,r,i,s,o,a=!1){super(t,e,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=r+e,a=e/o,l=uc(t[0]);l.set("offset",0),s.push(l);const c=uc(t[0]);c.set("offset",p3(a)),s.push(c);const d=t.length-1;for(let g=1;g<=d;g++){let _=uc(t[g]);const v=_.get("offset");_.set("offset",p3((e+v*r)/o)),s.push(_)}r=o,e=0,i="",t=s}return XS(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function p3(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class nR{}const Qde=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yde extends nR{normalizePropertyName(t,e){return YS(t)}normalizeStyleValue(t,e,r,i){let s="";const o=r.toString().trim();if(Qde.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function zue(n,t){return new he(3005,!1)}())}return o+s}}function g3(n,t,e,r,i,s,o,a,l,c,d,g,_){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:g,errors:_}}const rR={};class m3{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function Jde(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,s,o,a,l,c,d){const g=[],_=this.ast.options&&this.ast.options.params||rR,I=this.buildStyles(r,a&&a.params||rR,g),A=l&&l.params||rR,S=this.buildStyles(i,A,g),B=new Set,x=new Map,Q=new Map,X="void"===i,ye={params:Zde(A,_),delay:this.ast.options?.delay},Ne=d?[]:eR(t,e,this.ast.animation,s,o,I,S,ye,c,g);let F=0;if(Ne.forEach(k=>{F=Math.max(k.duration+k.delay,F)}),g.length)return g3(e,this._triggerName,r,i,X,I,S,[],[],x,Q,F,g);Ne.forEach(k=>{const $=k.element,Y=Js(x,$,new Set);k.preStyleProps.forEach(V=>Y.add(V));const ne=Js(Q,$,new Set);k.postStyleProps.forEach(V=>ne.add(V)),$!==e&&B.add($)});const P=TE(B.values());return g3(e,this._triggerName,r,i,X,I,S,Ne,P,x,Q,F)}}function Zde(n,t){const e=i_(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class Xde{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=i_(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=o_(o,i,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),r.set(a,o)})}),r}}class the{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new Xde(i.style,i.options&&i.options.params||{},r))}),_3(this.states,"true","1"),_3(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new m3(t,i,this.states))}),this.fallbackTransition=function nhe(n,t,e){return new m3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(o=>o.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function _3(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const rhe=new AE;class ihe{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],s=JS(this._driver,e,r,[]);if(r.length)throw function lde(n){return new he(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,r){const i=t.element,s=XH(this._normalizer,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=eR(this._driver,e,s,WS,vE,new Map,new Map,r,rhe,i),o.forEach(d=>{const g=Js(a,d.element,new Map);d.postStyleProps.forEach(_=>g.set(_,null))})):(i.push(function cde(){return new he(3300,!1)}()),o=[]),i.length)throw function ude(n){return new he(3504,!1)}();a.forEach((d,g)=>{d.forEach((_,v)=>{d.set(v,this._driver.computeStyle(g,v,dl))})});const c=cc(o.map(d=>{const g=a.get(d.element);return this._buildPlayer(d,new Map,g)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function dde(n){return new he(3301,!1)}();return e}listen(t,e,r,i){const s=HS(e,"","","");return jS(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const y3="ng-animate-queued",iR="ng-animate-disabled",che=[],v3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uhe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qo="__ng_removed";class sR{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function phe(n){return n??null}(r?t.value:t),r){const s=i_(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const a_="void",oR=new sR(a_);class dhe{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wo(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function hde(n,t){return new he(3302,!1)}();if(null==r||0==r.length)throw function fde(n){return new he(3303,!1)}();if(!function ghe(n){return"start"==n||"done"==n}(r))throw function pde(n,t){return new he(3400,!1)}();const s=Js(this._elementListeners,t,[]),o={name:e,phase:r,callback:i};s.push(o);const a=Js(this._engine.statesByElement,t,new Map);return a.has(e)||(wo(t,bE),wo(t,bE+"-"+e),a.set(e,oR)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function gde(n){return new he(3401,!1)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),o=new aR(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(wo(t,bE),wo(t,bE+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new sR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=oR),c.value!==a_&&l.value===c.value){if(!function yhe(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const A=[],S=s.matchStyles(l.value,l.params,A),B=s.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{$u(t,S),Aa(t,B)})}return}const _=Js(this._engine.playersByElement,t,[]);_.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let v=s.matchTransition(l.value,c.value,t,c.params),I=!1;if(!v){if(!i)return;v=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:c,player:o,isFallbackTransition:I}),I||(wo(t,y3),o.onStart(()=>{Df(t,y3)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);const S=this._engine.playersByElement.get(t);if(S){let B=S.indexOf(o);B>=0&&S.splice(B,1)}}),this.players.push(o),_.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,EE,!0);r.forEach(i=>{if(i[qo])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,a_,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),r&&cc(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||oR,d=new sR(a_),g=new aR(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:g,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[qo];(!s||s===v3)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){wo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=HS(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,jS(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class hhe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new dhe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(t,e,r,i){if(NE(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!NE(e))return;const s=e[qo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wo(t,iR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Df(t,iR))}removeNode(t,e,r){if(NE(e)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[qo]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return NE(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,EE,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,qS,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return cc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[qo];if(e&&e.setForRemoval){if(t[qo]=v3,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(iR)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?cc(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function mde(n){return new he(3402,!1)}()}_flushAnimations(t,e){const r=new AE,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Xe=>{d.add(Xe);const st=this.driver.query(Xe,".ng-animate-queued",!0);for(let vt=0;vt<st.length;vt++)d.add(st[vt])});const g=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=w3(_,this.collectedEnterElements),I=new Map;let A=0;v.forEach((Xe,st)=>{const vt=WS+A++;I.set(st,vt),Xe.forEach(Ht=>wo(Ht,vt))});const S=[],B=new Set,x=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const st=this.collectedLeaveElements[Xe],vt=st[qo];vt&&vt.setForRemoval&&(S.push(st),B.add(st),vt.hasAnimation?this.driver.query(st,".ng-star-inserted",!0).forEach(Ht=>B.add(Ht)):x.add(st))}const Q=new Map,X=w3(_,Array.from(B));X.forEach((Xe,st)=>{const vt=vE+A++;Q.set(st,vt),Xe.forEach(Ht=>wo(Ht,vt))}),t.push(()=>{v.forEach((Xe,st)=>{const vt=I.get(st);Xe.forEach(Ht=>Df(Ht,vt))}),X.forEach((Xe,st)=>{const vt=Q.get(st);Xe.forEach(Ht=>Df(Ht,vt))}),S.forEach(Xe=>{this.processLeaveNode(Xe)})});const ye=[],Ne=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(vt=>{const Ht=vt.player,pr=vt.element;if(ye.push(Ht),this.collectedEnterElements.length){const ar=pr[qo];if(ar&&ar.setForMove){if(ar.previousTriggersValues&&ar.previousTriggersValues.has(vt.triggerName)){const zi=ar.previousTriggersValues.get(vt.triggerName),Ci=this.statesByElement.get(vt.element);if(Ci&&Ci.has(vt.triggerName)){const Ko=Ci.get(vt.triggerName);Ko.value=zi,Ci.set(vt.triggerName,Ko)}}return void Ht.destroy()}}const ss=!g||!this.driver.containsElement(g,pr),tr=Q.get(pr),Gn=I.get(pr),On=this._buildInstruction(vt,r,Gn,tr,ss);if(On.errors&&On.errors.length)return void Ne.push(On);if(ss)return Ht.onStart(()=>$u(pr,On.fromStyles)),Ht.onDestroy(()=>Aa(pr,On.toStyles)),void i.push(Ht);if(vt.isFallbackTransition)return Ht.onStart(()=>$u(pr,On.fromStyles)),Ht.onDestroy(()=>Aa(pr,On.toStyles)),void i.push(Ht);const Hi=[];On.timelines.forEach(ar=>{ar.stretchStartingKeyframe=!0,this.disabledNodes.has(ar.element)||Hi.push(ar)}),On.timelines=Hi,r.append(pr,On.timelines),o.push({instruction:On,player:Ht,element:pr}),On.queriedElements.forEach(ar=>Js(a,ar,[]).push(Ht)),On.preStyleProps.forEach((ar,zi)=>{if(ar.size){let Ci=l.get(zi);Ci||l.set(zi,Ci=new Set),ar.forEach((Ko,To)=>Ci.add(To))}}),On.postStyleProps.forEach((ar,zi)=>{let Ci=c.get(zi);Ci||c.set(zi,Ci=new Set),ar.forEach((Ko,To)=>Ci.add(To))})});if(Ne.length){const Xe=[];Ne.forEach(st=>{Xe.push(function _de(n,t){return new he(3505,!1)}())}),ye.forEach(st=>st.destroy()),this.reportError(Xe)}const F=new Map,P=new Map;o.forEach(Xe=>{const st=Xe.element;r.has(st)&&(P.set(st,st),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,F))}),i.forEach(Xe=>{const st=Xe.element;this._getPreviousPlayers(st,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Ht=>{Js(F,st,[]).push(Ht),Ht.destroy()})});const k=S.filter(Xe=>I3(Xe,l,c)),$=new Map;E3($,this.driver,x,c,dl).forEach(Xe=>{I3(Xe,l,c)&&k.push(Xe)});const ne=new Map;v.forEach((Xe,st)=>{E3(ne,this.driver,new Set(Xe),l,"!")}),k.forEach(Xe=>{const st=$.get(Xe),vt=ne.get(Xe);$.set(Xe,new Map([...st?.entries()??[],...vt?.entries()??[]]))});const V=[],ni=[],is={};o.forEach(Xe=>{const{element:st,player:vt,instruction:Ht}=Xe;if(r.has(st)){if(d.has(st))return vt.onDestroy(()=>Aa(st,Ht.toStyles)),vt.disabled=!0,vt.overrideTotalTime(Ht.totalTime),void i.push(vt);let pr=is;if(P.size>1){let tr=st;const Gn=[];for(;tr=tr.parentNode;){const On=P.get(tr);if(On){pr=On;break}Gn.push(tr)}Gn.forEach(On=>P.set(On,pr))}const ss=this._buildAnimation(vt.namespaceId,Ht,F,s,ne,$);if(vt.setRealPlayer(ss),pr===is)V.push(vt);else{const tr=this.playersByElement.get(pr);tr&&tr.length&&(vt.parentPlayer=cc(tr)),i.push(vt)}}else $u(st,Ht.fromStyles),vt.onDestroy(()=>Aa(st,Ht.toStyles)),ni.push(vt),d.has(st)&&i.push(vt)}),ni.forEach(Xe=>{const st=s.get(Xe.element);if(st&&st.length){const vt=cc(st);Xe.setRealPlayer(vt)}}),i.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<S.length;Xe++){const st=S[Xe],vt=st[qo];if(Df(st,vE),vt&&vt.hasAnimation)continue;let Ht=[];if(a.size){let ss=a.get(st);ss&&ss.length&&Ht.push(...ss);let tr=this.driver.query(st,qS,!0);for(let Gn=0;Gn<tr.length;Gn++){let On=a.get(tr[Gn]);On&&On.length&&Ht.push(...On)}}const pr=Ht.filter(ss=>!ss.destroyed);pr.length?mhe(this,st,pr):this.processLeaveNode(st)}return S.length=0,V.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const st=this.players.indexOf(Xe);this.players.splice(st,1)}),Xe.play()}),V}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==a_;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,e,r){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==s,g=Js(r,c,[]);this._getPreviousPlayers(c,d,o,a,e.toState).forEach(v=>{const I=v.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),v.destroy(),g.push(v)})}$u(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,o){const a=e.triggerName,l=e.element,c=[],d=new Set,g=new Set,_=e.timelines.map(I=>{const A=I.element;d.add(A);const S=A[qo];if(S&&S.removedBeforeQueried)return new Zm(I.duration,I.delay);const B=A!==l,x=function _he(n){const t=[];return T3(n,t),t}((r.get(A)||che).map(F=>F.getRealPlayer())).filter(F=>!!F.element&&F.element===A),Q=s.get(A),X=o.get(A),ye=XH(this._normalizer,I.keyframes,Q,X),Ne=this._buildPlayer(I,ye,x);if(I.subTimeline&&i&&g.add(A),B){const F=new aR(t,a,A);F.setRealPlayer(Ne),c.push(F)}return Ne});c.forEach(I=>{Js(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function fhe(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,I.element,I))}),d.forEach(I=>wo(I,o3));const v=cc(_);return v.onDestroy(()=>{d.forEach(I=>Df(I,o3)),Aa(l,e.toStyles)}),g.forEach(I=>{Js(i,I,[]).push(v)}),v}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Zm(t.duration,t.delay)}}class aR{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Zm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>jS(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Js(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function NE(n){return n&&1===n.nodeType}function b3(n,t){const e=n.style.display;return n.style.display=t??"none",e}function E3(n,t,e,r,i){const s=[];e.forEach(l=>s.push(b3(l)));const o=[];r.forEach((l,c)=>{const d=new Map;l.forEach(g=>{const _=t.computeStyle(c,g,i);d.set(g,_),(!_||0==_.length)&&(c[qo]=uhe,o.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>b3(l,s[a++])),o}function w3(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function wo(n,t){n.classList?.add(t)}function Df(n,t){n.classList?.remove(t)}function mhe(n,t,e){cc(e).onDone(()=>n.processLeaveNode(t))}function T3(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof aH?T3(r.players,t):t.push(r)}}function I3(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class PE{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new hhe(t,e,r),this._timelineEngine=new ihe(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],d=JS(this._driver,s,l,[]);if(l.length)throw function ode(n,t){return new he(3404,!1)}();a=function ehe(n,t,e){return new the(n,t,e)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r){this._transitionEngine.removeNode(t,e,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,o]=e3(r);this._timelineEngine.command(s,e,o,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[o,a]=e3(r);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let bhe=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Aa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Aa(this._element,this._initialStyles),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($u(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($u(this._element,this._endStyles),this._endStyles=null),Aa(this._element,this._initialStyles),this._state=3)}}return n})();function lR(n){let t=null;return n.forEach((e,r)=>{(function Ehe(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class D3{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:u3(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class whe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return n3(t,e)}getParentElement(t){return zS(t)}query(t,e,r){return r3(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=o.filter(v=>v instanceof D3);(function Rde(n,t){return 0===n||0===t})(r,i)&&d.forEach(v=>{v.currentSnapshot.forEach((I,A)=>c.set(A,I))});let g=function Cde(n){return n.length?n[0]instanceof Map?n:n.map(t=>a3(t)):[]}(e).map(v=>uc(v));g=function Nde(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,u3(n,a)))}}return t}(t,g,c);const _=function vhe(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=lR(t[0]),t.length>1&&(r=lR(t[t.length-1]))):t instanceof Map&&(e=lR(t)),e||r?new bhe(n,e,r):null}(t,g);return new D3(t,g,l,_)}}let The=(()=>{class n extends iH{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ri.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?oH(e):e;return C3(this._renderer,null,r,"register",[i]),new Ihe(r,this._renderer)}static{this.\u0275fac=function(r){return new(r||n)(Ae(Ud),Ae(br))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();class Ihe extends kae{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Dhe(this._id,t,e||{},this._renderer)}}class Dhe{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return C3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function C3(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const A3="@.disabled";let Che=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(s);return d||(d=new S3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,e,d.name,d)};return r.data.animation.forEach(l),new Ahe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(r){return new(r||n)(Ae(Ud),Ae(PE),Ae(jt))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})();class S3{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==A3?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ahe extends S3{constructor(t,e,r,i,s){super(e,r,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==A3?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function She(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Rhe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}const R3=[{provide:iH,useClass:The},{provide:nR,useFactory:function Phe(){return new Yde}},{provide:PE,useClass:(()=>{class n extends PE{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(Ae(br),Ae(GS),Ae(nR),Ae(Vo))}}static{this.\u0275prov=Ve({token:n,factory:n.\u0275fac})}}return n})()},{provide:Ud,useFactory:function Mhe(n,t,e){return new Che(n,t,e)},deps:[_1,PE,jt]}],cR=[{provide:GS,useFactory:()=>new whe},{provide:iP,useValue:"BrowserAnimations"},...R3],N3=[{provide:GS,useClass:i3},{provide:iP,useValue:"NoopAnimations"},...R3];let Ohe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?N3:cR}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n})}static{this.\u0275inj=rn({providers:cR,imports:[oF]})}}return n})();class Hhe{constructor(){this.change=new It,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let r in this.instances[t.id])t[r]!==this.instances[t.id][r]&&(this.instances[t.id][r]=t[r],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let r=this.instances[t];e<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}}let zhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=rn({providers:[Hhe],imports:[[l1]]}),n})(),Ghe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=en({type:n,bootstrap:[oce]})}static{this.\u0275inj=rn({imports:[oF,sce,Nre,Ohe,hle,zhe,rle.forRoot(),Hle.initializeApp(JH_firebaseConfig),qJ(()=>KJ(JH_firebaseConfig)),tZ(()=>nZ()),ene(()=>nne()),Vue(()=>Lue()),xae]})}}return n})();qK().bootstrapModule(Ghe).catch(n=>console.error(n))},262:function(gi,gr){var ft,Oe;ft=function O(){"use strict";var Be=typeof self<"u"?self:typeof window<"u"?window:void 0!==Be?Be:{},Vt=!Be.document&&!!Be.postMessage,Un=Be.IS_PAPA_WORKER||!1,kn={},Nn=0,qe={parse:function(W,Z){var G=(Z=Z||{}).dynamicTyping||!1;if(pt(G)&&(Z.dynamicTypingFunction=G,G={}),Z.dynamicTyping=G,Z.transform=!!pt(Z.transform)&&Z.transform,Z.worker&&qe.WORKERS_SUPPORTED){var Fe=function(){if(!qe.WORKERS_SUPPORTED)return!1;var wn,tt,nt=(wn=Be.URL||Be.webkitURL||null,tt=O.toString(),qe.BLOB_URL||(qe.BLOB_URL=wn.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",tt,")();"],{type:"text/javascript"})))),Ct=new Be.Worker(nt);return Ct.onmessage=cr,Ct.id=Nn++,kn[Ct.id]=Ct}();return Fe.userStep=Z.step,Fe.userChunk=Z.chunk,Fe.userComplete=Z.complete,Fe.userError=Z.error,Z.step=pt(Z.step),Z.chunk=pt(Z.chunk),Z.complete=pt(Z.complete),Z.error=pt(Z.error),delete Z.worker,void Fe.postMessage({input:W,config:Z,workerId:Fe.id})}var nt,Ue=null;return"string"==typeof W?(W=65279===(nt=W).charCodeAt(0)?nt.slice(1):nt,Ue=Z.download?new it(Z):new zt(Z)):!0===W.readable&&pt(W.read)&&pt(W.on)?Ue=new Pn(Z):(Be.File&&W instanceof File||W instanceof Object)&&(Ue=new St(Z)),Ue.stream(W)},unparse:function(W,Z){var G=!1,Fe=!0,Ue=",",nt="\r\n",Ct='"',wn=Ct+Ct,tt=!1,ot=null,ln=!1;!function(){if("object"==typeof Z){if("string"!=typeof Z.delimiter||qe.BAD_DELIMITERS.filter(function(J){return-1!==Z.delimiter.indexOf(J)}).length||(Ue=Z.delimiter),("boolean"==typeof Z.quotes||"function"==typeof Z.quotes||Array.isArray(Z.quotes))&&(G=Z.quotes),"boolean"!=typeof Z.skipEmptyLines&&"string"!=typeof Z.skipEmptyLines||(tt=Z.skipEmptyLines),"string"==typeof Z.newline&&(nt=Z.newline),"string"==typeof Z.quoteChar&&(Ct=Z.quoteChar),"boolean"==typeof Z.header&&(Fe=Z.header),Array.isArray(Z.columns)){if(0===Z.columns.length)throw new Error("Option columns is empty");ot=Z.columns}void 0!==Z.escapeChar&&(wn=Z.escapeChar+Ct),("boolean"==typeof Z.escapeFormulae||Z.escapeFormulae instanceof RegExp)&&(ln=Z.escapeFormulae instanceof RegExp?Z.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var mt=new RegExp(_t(Ct),"g");if("string"==typeof W&&(W=JSON.parse(W)),Array.isArray(W)){if(!W.length||Array.isArray(W[0]))return re(null,W,tt);if("object"==typeof W[0])return re(ot||Object.keys(W[0]),W,tt)}else if("object"==typeof W)return"string"==typeof W.data&&(W.data=JSON.parse(W.data)),Array.isArray(W.data)&&(W.fields||(W.fields=W.meta&&W.meta.fields||ot),W.fields||(W.fields=Array.isArray(W.data[0])?W.fields:"object"==typeof W.data[0]?Object.keys(W.data[0]):[]),Array.isArray(W.data[0])||"object"==typeof W.data[0]||(W.data=[W.data])),re(W.fields||[],W.data||[],tt);throw new Error("Unable to serialize unrecognized input");function re(J,ee,oe){var ae="";"string"==typeof J&&(J=JSON.parse(J)),"string"==typeof ee&&(ee=JSON.parse(ee));var ze=Array.isArray(J)&&0<J.length,xe=!Array.isArray(ee[0]);if(ze&&Fe){for(var Et=0;Et<J.length;Et++)0<Et&&(ae+=Ue),ae+=K(J[Et],Et);0<ee.length&&(ae+=nt)}for(var Ce=0;Ce<ee.length;Ce++){var dt=ze?J.length:ee[Ce].length,wt=!1,fn=ze?0===Object.keys(ee[Ce]).length:0===ee[Ce].length;if(oe&&!ze&&(wt="greedy"===oe?""===ee[Ce].join("").trim():1===ee[Ce].length&&0===ee[Ce][0].length),"greedy"===oe&&ze){for(var at=[],q=0;q<dt;q++)at.push(ee[Ce][xe?J[q]:q]);wt=""===at.join("").trim()}if(!wt){for(var te=0;te<dt;te++)0<te&&!fn&&(ae+=Ue),ae+=K(ee[Ce][ze&&xe?J[te]:te],te);Ce<ee.length-1&&(!oe||0<dt&&!fn)&&(ae+=nt)}}return ae}function K(J,ee){if(null==J)return"";if(J.constructor===Date)return JSON.stringify(J).slice(1,25);var oe=!1;ln&&"string"==typeof J&&ln.test(J)&&(J="'"+J,oe=!0);var ae=J.toString().replace(mt,wn);return(oe=oe||!0===G||"function"==typeof G&&G(J,ee)||Array.isArray(G)&&G[ee]||function(ze,xe){for(var Et=0;Et<xe.length;Et++)if(-1<ze.indexOf(xe[Et]))return!0;return!1}(ae,qe.BAD_DELIMITERS)||-1<ae.indexOf(Ue)||" "===ae.charAt(0)||" "===ae.charAt(ae.length-1))?Ct+ae+Ct:ae}}};if(qe.RECORD_SEP=String.fromCharCode(30),qe.UNIT_SEP=String.fromCharCode(31),qe.BYTE_ORDER_MARK="\ufeff",qe.BAD_DELIMITERS=["\r","\n",'"',qe.BYTE_ORDER_MARK],qe.WORKERS_SUPPORTED=!Vt&&!!Be.Worker,qe.NODE_STREAM_INPUT=1,qe.LocalChunkSize=10485760,qe.RemoteChunkSize=5242880,qe.DefaultDelimiter=",",qe.Parser=Dt,qe.ParserHandle=Gt,qe.NetworkStreamer=it,qe.FileStreamer=St,qe.StringStreamer=zt,qe.ReadableStreamStreamer=Pn,Be.jQuery){var _e=Be.jQuery;_e.fn.parse=function(W){var Z=W.config||{},G=[];return this.each(function(nt){if("INPUT"!==_e(this).prop("tagName").toUpperCase()||"file"!==_e(this).attr("type").toLowerCase()||!Be.FileReader||!this.files||0===this.files.length)return!0;for(var Ct=0;Ct<this.files.length;Ct++)G.push({file:this.files[Ct],inputElem:this,instanceConfig:_e.extend({},Z)})}),Fe(),this;function Fe(){if(0!==G.length){var Ct,wn,tt,ot=G[0];if(pt(W.before)){var ln=W.before(ot.file,ot.inputElem);if("object"==typeof ln){if("abort"===ln.action)return"AbortError",Ct=ot.file,wn=ot.inputElem,tt=ln.reason,void(pt(W.error)&&W.error({name:"AbortError"},Ct,wn,tt));if("skip"===ln.action)return void Ue();"object"==typeof ln.config&&(ot.instanceConfig=_e.extend(ot.instanceConfig,ln.config))}else if("skip"===ln)return void Ue()}var mt=ot.instanceConfig.complete;ot.instanceConfig.complete=function(re){pt(mt)&&mt(re,ot.file,ot.inputElem),Ue()},qe.parse(ot.file,ot.instanceConfig)}else pt(W.complete)&&W.complete()}function Ue(){G.splice(0,1),Fe()}}}function Ee(W){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(Z){var G=Bt(Z);G.chunkSize=parseInt(G.chunkSize),Z.step||Z.chunk||(G.chunkSize=null),this._handle=new Gt(G),(this._handle.streamer=this)._config=G}.call(this,W),this.parseChunk=function(Z,G){if(this.isFirstChunk&&pt(this._config.beforeFirstChunk)){var Fe=this._config.beforeFirstChunk(Z);void 0!==Fe&&(Z=Fe)}this.isFirstChunk=!1,this._halted=!1;var Ue=this._partialLine+Z;this._partialLine="";var nt=this._handle.parse(Ue,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ct=nt.meta.cursor;this._finished||(this._partialLine=Ue.substring(Ct-this._baseIndex),this._baseIndex=Ct),nt&&nt.data&&(this._rowCount+=nt.data.length);var wn=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Un)Be.postMessage({results:nt,workerId:qe.WORKER_ID,finished:wn});else if(pt(this._config.chunk)&&!G){if(this._config.chunk(nt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);nt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(nt.data),this._completeResults.errors=this._completeResults.errors.concat(nt.errors),this._completeResults.meta=nt.meta),this._completed||!wn||!pt(this._config.complete)||nt&&nt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),wn||nt&&nt.meta.paused||this._nextChunk(),nt}this._halted=!0},this._sendError=function(Z){pt(this._config.error)?this._config.error(Z):Un&&this._config.error&&Be.postMessage({workerId:qe.WORKER_ID,error:Z,finished:!1})}}function it(W){var Z;(W=W||{}).chunkSize||(W.chunkSize=qe.RemoteChunkSize),Ee.call(this,W),this._nextChunk=Vt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(G){this._input=G,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(Z=new XMLHttpRequest,this._config.withCredentials&&(Z.withCredentials=this._config.withCredentials),Vt||(Z.onload=Yn(this._chunkLoaded,this),Z.onerror=Yn(this._chunkError,this)),Z.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Vt),this._config.downloadRequestHeaders){var G=this._config.downloadRequestHeaders;for(var Fe in G)Z.setRequestHeader(Fe,G[Fe])}this._config.chunkSize&&Z.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{Z.send(this._config.downloadRequestBody)}catch(nt){this._chunkError(nt.message)}Vt&&0===Z.status&&this._chunkError()}},this._chunkLoaded=function(){var Fe;4===Z.readyState&&(Z.status<200||400<=Z.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:Z.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(Fe=Z.getResponseHeader("Content-Range"))?-1:parseInt(Fe.substring(Fe.lastIndexOf("/")+1))),this.parseChunk(Z.responseText)))},this._chunkError=function(G){this._sendError(new Error(Z.statusText||G))}}function St(W){var Z,G;(W=W||{}).chunkSize||(W.chunkSize=qe.LocalChunkSize),Ee.call(this,W);var Fe=typeof FileReader<"u";this.stream=function(Ue){this._input=Ue,G=Ue.slice||Ue.webkitSlice||Ue.mozSlice,Fe?((Z=new FileReader).onload=Yn(this._chunkLoaded,this),Z.onerror=Yn(this._chunkError,this)):Z=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Ue=this._input;if(this._config.chunkSize){var nt=Math.min(this._start+this._config.chunkSize,this._input.size);Ue=G.call(Ue,this._start,nt)}var Ct=Z.readAsText(Ue,this._config.encoding);Fe||this._chunkLoaded({target:{result:Ct}})},this._chunkLoaded=function(Ue){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Ue.target.result)},this._chunkError=function(){this._sendError(Z.error)}}function zt(W){var Z;Ee.call(this,W=W||{}),this.stream=function(G){return Z=G,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var G,Fe=this._config.chunkSize;return Fe?(G=Z.substring(0,Fe),Z=Z.substring(Fe)):(G=Z,Z=""),this._finished=!Z,this.parseChunk(G)}}}function Pn(W){Ee.call(this,W=W||{});var Z=[],G=!0,Fe=!1;this.pause=function(){Ee.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Ee.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Ue){this._input=Ue,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Fe&&1===Z.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),Z.length?this.parseChunk(Z.shift()):G=!0},this._streamData=Yn(function(Ue){try{Z.push("string"==typeof Ue?Ue:Ue.toString(this._config.encoding)),G&&(G=!1,this._checkIsFinished(),this.parseChunk(Z.shift()))}catch(nt){this._streamError(nt)}},this),this._streamError=Yn(function(Ue){this._streamCleanUp(),this._sendError(Ue)},this),this._streamEnd=Yn(function(){this._streamCleanUp(),Fe=!0,this._streamData("")},this),this._streamCleanUp=Yn(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Gt(W){var Z,G,Fe,Ue=Math.pow(2,53),nt=-Ue,Ct=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,wn=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,tt=this,ot=0,ln=0,mt=!1,re=!1,K=[],J={data:[],errors:[],meta:{}};if(pt(W.step)){var ee=W.step;W.step=function(Ce){if(J=Ce,ze())ae();else{if(ae(),0===J.data.length)return;ot+=Ce.data.length,W.preview&&ot>W.preview?G.abort():(J.data=J.data[0],ee(J,tt))}}}function oe(Ce){return"greedy"===W.skipEmptyLines?""===Ce.join("").trim():1===Ce.length&&0===Ce[0].length}function ae(){return J&&Fe&&(Et("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+qe.DefaultDelimiter+"'"),Fe=!1),W.skipEmptyLines&&(J.data=J.data.filter(function(Ce){return!oe(Ce)})),ze()&&function(){if(J)if(Array.isArray(J.data[0])){for(var dt=0;ze()&&dt<J.data.length;dt++)J.data[dt].forEach(Ce);J.data.splice(0,1)}else J.data.forEach(Ce);function Ce(wt,fn){pt(W.transformHeader)&&(wt=W.transformHeader(wt,fn)),K.push(wt)}}(),function(){if(!J||!W.header&&!W.dynamicTyping&&!W.transform)return J;function Ce(wt,fn){var at,q=W.header?{}:[];for(at=0;at<wt.length;at++){var j=at,te=wt[at];W.header&&(j=at>=K.length?"__parsed_extra":K[at]),W.transform&&(te=W.transform(te,j)),te=xe(j,te),"__parsed_extra"===j?(q[j]=q[j]||[],q[j].push(te)):q[j]=te}return W.header&&(at>K.length?Et("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+at,ln+fn):at<K.length&&Et("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+at,ln+fn)),q}var dt=1;return!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(Ce),dt=J.data.length):J.data=Ce(J.data,0),W.header&&J.meta&&(J.meta.fields=K),ln+=dt,J}()}function ze(){return W.header&&0===K.length}function xe(Ce,dt){return wt=Ce,W.dynamicTypingFunction&&void 0===W.dynamicTyping[wt]&&(W.dynamicTyping[wt]=W.dynamicTypingFunction(wt)),!0===(W.dynamicTyping[wt]||W.dynamicTyping)?"true"===dt||"TRUE"===dt||"false"!==dt&&"FALSE"!==dt&&(function(fn){if(Ct.test(fn)){var at=parseFloat(fn);if(nt<at&&at<Ue)return!0}return!1}(dt)?parseFloat(dt):wn.test(dt)?new Date(dt):""===dt?null:dt):dt;var wt}function Et(Ce,dt,wt,fn){var at={type:Ce,code:dt,message:wt};void 0!==fn&&(at.row=fn),J.errors.push(at)}this.parse=function(Ce,dt,wt){if(W.newline||(W.newline=function(j,te){j=j.substring(0,1048576);var ge=new RegExp(_t(te)+"([^]*?)"+_t(te),"gm"),Me=(j=j.replace(ge,"")).split("\r"),we=j.split("\n");if(1===Me.length||1<we.length&&we[0].length<Me[0].length)return"\n";for(var Nt=0,gt=0;gt<Me.length;gt++)"\n"===Me[gt][0]&&Nt++;return Nt>=Me.length/2?"\r\n":"\r"}(Ce,W.quoteChar||'"')),Fe=!1,W.delimiter)pt(W.delimiter)&&(W.delimiter=W.delimiter(Ce),J.meta.delimiter=W.delimiter);else{var at=function(j,te,ge,Me,we){var Wt,Nt,gt,Mt;we=we||[",","\t","|",";",qe.RECORD_SEP,qe.UNIT_SEP];for(var Cn=0;Cn<we.length;Cn++){var qt=we[Cn],jn=0,sn=0,on=0;gt=void 0;for(var Jt=new Dt({comments:Me,delimiter:qt,newline:te,preview:10}).parse(j),Kt=0;Kt<Jt.data.length;Kt++)if(ge&&oe(Jt.data[Kt]))on++;else{var Xt=Jt.data[Kt].length;sn+=Xt,void 0!==gt?0<Xt&&(jn+=Math.abs(Xt-gt),gt=Xt):gt=Xt}0<Jt.data.length&&(sn/=Jt.data.length-on),(void 0===Nt||jn<=Nt)&&(void 0===Mt||Mt<sn)&&1.99<sn&&(Nt=jn,Wt=qt,Mt=sn)}return{successful:!!(W.delimiter=Wt),bestDelimiter:Wt}}(Ce,W.newline,W.skipEmptyLines,W.comments,W.delimitersToGuess);at.successful?W.delimiter=at.bestDelimiter:(Fe=!0,W.delimiter=qe.DefaultDelimiter),J.meta.delimiter=W.delimiter}var q=Bt(W);return W.preview&&W.header&&q.preview++,Z=Ce,G=new Dt(q),J=G.parse(Z,dt,wt),ae(),mt?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return mt},this.pause=function(){mt=!0,G.abort(),Z=pt(W.chunk)?"":Z.substring(G.getCharIndex())},this.resume=function(){tt.streamer._halted?(mt=!1,tt.streamer.parseChunk(Z,!0)):setTimeout(tt.resume,3)},this.aborted=function(){return re},this.abort=function(){re=!0,G.abort(),J.meta.aborted=!0,pt(W.complete)&&W.complete(J),Z=""}}function _t(W){return W.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Dt(W){var Z,G=(W=W||{}).delimiter,Fe=W.newline,Ue=W.comments,nt=W.step,Ct=W.preview,wn=W.fastMode,tt=Z=null==W.quoteChar?'"':W.quoteChar;if(void 0!==W.escapeChar&&(tt=W.escapeChar),("string"!=typeof G||-1<qe.BAD_DELIMITERS.indexOf(G))&&(G=","),Ue===G)throw new Error("Comment character same as delimiter");!0===Ue?Ue="#":("string"!=typeof Ue||-1<qe.BAD_DELIMITERS.indexOf(Ue))&&(Ue=!1),"\n"!==Fe&&"\r"!==Fe&&"\r\n"!==Fe&&(Fe="\n");var ot=0,ln=!1;this.parse=function(mt,re,K){if("string"!=typeof mt)throw new Error("Input must be a string");var J=mt.length,ee=G.length,oe=Fe.length,ae=Ue.length,ze=pt(nt),xe=[],Et=[],Ce=[],dt=ot=0;if(!mt)return ur();if(W.header&&!re){var wt=mt.split(Fe)[0].split(G),fn=[],at={},q=!1;for(var j in wt){var te=wt[j];pt(W.transformHeader)&&(te=W.transformHeader(te,j));var ge=te,Me=at[te]||0;for(0<Me&&(q=!0,ge=te+"_"+Me),at[te]=Me+1;fn.includes(ge);)ge=ge+"_"+Me;fn.push(ge)}if(q){var we=mt.split(Fe);we[0]=fn.join(G),mt=we.join(Fe)}}if(wn||!1!==wn&&-1===mt.indexOf(Z)){for(var Wt=mt.split(Fe),Nt=0;Nt<Wt.length;Nt++){if(ot+=(Ce=Wt[Nt]).length,Nt!==Wt.length-1)ot+=Fe.length;else if(K)return ur();if(!Ue||Ce.substring(0,ae)!==Ue){if(ze){if(xe=[],on(Ce.split(G)),Yr(),ln)return ur()}else on(Ce.split(G));if(Ct&&Ct<=Nt)return xe=xe.slice(0,Ct),ur(!0)}}return ur()}for(var gt=mt.indexOf(G,ot),Mt=mt.indexOf(Fe,ot),Cn=new RegExp(_t(tt)+_t(Z),"g"),qt=mt.indexOf(Z,ot);;)if(mt[ot]!==Z)if(Ue&&0===Ce.length&&mt.substring(ot,ot+ae)===Ue){if(-1===Mt)return ur();Mt=mt.indexOf(Fe,ot=Mt+oe),gt=mt.indexOf(G,ot)}else if(-1!==gt&&(gt<Mt||-1===Mt))Ce.push(mt.substring(ot,gt)),gt=mt.indexOf(G,ot=gt+ee);else{if(-1===Mt)break;if(Ce.push(mt.substring(ot,Mt)),Xt(Mt+oe),ze&&(Yr(),ln))return ur();if(Ct&&xe.length>=Ct)return ur(!0)}else for(qt=ot,ot++;;){if(-1===(qt=mt.indexOf(Z,qt+1)))return K||Et.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:ot}),Kt();if(qt===J-1)return Kt(mt.substring(ot,qt).replace(Cn,Z));if(Z!==tt||mt[qt+1]!==tt){if(Z===tt||0===qt||mt[qt-1]!==tt){-1!==gt&&gt<qt+1&&(gt=mt.indexOf(G,qt+1)),-1!==Mt&&Mt<qt+1&&(Mt=mt.indexOf(Fe,qt+1));var jn=Jt(-1===Mt?gt:Math.min(gt,Mt));if(mt.substr(qt+1+jn,ee)===G){Ce.push(mt.substring(ot,qt).replace(Cn,Z)),mt[ot=qt+1+jn+ee]!==Z&&(qt=mt.indexOf(Z,ot)),gt=mt.indexOf(G,ot),Mt=mt.indexOf(Fe,ot);break}var sn=Jt(Mt);if(mt.substring(qt+1+sn,qt+1+sn+oe)===Fe){if(Ce.push(mt.substring(ot,qt).replace(Cn,Z)),Xt(qt+1+sn+oe),gt=mt.indexOf(G,ot),qt=mt.indexOf(Z,ot),ze&&(Yr(),ln))return ur();if(Ct&&xe.length>=Ct)return ur(!0);break}Et.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:ot}),qt++}}else qt++}return Kt();function on(Ut){xe.push(Ut),dt=ot}function Jt(Ut){var Si=0;if(-1!==Ut){var Ri=mt.substring(qt+1,Ut);Ri&&""===Ri.trim()&&(Si=Ri.length)}return Si}function Kt(Ut){return K||(void 0===Ut&&(Ut=mt.substring(ot)),Ce.push(Ut),ot=J,on(Ce),ze&&Yr()),ur()}function Xt(Ut){ot=Ut,on(Ce),Ce=[],Mt=mt.indexOf(Fe,ot)}function ur(Ut){return{data:xe,errors:Et,meta:{delimiter:G,linebreak:Fe,aborted:ln,truncated:!!Ut,cursor:dt+(re||0)}}}function Yr(){nt(ur()),xe=[],Et=[]}},this.abort=function(){ln=!0},this.getCharIndex=function(){return ot}}function cr(W){var Z=W.data,G=kn[Z.workerId],Fe=!1;if(Z.error)G.userError(Z.error,Z.file);else if(Z.results&&Z.results.data){var Ue={abort:function(){Fe=!0,Fn(Z.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Lt,resume:Lt};if(pt(G.userStep)){for(var nt=0;nt<Z.results.data.length&&(G.userStep({data:Z.results.data[nt],errors:Z.results.errors,meta:Z.results.meta},Ue),!Fe);nt++);delete Z.results}else pt(G.userChunk)&&(G.userChunk(Z.results,Ue,Z.file),delete Z.results)}Z.finished&&!Fe&&Fn(Z.workerId,Z.results)}function Fn(W,Z){var G=kn[W];pt(G.userComplete)&&G.userComplete(Z),G.terminate(),delete kn[W]}function Lt(){throw new Error("Not implemented.")}function Bt(W){if("object"!=typeof W||null===W)return W;var Z=Array.isArray(W)?[]:{};for(var G in W)Z[G]=Bt(W[G]);return Z}function Yn(W,Z){return function(){W.apply(Z,arguments)}}function pt(W){return"function"==typeof W}return Un&&(Be.onmessage=function(W){var Z=W.data;if(void 0===qe.WORKER_ID&&Z&&(qe.WORKER_ID=Z.workerId),"string"==typeof Z.input)Be.postMessage({workerId:qe.WORKER_ID,results:qe.parse(Z.input,Z.config),finished:!0});else if(Be.File&&Z.input instanceof File||Z.input instanceof Object){var G=qe.parse(Z.input,Z.config);G&&Be.postMessage({workerId:qe.WORKER_ID,results:G,finished:!0})}}),(it.prototype=Object.create(Ee.prototype)).constructor=it,(St.prototype=Object.create(Ee.prototype)).constructor=St,(zt.prototype=Object.create(zt.prototype)).constructor=zt,(Pn.prototype=Object.create(Ee.prototype)).constructor=Pn,qe},void 0!==(Oe=ft.apply(gr,[]))&&(gi.exports=Oe)},73:()=>{"use strict";const gi=":";Error;const wt=function(q,...j){if(wt.translate){const ge=wt.translate(q,j);q=ge[0],j=ge[1]}let te=at(q[0],q.raw[0]);for(let ge=1;ge<q.length;ge++)te+=j[ge-1]+at(q[ge],q.raw[ge]);return te},fn=":";function at(q,j){return j.charAt(0)===fn?q.substring(function re(q,j){for(let te=1,ge=1;te<q.length;te++,ge++)if("\\"===j[ge])ge++;else if(q[te]===gi)return te;throw new Error(`Unterminated $localize metadata block in "${j}".`)}(q,j)+1):q}globalThis.$localize=wt},345:(gi,gr,ft)=>{"use strict";ft.d(gr,{A:()=>Pn});var N=ft(76),Oe=ft(362),O=ft(852),Be=ft(41);class Vt{constructor(_t,Dt){this._delegate=_t,this.firebase=Dt,(0,O._addComponent)(_t,new Oe.uA("app-compat",()=>this,"PUBLIC")),this.container=_t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this._delegate.automaticDataCollectionEnabled=_t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_t=>{this._delegate.checkDestroyed(),_t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(_t,Dt=O._DEFAULT_ENTRY_NAME){var cr;this._delegate.checkDestroyed();const Fn=this._delegate.container.getProvider(_t);return!Fn.isInitialized()&&"EXPLICIT"===(null===(cr=Fn.getComponent())||void 0===cr?void 0:cr.instantiationMode)&&Fn.initialize(),Fn.getImmediate({identifier:Dt})}_removeServiceInstance(_t,Dt=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_t).clearInstance(Dt)}_addComponent(_t){(0,O._addComponent)(this._delegate,_t)}_addOrOverwriteComponent(_t){(0,O._addOrOverwriteComponent)(this._delegate,_t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const kn=new N.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function qe(){const Gt=function Nn(Gt){const _t={},Dt={__esModule:!0,initializeApp:function Lt(W,Z={}){const G=O.initializeApp(W,Z);if((0,N.gR)(_t,G.name))return _t[G.name];const Fe=new Gt(G,Dt);return _t[G.name]=Fe,Fe},app:Fn,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Yn(W){const Z=W.name,G=Z.replace("-compat","");if(O._registerComponent(W)&&"PUBLIC"===W.type){const Fe=(Ue=Fn())=>{if("function"!=typeof Ue[G])throw kn.create("invalid-app-argument",{appName:Z});return Ue[G]()};void 0!==W.serviceProps&&(0,N.zw)(Fe,W.serviceProps),Dt[G]=Fe,Gt.prototype[G]=function(...Ue){return this._getService.bind(this,Z).apply(this,W.multipleInstances?Ue:[])}}return"PUBLIC"===W.type?Dt[G]:null},removeApp:function cr(W){delete _t[W]},useAsService:function pt(W,Z){return"serverAuth"===Z?null:Z},modularAPIs:O}};function Fn(W){if(!(0,N.gR)(_t,W=W||O._DEFAULT_ENTRY_NAME))throw kn.create("no-app",{appName:W});return _t[W]}return Dt.default=Dt,Object.defineProperty(Dt,"apps",{get:function Bt(){return Object.keys(_t).map(W=>_t[W])}}),Fn.App=Gt,Dt}(Vt);return Gt.INTERNAL=Object.assign(Object.assign({},Gt.INTERNAL),{createFirebaseNamespace:qe,extendNamespace:function _t(Dt){(0,N.zw)(Gt,Dt)},createSubscribe:N.tD,ErrorFactory:N.FA,deepExtend:N.zw}),Gt}(),Ee=new Be.Vy("@firebase/app-compat");try{const Gt=(0,N.mS)();if(void 0!==Gt.firebase){Ee.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const _t=Gt.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&Ee.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Pn=_e;!function zt(Gt){(0,O.registerVersion)("@firebase/app-compat","0.2.43",Gt)}()},852:(gi,gr,ft)=>{"use strict";ft.r(gr),ft.d(gr,{FirebaseError:()=>Be.g,SDK_VERSION:()=>Yo,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>Kt,_apps:()=>jn,_clearComponents:()=>Ri,_components:()=>on,_getProvider:()=>ur,_isFirebaseApp:()=>Ut,_isFirebaseServerApp:()=>Si,_registerComponent:()=>Xt,_removeServiceInstance:()=>Yr,_serverApps:()=>sn,deleteApp:()=>no,getApp:()=>Ra,getApps:()=>Na,initializeApp:()=>to,initializeServerApp:()=>Io,onLog:()=>w,registerVersion:()=>D,setLogLevel:()=>T});var N=ft(467),Oe=ft(362),O=ft(41),Be=ft(76);const Vt=(ue,U)=>U.some(ce=>ue instanceof ce);let Un,kn;const _e=new WeakMap,Ee=new WeakMap,it=new WeakMap,St=new WeakMap,zt=new WeakMap;let _t={get(ue,U,ce){if(ue instanceof IDBTransaction){if("done"===U)return Ee.get(ue);if("objectStoreNames"===U)return ue.objectStoreNames||it.get(ue);if("store"===U)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return Lt(ue[U])},set:(ue,U,ce)=>(ue[U]=ce,!0),has:(ue,U)=>ue instanceof IDBTransaction&&("done"===U||"store"===U)||U in ue};function Fn(ue){return"function"==typeof ue?function cr(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qe(){return kn||(kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...U){return ue.apply(Bt(this),U),Lt(_e.get(this))}:function(...U){return Lt(ue.apply(Bt(this),U))}:function(U,...ce){const Je=ue.call(Bt(this),U,...ce);return it.set(Je,U.sort?U.sort():[U]),Lt(Je)}}(ue):(ue instanceof IDBTransaction&&function Gt(ue){if(Ee.has(ue))return;const U=new Promise((ce,Je)=>{const xt=()=>{ue.removeEventListener("complete",kt),ue.removeEventListener("error",Zt),ue.removeEventListener("abort",Zt)},kt=()=>{ce(),xt()},Zt=()=>{Je(ue.error||new DOMException("AbortError","AbortError")),xt()};ue.addEventListener("complete",kt),ue.addEventListener("error",Zt),ue.addEventListener("abort",Zt)});Ee.set(ue,U)}(ue),Vt(ue,function Nn(){return Un||(Un=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,_t):ue)}function Lt(ue){if(ue instanceof IDBRequest)return function Pn(ue){const U=new Promise((ce,Je)=>{const xt=()=>{ue.removeEventListener("success",kt),ue.removeEventListener("error",Zt)},kt=()=>{ce(Lt(ue.result)),xt()},Zt=()=>{Je(ue.error),xt()};ue.addEventListener("success",kt),ue.addEventListener("error",Zt)});return U.then(ce=>{ce instanceof IDBCursor&&_e.set(ce,ue)}).catch(()=>{}),zt.set(U,ue),U}(ue);if(St.has(ue))return St.get(ue);const U=Fn(ue);return U!==ue&&(St.set(ue,U),zt.set(U,ue)),U}const Bt=ue=>zt.get(ue),W=["get","getKey","getAll","getAllKeys","count"],Z=["put","add","delete","clear"],G=new Map;function Fe(ue,U){if(!(ue instanceof IDBDatabase)||U in ue||"string"!=typeof U)return;if(G.get(U))return G.get(U);const ce=U.replace(/FromIndex$/,""),Je=U!==ce,xt=Z.includes(ce);if(!(ce in(Je?IDBIndex:IDBObjectStore).prototype)||!xt&&!W.includes(ce))return;const kt=function(){var Zt=(0,N.A)(function*(gn,...mr){const yn=this.transaction(gn,xt?"readwrite":"readonly");let Ma=yn.store;return Je&&(Ma=Ma.index(mr.shift())),(yield Promise.all([Ma[ce](...mr),xt&&yn.done]))[0]});return function(mr){return Zt.apply(this,arguments)}}();return G.set(U,kt),kt}!function Dt(ue){_t=ue(_t)}(ue=>({...ue,get:(U,ce,Je)=>Fe(U,ce)||ue.get(U,ce,Je),has:(U,ce)=>!!Fe(U,ce)||ue.has(U,ce)}));class Ue{constructor(U){this.container=U}getPlatformInfoString(){return this.container.getProviders().map(ce=>{if(function nt(ue){const U=ue.getComponent();return"VERSION"===U?.type}(ce)){const Je=ce.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(ce=>ce).join(" ")}}const Ct="@firebase/app",wn="0.10.13",tt=new O.Vy("@firebase/app"),Cn="[DEFAULT]",qt={[Ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},jn=new Map,sn=new Map,on=new Map;function Jt(ue,U){try{ue.container.addComponent(U)}catch(ce){tt.debug(`Component ${U.name} failed to register with FirebaseApp ${ue.name}`,ce)}}function Kt(ue,U){ue.container.addOrOverwriteComponent(U)}function Xt(ue){const U=ue.name;if(on.has(U))return tt.debug(`There were multiple attempts to register component ${U}.`),!1;on.set(U,ue);for(const ce of jn.values())Jt(ce,ue);for(const ce of sn.values())Jt(ce,ue);return!0}function ur(ue,U){const ce=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return ce&&ce.triggerHeartbeat(),ue.container.getProvider(U)}function Yr(ue,U,ce=Cn){ur(ue,U).clearInstance(ce)}function Ut(ue){return void 0!==ue.options}function Si(ue){return void 0!==ue.settings}function Ri(){on.clear()}const Wn=new Be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Tr{constructor(U,ce,Je){this._isDeleted=!1,this._options=Object.assign({},U),this._config=Object.assign({},ce),this._name=ce.name,this._automaticDataCollectionEnabled=ce.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new Oe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(U){this.checkDestroyed(),this._automaticDataCollectionEnabled=U}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(U){this._isDeleted=U}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}class mi extends Tr{constructor(U,ce,Je,xt){const kt=void 0!==ce.automaticDataCollectionEnabled&&ce.automaticDataCollectionEnabled,Zt={name:Je,automaticDataCollectionEnabled:kt};super(void 0!==U.apiKey?U:U.options,Zt,xt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:kt},ce),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ce.releaseOnDeref=void 0,D(Ct,wn,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(U){this.isDeleted||(this._refCount++,void 0!==U&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(U,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){no(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Wn.create("server-app-deleted")}}const Yo="10.14.1";function to(ue,U={}){let ce=ue;"object"!=typeof U&&(U={name:U});const Je=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},U),xt=Je.name;if("string"!=typeof xt||!xt)throw Wn.create("bad-app-name",{appName:String(xt)});if(ce||(ce=(0,Be.T9)()),!ce)throw Wn.create("no-options");const kt=jn.get(xt);if(kt){if((0,Be.bD)(ce,kt.options)&&(0,Be.bD)(Je,kt.config))return kt;throw Wn.create("duplicate-app",{appName:xt})}const Zt=new Oe.h1(xt);for(const mr of on.values())Zt.addComponent(mr);const gn=new Tr(ce,Je,Zt);return jn.set(xt,gn),gn}function Io(ue,U){if((0,Be.Bd)()&&!(0,Be.p7)())throw Wn.create("invalid-server-app-environment");let ce;void 0===U.automaticDataCollectionEnabled&&(U.automaticDataCollectionEnabled=!1),ce=Ut(ue)?ue.options:ue;const Je=Object.assign(Object.assign({},U),ce);if(void 0!==Je.releaseOnDeref&&delete Je.releaseOnDeref,void 0!==U.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Wn.create("finalization-registry-not-supported",{});const kt=""+(yn=JSON.stringify(Je),[...yn].reduce((Ma,ls)=>Math.imul(31,Ma)+ls.charCodeAt(0)|0,0)),Zt=sn.get(kt);var yn;if(Zt)return Zt.incRefCount(U.releaseOnDeref),Zt;const gn=new Oe.h1(kt);for(const yn of on.values())gn.addComponent(yn);const mr=new mi(ce,U,kt,gn);return sn.set(kt,mr),mr}function Ra(ue=Cn){const U=jn.get(ue);if(!U&&ue===Cn&&(0,Be.T9)())return to();if(!U)throw Wn.create("no-app",{appName:ue});return U}function Na(){return Array.from(jn.values())}function no(ue){return Do.apply(this,arguments)}function Do(){return(Do=(0,N.A)(function*(ue){let U=!1;const ce=ue.name;jn.has(ce)?(U=!0,jn.delete(ce)):sn.has(ce)&&ue.decRefCount()<=0&&(sn.delete(ce),U=!0),U&&(yield Promise.all(ue.container.getProviders().map(Je=>Je.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function D(ue,U,ce){var Je;let xt=null!==(Je=qt[ue])&&void 0!==Je?Je:ue;ce&&(xt+=`-${ce}`);const kt=xt.match(/\s|\//),Zt=U.match(/\s|\//);if(kt||Zt){const gn=[`Unable to register library "${xt}" with version "${U}":`];return kt&&gn.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),kt&&Zt&&gn.push("and"),Zt&&gn.push(`version name "${U}" contains illegal characters (whitespace or "/")`),void tt.warn(gn.join(" "))}Xt(new Oe.uA(`${xt}-version`,()=>({library:xt,version:U}),"VERSION"))}function w(ue,U){if(null!==ue&&"function"!=typeof ue)throw Wn.create("invalid-log-argument");(0,O.Ey)(ue,U)}function T(ue){(0,O.He)(ue)}const M="firebase-heartbeat-database",L=1,ve="firebase-heartbeat-store";let ke=null;function Tt(){return ke||(ke=function Yn(ue,U,{blocked:ce,upgrade:Je,blocking:xt,terminated:kt}={}){const Zt=indexedDB.open(ue,U),gn=Lt(Zt);return Je&&Zt.addEventListener("upgradeneeded",mr=>{Je(Lt(Zt.result),mr.oldVersion,mr.newVersion,Lt(Zt.transaction),mr)}),ce&&Zt.addEventListener("blocked",mr=>ce(mr.oldVersion,mr.newVersion,mr)),gn.then(mr=>{kt&&mr.addEventListener("close",()=>kt()),xt&&mr.addEventListener("versionchange",yn=>xt(yn.oldVersion,yn.newVersion,yn))}).catch(()=>{}),gn}(M,L,{upgrade:(ue,U)=>{if(0===U)try{ue.createObjectStore(ve)}catch(ce){console.warn(ce)}}}).catch(ue=>{throw Wn.create("idb-open",{originalErrorMessage:ue.message})})),ke}function ct(){return(ct=(0,N.A)(function*(ue){try{const ce=(yield Tt()).transaction(ve),Je=yield ce.objectStore(ve).get(Jn(ue));return yield ce.done,Je}catch(U){if(U instanceof Be.g)tt.warn(U.message);else{const ce=Wn.create("idb-get",{originalErrorMessage:U?.message});tt.warn(ce.message)}}})).apply(this,arguments)}function $n(ue,U){return $e.apply(this,arguments)}function $e(){return($e=(0,N.A)(function*(ue,U){try{const Je=(yield Tt()).transaction(ve,"readwrite");yield Je.objectStore(ve).put(U,Jn(ue)),yield Je.done}catch(ce){if(ce instanceof Be.g)tt.warn(ce.message);else{const Je=Wn.create("idb-set",{originalErrorMessage:ce?.message});tt.warn(Je.message)}}})).apply(this,arguments)}function Jn(ue){return`${ue.name}!${ue.options.appId}`}class At{constructor(U){this.container=U,this._heartbeatsCache=null;const ce=this.container.getProvider("app").getImmediate();this._storage=new gc(ce),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var U=this;return(0,N.A)(function*(){var ce,Je;try{const kt=U.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=Pa();return null==(null===(ce=U._heartbeatsCache)||void 0===ce?void 0:ce.heartbeats)&&(U._heartbeatsCache=yield U._heartbeatsCachePromise,null==(null===(Je=U._heartbeatsCache)||void 0===Je?void 0:Je.heartbeats))||U._heartbeatsCache.lastSentHeartbeatDate===Zt||U._heartbeatsCache.heartbeats.some(gn=>gn.date===Zt)?void 0:(U._heartbeatsCache.heartbeats.push({date:Zt,agent:kt}),U._heartbeatsCache.heartbeats=U._heartbeatsCache.heartbeats.filter(gn=>{const mr=new Date(gn.date).valueOf();return Date.now()-mr<=2592e6}),U._storage.overwrite(U._heartbeatsCache))}catch(xt){tt.warn(xt)}})()}getHeartbeatsHeader(){var U=this;return(0,N.A)(function*(){var ce;try{if(null===U._heartbeatsCache&&(yield U._heartbeatsCachePromise),null==(null===(ce=U._heartbeatsCache)||void 0===ce?void 0:ce.heartbeats)||0===U._heartbeatsCache.heartbeats.length)return"";const Je=Pa(),{heartbeatsToSend:xt,unsentEntries:kt}=function yl(ue,U=1024){const ce=[];let Je=ue.slice();for(const xt of ue){const kt=ce.find(Zt=>Zt.agent===xt.agent);if(kt){if(kt.dates.push(xt.date),mc(ce)>U){kt.dates.pop();break}}else if(ce.push({agent:xt.agent,dates:[xt.date]}),mc(ce)>U){ce.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:ce,unsentEntries:Je}}(U._heartbeatsCache.heartbeats),Zt=(0,Be.Uj)(JSON.stringify({version:2,heartbeats:xt}));return U._heartbeatsCache.lastSentHeartbeatDate=Je,kt.length>0?(U._heartbeatsCache.heartbeats=kt,yield U._storage.overwrite(U._heartbeatsCache)):(U._heartbeatsCache.heartbeats=[],U._storage.overwrite(U._heartbeatsCache)),Zt}catch(Je){return tt.warn(Je),""}})()}}function Pa(){return(new Date).toISOString().substring(0,10)}class gc{constructor(U){this.app=U,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,N.A)(function*(){return!!(0,Be.zW)()&&(0,Be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var U=this;return(0,N.A)(function*(){if(yield U._canUseIndexedDBPromise){const Je=yield function pn(ue){return ct.apply(this,arguments)}(U.app);return Je?.heartbeats?Je:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(U){var ce=this;return(0,N.A)(function*(){var Je;if(yield ce._canUseIndexedDBPromise){const kt=yield ce.read();return $n(ce.app,{lastSentHeartbeatDate:null!==(Je=U.lastSentHeartbeatDate)&&void 0!==Je?Je:kt.lastSentHeartbeatDate,heartbeats:U.heartbeats})}})()}add(U){var ce=this;return(0,N.A)(function*(){var Je;if(yield ce._canUseIndexedDBPromise){const kt=yield ce.read();return $n(ce.app,{lastSentHeartbeatDate:null!==(Je=U.lastSentHeartbeatDate)&&void 0!==Je?Je:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...U.heartbeats]})}})()}}function mc(ue){return(0,Be.Uj)(JSON.stringify({version:2,heartbeats:ue})).length}!function he(ue){Xt(new Oe.uA("platform-logger",U=>new Ue(U),"PRIVATE")),Xt(new Oe.uA("heartbeat",U=>new At(U),"PRIVATE")),D(Ct,wn,ue),D(Ct,wn,"esm2017"),D("fire-js","")}("")},362:(gi,gr,ft)=>{"use strict";ft.d(gr,{h1:()=>Nn,uA:()=>O});var N=ft(467),Oe=ft(76);class O{constructor(_e,Ee,it){this.name=_e,this.instanceFactory=Ee,this.type=it,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const Be="[DEFAULT]";class Vt{constructor(_e,Ee){this.name=_e,this.container=Ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const Ee=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Ee)){const it=new Oe.cY;if(this.instancesDeferred.set(Ee,it),this.isInitialized(Ee)||this.shouldAutoInitialize())try{const St=this.getOrInitializeService({instanceIdentifier:Ee});St&&it.resolve(St)}catch{}}return this.instancesDeferred.get(Ee).promise}getImmediate(_e){var Ee;const it=this.normalizeInstanceIdentifier(_e?.identifier),St=null!==(Ee=_e?.optional)&&void 0!==Ee&&Ee;if(!this.isInitialized(it)&&!this.shouldAutoInitialize()){if(St)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:it})}catch(zt){if(St)return null;throw zt}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function kn(qe){return"EAGER"===qe.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:Be})}catch{}for(const[Ee,it]of this.instancesDeferred.entries()){const St=this.normalizeInstanceIdentifier(Ee);try{const zt=this.getOrInitializeService({instanceIdentifier:St});it.resolve(zt)}catch{}}}}clearInstance(_e=Be){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,N.A)(function*(){const Ee=Array.from(_e.instances.values());yield Promise.all([...Ee.filter(it=>"INTERNAL"in it).map(it=>it.INTERNAL.delete()),...Ee.filter(it=>"_delete"in it).map(it=>it._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=Be){return this.instances.has(_e)}getOptions(_e=Be){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:Ee={}}=_e,it=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(it))throw Error(`${this.name}(${it}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const St=this.getOrInitializeService({instanceIdentifier:it,options:Ee});for(const[zt,Pn]of this.instancesDeferred.entries())it===this.normalizeInstanceIdentifier(zt)&&Pn.resolve(St);return St}onInit(_e,Ee){var it;const St=this.normalizeInstanceIdentifier(Ee),zt=null!==(it=this.onInitCallbacks.get(St))&&void 0!==it?it:new Set;zt.add(_e),this.onInitCallbacks.set(St,zt);const Pn=this.instances.get(St);return Pn&&_e(Pn,St),()=>{zt.delete(_e)}}invokeOnInitCallbacks(_e,Ee){const it=this.onInitCallbacks.get(Ee);if(it)for(const St of it)try{St(_e,Ee)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:Ee={}}){let it=this.instances.get(_e);if(!it&&this.component&&(it=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=_e,qe===Be?void 0:qe),options:Ee}),this.instances.set(_e,it),this.instancesOptions.set(_e,Ee),this.invokeOnInitCallbacks(it,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,it)}catch{}var qe;return it||null}normalizeInstanceIdentifier(_e=Be){return this.component?this.component.multipleInstances?_e:Be:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Nn{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const Ee=this.getProvider(_e.name);if(Ee.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);Ee.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const Ee=new Vt(_e,this);return this.providers.set(_e,Ee),Ee}getProviders(){return Array.from(this.providers.values())}}},41:(gi,gr,ft)=>{"use strict";ft.d(gr,{$b:()=>Oe,Ey:()=>qe,He:()=>Nn,Vy:()=>kn});const N=[];var Oe=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(Oe||{});const O={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Be=Oe.INFO,Vt={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Un=(_e,Ee,...it)=>{if(Ee<_e.logLevel)return;const St=(new Date).toISOString(),zt=Vt[Ee];if(!zt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ee})`);console[zt](`[${St}]  ${_e.name}:`,...it)};class kn{constructor(Ee){this.name=Ee,this._logLevel=Be,this._logHandler=Un,this._userLogHandler=null,N.push(this)}get logLevel(){return this._logLevel}set logLevel(Ee){if(!(Ee in Oe))throw new TypeError(`Invalid value "${Ee}" assigned to \`logLevel\``);this._logLevel=Ee}setLogLevel(Ee){this._logLevel="string"==typeof Ee?O[Ee]:Ee}get logHandler(){return this._logHandler}set logHandler(Ee){if("function"!=typeof Ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ee){this._userLogHandler=Ee}debug(...Ee){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...Ee),this._logHandler(this,Oe.DEBUG,...Ee)}log(...Ee){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...Ee),this._logHandler(this,Oe.VERBOSE,...Ee)}info(...Ee){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...Ee),this._logHandler(this,Oe.INFO,...Ee)}warn(...Ee){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...Ee),this._logHandler(this,Oe.WARN,...Ee)}error(...Ee){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...Ee),this._logHandler(this,Oe.ERROR,...Ee)}}function Nn(_e){N.forEach(Ee=>{Ee.setLogLevel(_e)})}function qe(_e,Ee){for(const it of N){let St=null;Ee&&Ee.level&&(St=O[Ee.level]),it.userLogHandler=null===_e?null:(zt,Pn,...Gt)=>{const _t=Gt.map(Dt=>{if(null==Dt)return null;if("string"==typeof Dt)return Dt;if("number"==typeof Dt||"boolean"==typeof Dt)return Dt.toString();if(Dt instanceof Error)return Dt.message;try{return JSON.stringify(Dt)}catch{return null}}).filter(Dt=>Dt).join(" ");Pn>=(St??zt.logLevel)&&_e({level:Oe[Pn].toLowerCase(),message:_t,args:Gt,type:zt.name})}}}},438:(gi,gr,ft)=>{"use strict";var N=ft(467),Oe=ft(345),O=ft(504),Be=ft(76),kn=(ft(852),ft(41),ft(362));function Nn(){return window}function Ee(){return Ee=(0,N.A)(function*(D,w,T){var M;const{BuildInfo:L}=Nn();(0,O.au)(w.sessionId,"AuthEvent did not contain a session ID");const ve=yield function Dt(D){return cr.apply(this,arguments)}(w.sessionId),ke={};return(0,O.av)()?ke.ibi=L.packageName:(0,O.aw)()?ke.apn=L.packageName:(0,O.ax)(D,"operation-not-supported-in-this-environment"),L.displayName&&(ke.appDisplayName=L.displayName),ke.sessionId=ve,(0,O.ay)(D,T,w.type,void 0,null!==(M=w.eventId)&&void 0!==M?M:void 0,ke)}),Ee.apply(this,arguments)}function St(){return(St=(0,N.A)(function*(D){const{BuildInfo:w}=Nn(),T={};(0,O.av)()?T.iosBundleId=w.packageName:(0,O.aw)()?T.androidPackageName=w.packageName:(0,O.ax)(D,"operation-not-supported-in-this-environment"),yield(0,O.az)(D,T)})).apply(this,arguments)}function Gt(){return(Gt=(0,N.A)(function*(D,w,T){const{cordova:M}=Nn();let L=()=>{};try{yield new Promise((ve,ke)=>{let Tt=null;function pn(){var $e;ve();const Jn=null===($e=M.plugins.browsertab)||void 0===$e?void 0:$e.close;"function"==typeof Jn&&Jn(),"function"==typeof T?.close&&T.close()}function ct(){Tt||(Tt=window.setTimeout(()=>{ke((0,O.aB)(D,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===document?.visibilityState&&ct()}w.addPassiveListener(pn),document.addEventListener("resume",ct,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",$n,!1),L=()=>{w.removePassiveListener(pn),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",$n,!1),Tt&&window.clearTimeout(Tt)}})}finally{L()}})).apply(this,arguments)}function cr(){return(cr=(0,N.A)(function*(D){const w=function Fn(D){if((0,O.au)(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const w=new ArrayBuffer(D.length),T=new Uint8Array(w);for(let M=0;M<D.length;M++)T[M]=D.charCodeAt(M);return T}(D),T=yield crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(T)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Bt extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(w=>{this.resolveInitialized=w})}addPassiveListener(w){this.passiveListeners.add(w)}removePassiveListener(w){this.passiveListeners.delete(w)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(w){return this.resolveInitialized(),this.passiveListeners.forEach(T=>T(w)),super.onEvent(w)}initialized(){var w=this;return(0,N.A)(function*(){yield w.initPromise})()}}function W(D){return Z.apply(this,arguments)}function Z(){return(Z=(0,N.A)(function*(D){const w=yield Ue()._get(nt(D));return w&&(yield Ue()._remove(nt(D))),w})).apply(this,arguments)}function Fe(){const D=[];for(let T=0;T<20;T++){const M=Math.floor(62*Math.random());D.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(M))}return D.join("")}function Ue(){return(0,O.aE)(O.b)}function nt(D){return(0,O.aF)("authEvent",D.config.apiKey,D.name)}function tt(D){if(!D?.includes("?"))return{};const[w,...T]=D.split("?");return(0,Be.I9)(T.join("?"))}const mt=class ln{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(w){var T=this;return(0,N.A)(function*(){const M=w._key();let L=T.eventManagers.get(M);return L||(L=new Bt(w),T.eventManagers.set(M,L),T.attachCallbackListeners(w,L)),L})()}_openPopup(w){(0,O.ax)(w,"operation-not-supported-in-this-environment")}_openRedirect(w,T,M,L){var ve=this;return(0,N.A)(function*(){!function _t(D){var w,T,M,L,ve,ke,Tt,pn,ct,$n;const $e=Nn();(0,O.aC)("function"==typeof(null===(w=$e?.universalLinks)||void 0===w?void 0:w.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(T=$e?.BuildInfo)||void 0===T?void 0:T.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(ve=null===(L=null===(M=$e?.cordova)||void 0===M?void 0:M.plugins)||void 0===L?void 0:L.browsertab)||void 0===ve?void 0:ve.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(pn=null===(Tt=null===(ke=$e?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===pn?void 0:pn.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===($n=null===(ct=$e?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===$n?void 0:$n.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(w);const ke=yield ve._initialize(w);yield ke.initialized(),ke.resetRedirect(),(0,O.aI)(),yield ve._originValidation(w);const Tt=function Yn(D,w,T=null){return{type:w,eventId:T,urlResponse:null,sessionId:Fe(),postBody:null,tenantId:D.tenantId,error:(0,O.aB)(D,"no-auth-event")}}(w,M,L);yield function pt(D,w){return Ue()._set(nt(D),w)}(w,Tt);const pn=yield function _e(D,w,T){return Ee.apply(this,arguments)}(w,Tt,T),ct=yield function zt(D){const{cordova:w}=Nn();return new Promise(T=>{w.plugins.browsertab.isAvailable(M=>{let L=null;M?w.plugins.browsertab.openUrl(D):L=w.InAppBrowser.open(D,(0,O.aA)()?"_blank":"_system","location=yes"),T(L)})})}(pn);return function Pn(D,w,T){return Gt.apply(this,arguments)}(w,ke,ct)})()}_isIframeWebStorageSupported(w,T){throw new Error("Method not implemented.")}_originValidation(w){const T=w._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function it(D){return St.apply(this,arguments)}(w)),this.originValidationPromises[T]}attachCallbackListeners(w,T){const{universalLinks:M,handleOpenURL:L,BuildInfo:ve}=Nn(),ke=setTimeout((0,N.A)(function*(){yield W(w),T.onEvent(re())}),500),Tt=function(){var $n=(0,N.A)(function*($e){clearTimeout(ke);const Jn=yield W(w);let ws=null;Jn&&$e?.url&&(ws=function G(D,w){var T,M;const L=function wn(D){const w=tt(D),T=w.link?decodeURIComponent(w.link):void 0,M=tt(T).link,L=w.deep_link_id?decodeURIComponent(w.deep_link_id):void 0;return tt(L).link||L||M||T||D}(w);if(L.includes("/__/auth/callback")){const ve=tt(L),ke=ve.firebaseError?function Ct(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,Tt=null===(M=null===(T=ke?.code)||void 0===T?void 0:T.split("auth/"))||void 0===M?void 0:M[1],pn=Tt?(0,O.aB)(Tt):null;return pn?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:L,postBody:null}}return null}(Jn,$e.url)),T.onEvent(ws||re())});return function(Jn){return $n.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,Tt);const pn=L,ct=`${ve.packageName.toLowerCase()}://`;Nn().handleOpenURL=function(){var $n=(0,N.A)(function*($e){if($e.toLowerCase().startsWith(ct)&&Tt({url:$e}),"function"==typeof pn)try{pn($e)}catch(Jn){console.error(Jn)}});return function($e){return $n.apply(this,arguments)}}()}};function re(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}function ae(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function xe(D=(0,Be.ZQ)()){return!("file:"!==ae()&&"ionic:"!==ae()&&"capacitor:"!==ae()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function fn(){try{const D=self.localStorage,w=O.aN();if(D)return D.setItem(w,"1"),D.removeItem(w),!function wt(D=(0,Be.ZQ)()){return function Ce(){return(0,Be.lT)()&&11===document?.documentMode}()||function dt(D=(0,Be.ZQ)()){return/Edge\/\d+/.test(D)}(D)}()||(0,Be.zW)()}catch{return at()&&(0,Be.zW)()}return!1}function at(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function q(){return(function ze(){return"http:"===ae()||"https:"===ae()}()||(0,Be.sr)()||xe())&&!function Et(){return(0,Be.lV)()||(0,Be.Ll)()}()&&fn()&&!at()}function j(){return xe()&&typeof document<"u"}function ge(){return(ge=(0,N.A)(function*(){return!!j()&&new Promise(D=>{const w=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(w),D(!0)})})})).apply(this,arguments)}const we={LOCAL:"local",NONE:"none",SESSION:"session"},Wt=O.aC,Nt="persistence";function Mt(D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.A)(function*(D){yield D._initializationPromise;const w=jn(),T=O.aF(Nt,D.config.apiKey,D.name);w&&w.setItem(T,D._getPersistence())})).apply(this,arguments)}function jn(){var D;try{return(null===(D=function Me(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const sn=O.aC;class on{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE(mt),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(w){var T=this;return(0,N.A)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._initialize(w)})()}_openPopup(w,T,M,L){var ve=this;return(0,N.A)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(w,T,M,L)})()}_openRedirect(w,T,M,L){var ve=this;return(0,N.A)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(w,T,M,L)})()}_isIframeWebStorageSupported(w,T){this.assertedUnderlyingResolver._isIframeWebStorageSupported(w,T)}_originValidation(w){return this.assertedUnderlyingResolver._originValidation(w)}get _shouldInitProactively(){return j()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var w=this;return(0,N.A)(function*(){if(w.underlyingResolver)return;const T=yield function te(){return ge.apply(this,arguments)}();w.underlyingResolver=T?w.cordovaResolver:w.browserResolver})()}}function Jt(D){return D.unwrap()}function Xt(D){return Yr(D)}function Yr(D){const{_tokenResponse:w}=D instanceof Be.g?D.customData:D;if(!w)return null;if(!(D instanceof Be.g)&&"temporaryProof"in w&&"phoneNumber"in w)return O.P.credentialFromResult(D);const T=w.providerId;if(!T||T===O.p.PASSWORD)return null;let M;switch(T){case O.p.GOOGLE:M=O.X;break;case O.p.FACEBOOK:M=O.W;break;case O.p.GITHUB:M=O.Y;break;case O.p.TWITTER:M=O.$;break;default:const{oauthIdToken:L,oauthAccessToken:ve,oauthTokenSecret:ke,pendingToken:Tt,nonce:pn}=w;return ve||ke||L||Tt?Tt?T.startsWith("saml.")?O.aQ._create(T,Tt):O.N._fromParams({providerId:T,signInMethod:T,pendingToken:Tt,idToken:L,accessToken:ve}):new O.Z(T).credential({idToken:L,accessToken:ve,rawNonce:pn}):null}return D instanceof Be.g?M.credentialFromError(D):M.credentialFromResult(D)}function Ut(D,w){return w.catch(T=>{throw T instanceof Be.g&&function ur(D,w){var T;const M=null===(T=w.customData)||void 0===T?void 0:T._tokenResponse;if("auth/multi-factor-auth-required"===w?.code)w.resolver=new eo(D,O.as(D,w));else if(M){const L=Yr(w),ve=w;L&&(ve.credential=L,ve.tenantId=M.tenantId||void 0,ve.email=M.email||void 0,ve.phoneNumber=M.phoneNumber||void 0)}}(D,T),T}).then(T=>{const L=T.user;return{operationType:T.operationType,credential:Xt(T),additionalUserInfo:O.aq(T),user:Wn.getOrCreate(L)}})}function Si(D,w){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,N.A)(function*(D,w){const T=yield w;return{verificationId:T.verificationId,confirm:M=>Ut(D,T.confirm(M))}})).apply(this,arguments)}class eo{constructor(w,T){this.resolver=T,this.auth=function Kt(D){return D.wrapped()}(w)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(w){return Ut(Jt(this.auth),this.resolver.resolveSignIn(w))}}class Wn{constructor(w){this._delegate=w,this.multiFactor=O.at(w)}static getOrCreate(w){return Wn.USER_MAP.has(w)||Wn.USER_MAP.set(w,new Wn(w)),Wn.USER_MAP.get(w)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(w){return this._delegate.getIdTokenResult(w)}getIdToken(w){return this._delegate.getIdToken(w)}linkAndRetrieveDataWithCredential(w){return this.linkWithCredential(w)}linkWithCredential(w){var T=this;return(0,N.A)(function*(){return Ut(T.auth,O.a2(T._delegate,w))})()}linkWithPhoneNumber(w,T){var M=this;return(0,N.A)(function*(){return Si(M.auth,O.l(M._delegate,w,T))})()}linkWithPopup(w){var T=this;return(0,N.A)(function*(){return Ut(T.auth,O.d(T._delegate,w,on))})()}linkWithRedirect(w){var T=this;return(0,N.A)(function*(){return yield Mt(O.aJ(T.auth)),O.g(T._delegate,w,on)})()}reauthenticateAndRetrieveDataWithCredential(w){return this.reauthenticateWithCredential(w)}reauthenticateWithCredential(w){var T=this;return(0,N.A)(function*(){return Ut(T.auth,O.a3(T._delegate,w))})()}reauthenticateWithPhoneNumber(w,T){return Si(this.auth,O.r(this._delegate,w,T))}reauthenticateWithPopup(w){return Ut(this.auth,O.e(this._delegate,w,on))}reauthenticateWithRedirect(w){var T=this;return(0,N.A)(function*(){return yield Mt(O.aJ(T.auth)),O.h(T._delegate,w,on)})()}sendEmailVerification(w){return O.ag(this._delegate,w)}unlink(w){var T=this;return(0,N.A)(function*(){return yield O.ap(T._delegate,w),T})()}updateEmail(w){return O.al(this._delegate,w)}updatePassword(w){return O.am(this._delegate,w)}updatePhoneNumber(w){return O.u(this._delegate,w)}updateProfile(w){return O.ak(this._delegate,w)}verifyBeforeUpdateEmail(w,T){return O.ah(this._delegate,w,T)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wn.USER_MAP=new WeakMap;const Tr=O.aC;let mi=(()=>{class D{constructor(T,M){if(this.app=T,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=T.options;Tr(L,"invalid-api-key",{appName:T.name}),Tr(L,"invalid-api-key",{appName:T.name});const ve=typeof window<"u"?on:void 0;this._delegate=M.initialize({options:{persistence:to(L,T.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(T){this._delegate.languageCode=T}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(T){this._delegate.tenantId=T}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(T,M){O.K(this._delegate,T,M)}applyActionCode(T){return O.a7(this._delegate,T)}checkActionCode(T){return O.a8(this._delegate,T)}confirmPasswordReset(T,M){return O.a6(this._delegate,T,M)}createUserWithEmailAndPassword(T,M){var L=this;return(0,N.A)(function*(){return Ut(L._delegate,O.aa(L._delegate,T,M))})()}fetchProvidersForEmail(T){return this.fetchSignInMethodsForEmail(T)}fetchSignInMethodsForEmail(T){return O.af(this._delegate,T)}isSignInWithEmailLink(T){return O.ad(this._delegate,T)}getRedirectResult(){var T=this;return(0,N.A)(function*(){Tr(q(),T._delegate,"operation-not-supported-in-this-environment");const M=yield O.j(T._delegate,on);return M?Ut(T._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(T){!function K(D,w){(0,O.aJ)(D)._logFramework(w)}(this._delegate,T)}onAuthStateChanged(T,M,L){const{next:ve,error:ke,complete:Tt}=Yo(T,M,L);return this._delegate.onAuthStateChanged(ve,ke,Tt)}onIdTokenChanged(T,M,L){const{next:ve,error:ke,complete:Tt}=Yo(T,M,L);return this._delegate.onIdTokenChanged(ve,ke,Tt)}sendSignInLinkToEmail(T,M){return O.ac(this._delegate,T,M)}sendPasswordResetEmail(T,M){return O.a5(this._delegate,T,M||void 0)}setPersistence(T){var M=this;return(0,N.A)(function*(){let L;switch(function gt(D,w){Wt(Object.values(we).includes(w),D,"invalid-persistence-type"),(0,Be.lV)()?Wt(w!==we.SESSION,D,"unsupported-persistence-type"):(0,Be.Ll)()?Wt(w===we.NONE,D,"unsupported-persistence-type"):at()?Wt(w===we.NONE||w===we.LOCAL&&(0,Be.zW)(),D,"unsupported-persistence-type"):Wt(w===we.NONE||fn(),D,"unsupported-persistence-type")}(M._delegate,T),T){case we.SESSION:L=O.a;break;case we.LOCAL:L=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case we.NONE:L=O.U;break;default:return O.ax("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(T){return this.signInWithCredential(T)}signInAnonymously(){return Ut(this._delegate,O.a0(this._delegate))}signInWithCredential(T){return Ut(this._delegate,O.a1(this._delegate,T))}signInWithCustomToken(T){return Ut(this._delegate,O.a4(this._delegate,T))}signInWithEmailAndPassword(T,M){return Ut(this._delegate,O.ab(this._delegate,T,M))}signInWithEmailLink(T,M){return Ut(this._delegate,O.ae(this._delegate,T,M))}signInWithPhoneNumber(T,M){return Si(this._delegate,O.s(this._delegate,T,M))}signInWithPopup(T){var M=this;return(0,N.A)(function*(){return Tr(q(),M._delegate,"operation-not-supported-in-this-environment"),Ut(M._delegate,O.c(M._delegate,T,on))})()}signInWithRedirect(T){var M=this;return(0,N.A)(function*(){return Tr(q(),M._delegate,"operation-not-supported-in-this-environment"),yield Mt(M._delegate),O.f(M._delegate,T,on)})()}updateCurrentUser(T){return this._delegate.updateCurrentUser(T)}verifyPasswordResetCode(T){return O.a9(this._delegate,T)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=we,D})();function Yo(D,w,T){let M=D;"function"!=typeof D&&({next:M,error:w,complete:T}=D);const L=M;return{next:ke=>L(ke&&Wn.getOrCreate(ke)),error:w,complete:T}}function to(D,w){const T=function qt(D,w){const T=jn();if(!T)return[];const M=O.aF(Nt,D,w);switch(T.getItem(M)){case we.NONE:return[O.U];case we.LOCAL:return[O.i,O.a];case we.SESSION:return[O.a];default:return[]}}(D,w);if(typeof self<"u"&&!T.includes(O.i)&&T.push(O.i),typeof window<"u")for(const M of[O.b,O.a])T.includes(M)||T.push(M);return T.includes(O.U)||T.push(O.U),T}class Io{constructor(){this.providerId="phone",this._delegate=new O.P(Jt(Oe.A.auth()))}static credential(w,T){return O.P.credential(w,T)}verifyPhoneNumber(w,T){return this._delegate.verifyPhoneNumber(w,T)}unwrap(){return this._delegate}}Io.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Io.PROVIDER_ID=O.P.PROVIDER_ID;const Ra=O.aC;class Na{constructor(w,T,M=Oe.A.app()){var L;Ra(null===(L=M.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new O.R(M.auth(),w,T),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Do(D){D.INTERNAL.registerComponent(new kn.uA("auth-compat",w=>{const T=w.getProvider("app-compat").getImmediate(),M=w.getProvider("auth");return new mi(T,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:Io,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:Na,TwitterAuthProvider:O.$,Auth:mi,AuthCredential:O.L,Error:Be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.5.14")}(Oe.A)},467:(gi,gr,ft)=>{"use strict";function N(O,Be,Vt,Un,kn,Nn,qe){try{var _e=O[Nn](qe),Ee=_e.value}catch(it){return void Vt(it)}_e.done?Be(Ee):Promise.resolve(Ee).then(Un,kn)}function Oe(O){return function(){var Be=this,Vt=arguments;return new Promise(function(Un,kn){var Nn=O.apply(Be,Vt);function qe(Ee){N(Nn,Un,kn,qe,_e,"next",Ee)}function _e(Ee){N(Nn,Un,kn,qe,_e,"throw",Ee)}qe(void 0)})}}ft.d(gr,{A:()=>Oe})},635:(gi,gr,ft)=>{"use strict";function Be(re,K){var J={};for(var ee in re)Object.prototype.hasOwnProperty.call(re,ee)&&K.indexOf(ee)<0&&(J[ee]=re[ee]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(ee=Object.getOwnPropertySymbols(re);oe<ee.length;oe++)K.indexOf(ee[oe])<0&&Object.prototype.propertyIsEnumerable.call(re,ee[oe])&&(J[ee[oe]]=re[ee[oe]])}return J}function it(re,K,J,ee){return new(J||(J=Promise))(function(ae,ze){function xe(dt){try{Ce(ee.next(dt))}catch(wt){ze(wt)}}function Et(dt){try{Ce(ee.throw(dt))}catch(wt){ze(wt)}}function Ce(dt){dt.done?ae(dt.value):function oe(ae){return ae instanceof J?ae:new J(function(ze){ze(ae)})}(dt.value).then(xe,Et)}Ce((ee=ee.apply(re,K||[])).next())})}function Lt(re){return this instanceof Lt?(this.v=re,this):new Lt(re)}function Bt(re,K,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ee=J.apply(re,K||[]),ae=[];return oe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),xe("next"),xe("throw"),xe("return",function ze(at){return function(q){return Promise.resolve(q).then(at,wt)}}),oe[Symbol.asyncIterator]=function(){return this},oe;function xe(at,q){ee[at]&&(oe[at]=function(j){return new Promise(function(te,ge){ae.push([at,j,te,ge])>1||Et(at,j)})},q&&(oe[at]=q(oe[at])))}function Et(at,q){try{!function Ce(at){at.value instanceof Lt?Promise.resolve(at.value.v).then(dt,wt):fn(ae[0][2],at)}(ee[at](q))}catch(j){fn(ae[0][3],j)}}function dt(at){Et("next",at)}function wt(at){Et("throw",at)}function fn(at,q){at(q),ae.shift(),ae.length&&Et(ae[0][0],ae[0][1])}}function pt(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,K=re[Symbol.asyncIterator];return K?K.call(re):(re=function Gt(re){var K="function"==typeof Symbol&&Symbol.iterator,J=K&&re[K],ee=0;if(J)return J.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ee>=re.length&&(re=void 0),{value:re&&re[ee++],done:!re}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),J={},ee("next"),ee("throw"),ee("return"),J[Symbol.asyncIterator]=function(){return this},J);function ee(ae){J[ae]=re[ae]&&function(ze){return new Promise(function(xe,Et){!function oe(ae,ze,xe,Et){Promise.resolve(Et).then(function(Ce){ae({value:Ce,done:xe})},ze)}(xe,Et,(ze=re[ae](ze)).done,ze.value)})}}}ft.d(gr,{AQ:()=>Bt,N3:()=>Lt,Tt:()=>Be,sH:()=>it,xN:()=>pt}),"function"==typeof SuppressedError&&SuppressedError}},gi=>{var gr=N=>gi(gi.s=N);gr(73),gr(151)}]);